/*! For license information please see main.54864c4f.js.LICENSE.txt */
(()=>{var e={892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",s="minute",a="hour",o="day",l="week",u="month",c="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),s=n-i<0,a=t.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:o,D:h,h:a,m:s,s:i,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=g;var _=function(e){return e instanceof x},S=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();w[s]&&(i=s),n&&(w[s]=n,i=s);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var o=t.name;w[o]=t,i=o}return!r&&i&&(b=i),i||!r&&b},k=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new x(n)},E=y;E.l=S,E.i=_,E.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return E},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return k(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<k(e)},v.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!E.u(t)||t,c=E.p(e),f=function(e,t){var i=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(o)},p=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case d:return r?f(1,0):f(31,11);case u:return r?f(1,g):f(0,g+1);case l:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return f(r?v-w:v+(6-w),g);case o:case h:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case s:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=E.p(e),c="set"+(this.$u?"UTC":""),f=(n={},n[o]=c+"Date",n[h]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[a]=c+"Hours",n[s]=c+"Minutes",n[i]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],p=l===o?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[E.p(e)]()},v.add=function(r,c){var h,f=this;r=Number(r);var p=E.p(c),m=function(e){var t=k(f);return E.w(t.date(t.date()+Math.round(e*r)),f)};if(p===u)return this.set(u,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===o)return m(1);if(p===l)return m(7);var g=(h={},h[s]=t,h[a]=n,h[i]=e,h)[p]||1,v=this.$d.getTime()+r*g;return E.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),s=this.$H,a=this.$m,o=this.$M,l=n.weekdays,u=n.months,c=function(e,n,i,s){return e&&(e[n]||e(t,r))||i[n].slice(0,s)},d=function(e){return E.s(s%12||12,e,"0")},h=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:E.s(o+1,2,"0"),MMM:c(n.monthsShort,o,u,3),MMMM:c(u,o),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,l,2),ddd:c(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:E.s(s,2,"0"),h:d(1),hh:d(2),a:h(s,a,!0),A:h(s,a,!1),m:String(a),mm:E.s(a,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(e,t){return t||p[e]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,f){var p,m=E.p(h),g=k(r),v=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=E.m(this,g);return b=(p={},p[d]=b/12,p[u]=b,p[c]=b/3,p[l]=(y-v)/6048e5,p[o]=(y-v)/864e5,p[a]=y/n,p[s]=y/t,p[i]=y/e,p)[m]||y,f?b:E.a(b)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return E.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),T=x.prototype;return k.prototype=T,[["$ms",r],["$s",i],["$m",s],["$H",a],["$W",o],["$M",u],["$y",d],["$D",h]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,x,k),e.$i=!0),k},k.locale=S,k.isDayjs=_,k.unix=function(e){return k(1e3*e)},k.en=w[b],k.Ls=w,k.p={},k}()},25:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}};return n.default.locale(r,null,!0),r}(n(892))},808:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},a=function(e){return(e=+e)+(e>68?1900:2e3)},o=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(e,t){var n,r=s.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[i,function(e){this.afternoon=c(e,!1)}],a:[i,function(e){this.afternoon=c(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,o("seconds")],ss:[r,o("seconds")],m:[r,o("minutes")],mm:[r,o("minutes")],H:[r,o("hours")],h:[r,o("hours")],HH:[r,o("hours")],hh:[r,o("hours")],D:[r,o("day")],DD:[n,o("day")],Do:[i,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,o("month")],MM:[n,o("month")],MMM:[i,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,o("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,o("year")],Z:l,ZZ:l};function h(n){var r,i;r=n,i=s&&s.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var s=r&&r.toUpperCase();return n||i[r]||e[r]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),o=a.length,l=0;l<o;l+=1){var u=a[l],c=d[u],h=c&&c[0],f=c&&c[1];a[l]=f?{regex:h,parser:f}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<o;n+=1){var i=a[n];if("string"==typeof i)r+=i.length;else{var s=i.regex,l=i.parser,u=e.slice(r),c=s.exec(u)[0];l.call(t,c),e=e.replace(c,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var o=a[1];if("string"==typeof o){var l=!0===a[2],u=!0===a[3],c=l||u,d=a[2];u&&(d=a[2]),s=this.$locale(),!l&&d&&(s=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=h(t)(e),i=r.year,s=r.month,a=r.day,o=r.hours,l=r.minutes,u=r.seconds,c=r.milliseconds,d=r.zone,f=new Date,p=a||(i||s?1:f.getDate()),m=i||f.getFullYear(),g=0;i&&!s||(g=s>0?s-1:f.getMonth());var v=o||0,y=l||0,b=u||0,w=c||0;return d?new Date(Date.UTC(m,g,p,v,y,b,w+60*d.offset*1e3)):n?new Date(Date.UTC(m,g,p,v,y,b,w)):new Date(m,g,p,v,y,b,w)}catch(e){return new Date("")}}(t,o,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),c&&t!=this.format(o)&&(this.$d=new Date("")),s={}}else if(o instanceof Array)for(var f=o.length,p=1;p<=f;p+=1){a[1]=o[p-1];var m=n.apply(this,a);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===f&&(this.$d=new Date(""))}else i.call(this,e)}}}()},818:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var s=n(e),a=n(t),o="("===(i=i||"()")[0],l=")"===i[1];return(o?this.isAfter(s,r):!this.isBefore(s,r))&&(l?this.isBefore(a,r):!this.isAfter(a,r))||(o?this.isBefore(s,r):!this.isAfter(s,r))&&(l?this.isAfter(a,r):!this.isBefore(a,r))}}}()},216:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(n,r,i){var s=r.prototype;s.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var s=i(this).startOf(t).add(1,t).date(r),a=i(this).endOf(e);if(s.isBefore(a))return 1}var o=i(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(o,e,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},s.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},334:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,n=this.$W,r=(n<t?n+7:n)-t;return this.$utils().u(e)?r:this.subtract(r,"day").add(e,"day")}}}()},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case x:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return $(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function xe(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ce(e,t){return e(t)}function De(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==ke||null!==Ee)&&(De(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Re=!1}function Me(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,je=e}};function Be(e,t,n,r,i,s,a,o,l){Le=!1,je=null,Me.apply(Ve,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if($e(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,kt,Et,xt,Tt=!1,It=[],Ct=null,Dt=null,Nt=null,At=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void xt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Dt&&Ft(Dt)&&(Dt=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function $t(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Dt&&Bt(Dt,e),null!==Nt&&Bt(Nt,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var zt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Gt(e,t,n,r){var i=bt,s=zt.transition;zt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,zt.transition=s}}function Yt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,Wt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Dt=Lt(Dt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Kt(e,t,n,r))&&Hr(e,t,r,Wt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Wt=null;function Kt(e,t,n,r){if(Wt=null,null!==(e=yi(e=_e(r))))if(null===(t=$e(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),dn=j({},un,{view:0,detail:0}),hn=sn(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},dn,{relatedTarget:0})),vn=sn(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(j({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return En}var Tn=j({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Tn),Cn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Nn=sn(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(An),Rn=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,jn=c&&(!On||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function Wn(e){Fr(e,0)}function Kn(e){if(Y(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Yn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];qn(t,Yn,e,_e(e)),Ae(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function sr(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==W(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Er={};function xr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=xr("animationend"),Ir=xr("animationiteration"),Cr=xr("animationstart"),Dr=xr("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Or=Ar[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Dr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,u){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=je;Le=!1,je=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,u),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=_e(n),a=[];e:{var o=Nr.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Tr:case Ir:case Cr:l=vn;break;case Dr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&c.push(qr(p,m,f)))),d)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==u?o:wi(u),(o=new c(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)c=Yr(c),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Yr(c),h=Yr(h)}c=null}else c=null;null!==l&&Wr(a,o,l,c,!1),null!==u&&null!==d&&Wr(a,d,u,c,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,$n=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Pe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Pe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$t(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function xi(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ti(e,t){ki++,Si[ki]=e.current,e.current=t}var Ii={},Ci=Ei(Ii),Di=Ei(!1),Ni=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){xi(Di),xi(Ci)}function Oi(e,t,n){if(Ci.current!==Ii)throw Error(s(168));Ti(Ci,t),Ti(Di,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=Ci.current,Ti(Ci,e),Ti(Di,Di.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,xi(Di),xi(Ci),Ti(Ci,e)):xi(Di),Ti(Di,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function $i(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye(Ze,$i),i}finally{bt=t,Vi=!1}}return null}var zi=w.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qi=Ei(null),Gi=null,Yi=null,Wi=null;function Ki(){Wi=Yi=Gi=null}function Qi(e){var t=qi.current;xi(qi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,Wi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Wi!==e)if(e={context:e,memoizedValue:t,next:null},null===Yi){if(null===Gi)throw Error(s(308));Yi=e,Gi.dependencies={lanes:0,firstContext:e}}else Yi=Yi.next=e;return t}var es=null,ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ss(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tu(e)?(null===(e=n.interleaved)?(t.next=t,null===es?es=[n]:es.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function as(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ls(e,t,n,r){var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,c=u=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:ts=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var cs=(new r.Component).refs;function ds(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Jl(e),s=is(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ss(e,s),null!==(t=Zl(e,i,r))&&as(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Jl(e),s=is(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ss(e,s),null!==(t=Zl(e,i,r))&&as(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xl(),r=Jl(e),i=is(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ss(e,i),null!==(t=Zl(e,r,n))&&as(t,e,r)}};function fs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function ps(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Zi(s):(i=Pi(t)?Ni:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=hs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function gs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=cs,ns(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Zi(s):(s=Pi(t)?Ni:Ci.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ds(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&hs.enqueueReplaceState(i,i.state,null),ls(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var vs=[],ys=0,bs=null,ws=0,_s=[],Ss=0,ks=null,Es=1,xs="";function Ts(e,t){vs[ys++]=ws,vs[ys++]=bs,bs=e,ws=t}function Is(e,t,n){_s[Ss++]=Es,_s[Ss++]=xs,_s[Ss++]=ks,ks=e;var r=Es;e=xs;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Es=1<<32-at(t)+i|n<<i|r,xs=s+e}else Es=1<<s|n<<i|r,xs=e}function Cs(e){null!==e.return&&(Ts(e,1),Is(e,1,0))}function Ds(e){for(;e===bs;)bs=vs[--ys],vs[ys]=null,ws=vs[--ys],vs[ys]=null;for(;e===ks;)ks=_s[--Ss],_s[Ss]=null,xs=_s[--Ss],_s[Ss]=null,Es=_s[--Ss],_s[Ss]=null}var Ns=null,As=null,Ps=!1,Rs=null;function Os(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ms(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ns=e,As=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ns=e,As=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ks?{id:Es,overflow:xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ns=e,As=null,!0);default:return!1}}function Ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function js(e){if(Ps){var t=As;if(t){var n=t;if(!Ms(e,t)){if(Ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=Ns;t&&Ms(e,t)?Os(r,n):(e.flags=-4097&e.flags|2,Ps=!1,Ns=e)}}else{if(Ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,Ps=!1,Ns=e}}}function Fs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ns=e}function Us(e){if(e!==Ns)return!1;if(!Ps)return Fs(e),Ps=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=As)){if(Ls(e)){for(e=As;e;)e=ui(e.nextSibling);throw Error(s(418))}for(;t;)Os(e,t),t=ui(t.nextSibling)}if(Fs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){As=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}As=null}}else As=Ns?ui(e.stateNode.nextSibling):null;return!0}function Vs(){As=Ns=null,Ps=!1}function Bs(e){null===Rs?Rs=[e]:Rs.push(e)}function $s(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===cs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hs(e){return(0,e._init)(e._payload)}function qs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Hs(s)===t.type)?((r=i(t,n.props)).ref=$s(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=$s(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=$s(e,null,t),n.return=e,n;case S:return(t=ju(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ou(t,e.mode,n,null)).return=e,t;zs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);zs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);zs(t,r)}return null}function m(i,s,o,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===o.length)return n(i,d),Ps&&Ts(i,m),u;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===c?u=d:c.sibling=d,c=d);return Ps&&Ts(i,m),u}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),Ps&&Ts(i,m),u}function g(i,o,l,u){var c=M(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),Ps&&Ts(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,u))&&(o=a(y,o,g),null===d?c=y:d.sibling=y,d=y);return Ps&&Ts(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),Ps&&Ts(i,g),c}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var u=a.key,c=s;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Hs(u)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=$s(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((s=Ou(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Ru(a.type,a.key,a.props,null,r.mode,l)).ref=$s(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=ju(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(c=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(M(a))return g(r,s,a,l);zs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lu(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Gs=qs(!0),Ys=qs(!1),Ws={},Ks=Ei(Ws),Qs=Ei(Ws),Xs=Ei(Ws);function Js(e){if(e===Ws)throw Error(s(174));return e}function Zs(e,t){switch(Ti(Xs,t),Ti(Qs,e),Ti(Ks,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ks),Ti(Ks,t)}function ea(){xi(Ks),xi(Qs),xi(Xs)}function ta(e){Js(Xs.current);var t=Js(Ks.current),n=le(t,e.type);t!==n&&(Ti(Qs,e),Ti(Ks,n))}function na(e){Qs.current===e&&(xi(Ks),xi(Qs))}var ra=Ei(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function aa(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ua=0,ca=null,da=null,ha=null,fa=!1,pa=!1,ma=0,ga=0;function va(){throw Error(s(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,i,a){if(ua=a,ca=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,i),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(s(301));a+=1,ha=da=null,t.updateQueue=null,oa.current=io,e=n(r,i)}while(pa)}if(oa.current=to,t=null!==da&&null!==da.next,ua=0,ha=da=ca=null,fa=!1,t)throw Error(s(300));return e}function wa(){var e=0!==ma;return ma=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ha?ca.memoizedState=ha=e:ha=ha.next=e,ha}function Sa(){if(null===da){var e=ca.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===ha?ca.memoizedState:ha.next;if(null!==t)ha=t,da=e;else{if(null===e)throw Error(s(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===ha?ca.memoizedState=ha=e:ha=ha.next=e}return ha}function ka(e,t){return"function"===typeof t?t(e):t}function Ea(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=da,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var d=c.lane;if((ua&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,o=r):u=u.next=h,ca.lanes|=d,Rl|=d}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=l,or(r,t.memoizedState)||(_o=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ca.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(_o=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(){}function Ia(e,t){var n=ca,r=Sa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,_o=!0),r=r.queue,Fa(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ha&&1&ha.memoizedState.tag){if(n.flags|=2048,Ra(9,Da.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&ua)||Ca(n,t,i)}return i}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Zl(e,1,-1)}function Na(e,t,n){return n((function(){Aa(t)&&Zl(e,1,-1)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Pa(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,ca,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ca.updateQueue)?(t={lastEffect:null,stores:null},ca.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return Sa().memoizedState}function Ma(e,t,n,r){var i=_a();ca.flags|=e,i.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var i=Sa();r=void 0===r?null:r;var s=void 0;if(null!==da){var a=da.memoizedState;if(s=a.destroy,null!==r&&ya(r,a.deps))return void(i.memoizedState=Ra(t,n,s,r))}ca.flags|=e,i.memoizedState=Ra(1|t,n,s,r)}function ja(e,t){return Ma(8390656,8,e,t)}function Fa(e,t){return La(2048,8,e,t)}function Ua(e,t){return La(4,2,e,t)}function Va(e,t){return La(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4,4,Ba.bind(null,t,e),n)}function za(){}function Ha(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ca.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{bt=n,la.transition=r}}function Wa(){return Sa().memoizedState}function Ka(e,t,n){var r=Jl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e)?Ja(t,n):(Za(e,t,n),null!==(e=Zl(e,r,n=Xl()))&&eo(e,t,r))}function Qa(e,t,n){var r=Jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Ja(t,i);else{Za(e,t,i);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a))return}catch(l){}null!==(e=Zl(e,r,n=Xl()))&&eo(e,t,r)}}function Xa(e){var t=e.alternate;return e===ca||null!==t&&t===ca}function Ja(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){tu(e)?(null===(e=t.interleaved)?(n.next=n,null===es?es=[t]:es.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var to={readContext:Zi,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},no={readContext:Zi,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,ca,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Pa,useDebugValue:za,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Ya.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ca,i=_a();if(Ps){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&ua)||Ca(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ja(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Tl.identifierPrefix;if(Ps){var n=xs;t=":"+t+"R"+(n=(Es&~(1<<32-at(Es)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Zi,useCallback:Ha,useContext:Zi,useEffect:Fa,useImperativeHandle:$a,useInsertionEffect:Ua,useLayoutEffect:Va,useMemo:qa,useReducer:Ea,useRef:Oa,useState:function(){return Ea(ka)},useDebugValue:za,useDeferredValue:function(e){return Ga(Sa(),da.memoizedState,e)},useTransition:function(){return[Ea(ka)[0],Sa().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ia,useId:Wa,unstable_isNewReconciler:!1},io={readContext:Zi,useCallback:Ha,useContext:Zi,useEffect:Fa,useImperativeHandle:$a,useInsertionEffect:Ua,useLayoutEffect:Va,useMemo:qa,useReducer:xa,useRef:Oa,useState:function(){return xa(ka)},useDebugValue:za,useDeferredValue:function(e){var t=Sa();return null===da?t.memoizedState=e:Ga(t,da.memoizedState,e)},useTransition:function(){return[xa(ka)[0],Sa().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ia,useId:Wa,unstable_isNewReconciler:!1};function so(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function ao(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var oo,lo,uo,co="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=is(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bl||(Bl=!0,$l=r),ao(0,t)},n}function fo(e,t,n){(n=is(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ao(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ao(0,t),"function"!==typeof r&&(null===zl?zl=new Set([this]):zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new co;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=is(-1,1)).tag=2,ss(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function vo(e,t){if(!Ps)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bo(e,t,n){var r=t.pendingProps;switch(Ds(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),yo(t),null;case 3:return r=t.stateNode,ea(),xi(Di),xi(Ci),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Rs&&(su(Rs),Rs=null))),yo(t),null;case 5:na(t);var i=Js(Xs.current);if(n=t.type,null!==e&&null!=t.stateNode)lo(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return yo(t),null}if(e=Js(Ks.current),Us(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,oo(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=K(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return yo(t),null;case 6:if(e&&null!=t.stateNode)uo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Xs.current),Js(Ks.current),Us(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=Ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return yo(t),null;case 13:if(xi(ra),r=t.memoizedState,Ps&&null!==As&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=As;r;)r=ui(r.nextSibling);return Vs(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Us(t),null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[hi]=t}else Vs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return yo(t),null}return null!==Rs&&(su(Rs),Rs=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Us(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Al&&(Al=3):pu())),null!==t.updateQueue&&(t.flags|=4),yo(t),null);case 4:return ea(),null===e&&$r(t.stateNode.containerInfo),yo(t),null;case 10:return Qi(t.type._context),yo(t),null;case 19:if(xi(ra),null===(a=t.memoizedState))return yo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)vo(a,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,vo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Ul&&(t.flags|=128,r=!0,vo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),vo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Ps)return yo(t),null}else 2*Xe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,vo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ra.current,Ti(ra,r?1&n|2:1&n),t):(yo(t),null);case 22:case 23:return cu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(yo(t),6&t.subtreeFlags&&(t.flags|=8192)):yo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},lo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Ks.current);var s,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},uo=function(e,t,n,r){n!==r&&(t.flags|=4)};var wo=w.ReactCurrentOwner,_o=!1;function So(e,t,n,r){t.child=null===e?Ys(t,null,n,r):Gs(t,e.child,n,r)}function ko(e,t,n,r,i){n=n.render;var s=t.ref;return Ji(t,i),r=ba(e,t,n,r,s,i),n=wa(),null===e||_o?(Ps&&n&&Cs(t),t.flags|=1,So(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Au(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Pu(s,r)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(_o=!0)}}return Co(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Nl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Nl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Nl,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Nl,Dl),Dl|=r;return So(e,t,i,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Pi(n)?Ni:Ci.current;return s=Ai(t,s),Ji(t,i),n=ba(e,t,n,r,s,i),r=wa(),null===e||_o?(Ps&&r&&Cs(t),t.flags|=1,So(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Do(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ps(t,n,r),gs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Zi(u):u=Ai(t,u=Pi(n)?Ni:Ci.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==u)&&ms(t,a,r,u),ts=!1;var h=t.memoizedState;a.state=h,ls(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Di.current||ts?("function"===typeof c&&(ds(t,n,c,r),l=t.memoizedState),(o=ts||fs(t,n,o,r,h,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,rs(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Hi(t.type,o),a.props=u,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Zi(l):l=Ai(t,l=Pi(n)?Ni:Ci.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ms(t,a,r,l),ts=!1,h=t.memoizedState,a.state=h,ls(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Di.current||ts?("function"===typeof f&&(ds(t,n,f,r),p=t.memoizedState),(u=ts||fs(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){Io(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ho(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Gs(t,e.child,null,s),t.child=Gs(t,null,o,s)):So(e,t,o,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Zs(e,t.containerInfo)}function Po(e,t,n,r,i){return Vs(),Bs(i),t.flags|=256,So(e,t,n,r),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Lo(e,t,n){var r,i=t.pendingProps,a=ra.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ra,1&a),null===e)return js(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Mu(a,i,0,null),e=Ou(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Ro,e):jo(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Vo(e,t,n,Error(s(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Mu({mode:"visible",children:i.children},a,0,null),(o=Ou(o,a,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Gs(t,e.child,null,n),t.child.memoizedState=Oo(n),t.memoizedState=Ro,o);if(0===(1&t.mode))t=Vo(e,t,n,null);else if("$!"===r.data)t=Vo(e,t,n,Error(s(419)));else if(i=0!==(n&e.childLanes),_o||i){if(null!==(i=Tl)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!==(o&(i.suspendedLanes|n))?0:o)&&i!==a.retryLane&&(a.retryLane=i,Zl(e,i,-1))}pu(),t=Vo(e,t,n,Error(s(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,As=ui(r.nextSibling),Ns=t,Ps=!0,Rs=null,null!==n&&(_s[Ss++]=Es,_s[Ss++]=xs,_s[Ss++]=ks,Es=n.id,xs=n.overflow,ks=t),(t=jo(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=Uo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Oo(n):Mo(a,n),o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i):(n=Fo(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=Uo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Oo(n):Mo(a,n),o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i):(n=Fo(e,t,i.children,n),t.memoizedState=null,n)}function jo(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){var i=e.child;return e=i.sibling,n=Pu(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Uo(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0===(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=Pu(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Pu(a,r):(r=Ou(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vo(e,t,n,r){return null!==r&&Bs(r),Gs(t,e.child,null,n),(e=jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function $o(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(So(e,t,r.children,n),0!==(2&(r=ra.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ra,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,s);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){switch(Ds(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ea(),xi(Di),xi(Ci),aa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return na(t),null;case 13:if(xi(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Vs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ra),null;case 4:return ea(),null;case 10:return Qi(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}var Go=!1,Yo=!1,Wo="function"===typeof WeakSet?WeakSet:Set,Ko=null;function Qo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function Xo(e,t,n){try{n()}catch(r){ku(e,t,r)}}var Jo=!1;function Zo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Xo(t,n,s)}i=i.next}while(i!==r)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}var ol=null,ll=!1;function ul(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Qo(n,t);case 6:var r=ol,i=ll;ol=null,ul(e,t,n),ll=i,null!==(ol=r)&&(ll?(e=ol,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ol.removeChild(n.stateNode));break;case 18:null!==ol&&(ll?(e=ol,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),$t(e)):li(ol,n.stateNode));break;case 4:r=ol,i=ll,ol=n.stateNode.containerInfo,ll=!0,ul(e,t,n),ol=r,ll=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&Xo(n,t,a),i=i.next}while(i!==r)}ul(e,t,n);break;case 1:if(!Yo&&(Qo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ku(n,t,o)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,ul(e,t,n),Yo=r):ul(e,t,n);break;default:ul(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Wo),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ol=l.stateNode,ll=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===ol)throw Error(s(160));cl(a,o,i),ol=null,ll=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){ku(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),pl(e),4&r){try{Zo(3,e,e.return),el(3,e)}catch(m){ku(e,e.return,m)}try{Zo(5,e,e.return)}catch(m){ku(e,e.return,m)}}break;case 1:hl(t,e),pl(e),512&r&&null!==n&&Qo(n,n.return);break;case 5:if(hl(t,e),pl(e),512&r&&null!==n&&Qo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){ku(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var c=be(l,a);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){ku(e,e.return,m)}}break;case 6:if(hl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(s(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(m){ku(e,e.return,m)}}break;case 3:if(hl(t,e),pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(m){ku(e,e.return,m)}break;case 4:default:hl(t,e),pl(e);break;case 13:hl(t,e),pl(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Fl=Xe()),4&r&&dl(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(d=Yo)||c,hl(t,e),Yo=d):hl(t,e),pl(e),8192&r){d=null!==e.memoizedState;e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,o=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(m){ku(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){ku(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}if(d&&!c&&0!==(1&e.mode))for(Ko=e,e=e.child;null!==e;){for(c=Ko=e;null!==Ko;){switch(h=(d=Ko).child,d.tag){case 0:case 11:case 14:case 15:Zo(4,d,d.return);break;case 1:if(Qo(d,d.return),"function"===typeof(a=d.stateNode).componentWillUnmount){f=d,p=d.return;try{i=f,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){ku(f,p,m)}}break;case 5:Qo(d,d.return);break;case 22:if(null!==d.memoizedState){yl(c);continue}}null!==h?(h.return=d,Ko=h):yl(c)}e=e.sibling}}break;case 19:hl(t,e),pl(e),4&r&&dl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),al(e,il(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;sl(e,il(e),a);break;default:throw Error(s(161))}}catch(o){ku(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e,t,n){Ko=e,gl(e,t,n)}function gl(e,t,n){for(var r=0!==(1&e.mode);null!==Ko;){var i=Ko,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Go;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Go;var u=Yo;if(Go=a,(Yo=l)&&!u)for(Ko=i;null!==Ko;)l=(a=Ko).child,22===a.tag&&null!==a.memoizedState?bl(i):null!==l?(l.return=a,Ko=l):bl(i);for(;null!==s;)Ko=s,gl(s,t,n),s=s.sibling;Ko=i,Go=o,Yo=u}vl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ko=s):vl(e)}}function vl(e){for(;null!==Ko;){var t=Ko;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||el(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&us(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}us(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&$t(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&tl(t)}catch(f){ku(t,t.return,f)}}if(t===e){Ko=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ko=n;break}Ko=t.return}}function yl(e){for(;null!==Ko;){var t=Ko;if(t===e){Ko=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ko=n;break}Ko=t.return}}function bl(e){for(;null!==Ko;){var t=Ko;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){ku(t,i,l)}}var s=t.return;try{tl(t)}catch(l){ku(t,s,l)}break;case 5:var a=t.return;try{tl(t)}catch(l){ku(t,a,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Ko=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ko=o;break}Ko=t.return}}var wl,_l=Math.ceil,Sl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,xl=0,Tl=null,Il=null,Cl=0,Dl=0,Nl=Ei(0),Al=0,Pl=null,Rl=0,Ol=0,Ml=0,Ll=null,jl=null,Fl=0,Ul=1/0,Vl=null,Bl=!1,$l=null,zl=null,Hl=!1,ql=null,Gl=0,Yl=0,Wl=null,Kl=-1,Ql=0;function Xl(){return 0!==(6&xl)?Xe():-1!==Kl?Kl:Kl=Xe()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&xl)&&0!==Cl?Cl&-Cl:null!==zi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Zl(e,t,n){if(50<Yl)throw Yl=0,Wl=null,Error(s(185));var r=eu(e,t);return null===r?null:(vt(r,t,n),0!==(2&xl)&&r===Tl||(r===Tl&&(0===(2&xl)&&(Ol|=t),4===Al&&au(r,Cl)),nu(r,n),1===t&&0===xl&&0===(1&e.mode)&&(Ul=Xe()+500,Ui&&$i())),r)}function eu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tu(e){return(null!==Tl||null!==es)&&0!==(1&e.mode)&&0===(2&xl)}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Tl?Cl:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(ou.bind(null,e)):Bi(ou.bind(null,e)),ai((function(){0===xl&&$i()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Kl=-1,Ql=0,0!==(6&xl))throw Error(s(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Cl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=xl;xl|=2;var a=fu();for(Tl===e&&Cl===t||(Vl=null,Ul=Xe()+500,du(e,t));;)try{vu();break}catch(l){hu(e,l)}Ki(),Sl.current=a,xl=i,null!==Il?t=0:(Tl=null,Cl=0,t=Al)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=iu(e,i))),1===t)throw n=Pl,du(e,0),au(e,r),nu(e,Xe()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(a=pt(e))&&(r=a,t=iu(e,a))),1===t))throw n=Pl,du(e,0),au(e,r),nu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wu(e,jl,Vl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Fl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,jl,Vl),t);break}wu(e,jl,Vl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,jl,Vl),r);break}wu(e,jl,Vl);break;default:throw Error(s(329))}}}return nu(e,Xe()),e.callbackNode===n?ru.bind(null,e):null}function iu(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=jl,jl=n,null!==t&&su(t)),e}function su(e){null===jl?jl=e:jl.push.apply(jl,e)}function au(e,t){for(t&=~Ml,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(0!==(6&xl))throw Error(s(327));_u();var t=ht(e,0);if(0===(1&t))return nu(e,Xe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Pl,du(e,0),au(e,t),nu(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,jl,Vl),nu(e,Xe()),null}function lu(e,t){var n=xl;xl|=1;try{return e(t)}finally{0===(xl=n)&&(Ul=Xe()+500,Ui&&$i())}}function uu(e){null!==ql&&0===ql.tag&&0===(6&xl)&&_u();var t=xl;xl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(xl=t))&&$i()}}function cu(){Dl=Nl.current,xi(Nl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(Ds(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:ea(),xi(Di),xi(Ci),aa();break;case 5:na(r);break;case 4:ea();break;case 13:case 19:xi(ra);break;case 10:Qi(r.type._context);break;case 22:case 23:cu()}n=n.return}if(Tl=e,Il=e=Pu(e.current,null),Cl=Dl=t,Al=0,Pl=null,Ml=Ol=Rl=0,jl=Ll=null,null!==es){for(t=0;t<es.length;t++)if(null!==(r=(n=es[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}es=null}return e}function hu(e,t){for(;;){var n=Il;try{if(Ki(),oa.current=to,fa){for(var r=ca.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fa=!1}if(ua=0,ha=da=ca=null,pa=!1,ma=0,kl.current=null,null===n||null===n.return){Al=1,Pl=t,Il=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=Cl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mo(o);if(null!==p){p.flags&=-257,go(p,o,l,0,t),1&p.mode&&po(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){po(a,c,t),pu();break e}u=Error(s(426))}else if(Ps&&1&l.mode){var v=mo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),go(v,o,l,0,t),Bs(u);break e}}a=u,4!==Al&&(Al=2),null===Ll?Ll=[a]:Ll.push(a),u=so(u,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,os(l,ho(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===zl||!zl.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,os(l,fo(l,a,t));break e}}l=l.return}while(null!==l)}bu(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function fu(){var e=Sl.current;return Sl.current=to,null===e?to:e}function pu(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Tl||0===(268435455&Rl)&&0===(268435455&Ol)||au(Tl,Cl)}function mu(e,t){var n=xl;xl|=2;var r=fu();for(Tl===e&&Cl===t||(Vl=null,du(e,t));;)try{gu();break}catch(i){hu(e,i)}if(Ki(),xl=n,Sl.current=r,null!==Il)throw Error(s(261));return Tl=null,Cl=0,Al}function gu(){for(;null!==Il;)yu(Il)}function vu(){for(;null!==Il&&!Ke();)yu(Il)}function yu(e){var t=wl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bu(e):Il=t,kl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bo(n,t,Dl)))return void(Il=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Al=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Al&&(Al=5)}function wu(e,t,n){var r=bt,i=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==ql);if(0!==(6&xl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Tl&&(Il=Tl=null,Cl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Cu(tt,(function(){return _u(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=El.transition,El.transition=null;var o=bt;bt=1;var l=xl;xl|=4,kl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(u=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=o),f===a&&++d===r&&(u=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ko=t;null!==Ko;)if(e=(t=Ko).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ko=e;else for(;null!==Ko;){t=Ko;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Hi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var _=w.body;null!=_&&(_.textContent="")}break;default:throw Error(s(163))}}catch(S){ku(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Ko=e;break}Ko=t.return}m=Jo,Jo=!1}(e,n),fl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ml(n,e,i),Qe(),xl=l,bt=o,El.transition=a}else e.current=n;if(Hl&&(Hl=!1,ql=e,Gl=i),0===(a=e.pendingLanes)&&(zl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bl)throw Bl=!1,e=$l,$l=null,e;0!==(1&Gl)&&0!==e.tag&&_u(),0!==(1&(a=e.pendingLanes))?e===Wl?Yl++:(Yl=0,Wl=e):Yl=0,$i()}(e,t,n,r)}finally{El.transition=i,bt=r}return null}function _u(){if(null!==ql){var e=wt(Gl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Gl=0,0!==(6&xl))throw Error(s(331));var i=xl;for(xl|=4,Ko=e.current;null!==Ko;){var a=Ko,o=a.child;if(0!==(16&Ko.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ko=c;null!==Ko;){var d=Ko;switch(d.tag){case 0:case 11:case 15:Zo(8,d,a)}var h=d.child;if(null!==h)h.return=d,Ko=h;else for(;null!==Ko;){var f=(d=Ko).sibling,p=d.return;if(nl(d),d===c){Ko=null;break}if(null!==f){f.return=p,Ko=f;break}Ko=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ko=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Ko=o;else e:for(;null!==Ko;){if(0!==(2048&(a=Ko).flags))switch(a.tag){case 0:case 11:case 15:Zo(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Ko=y;break e}Ko=a.return}}var b=e.current;for(Ko=b;null!==Ko;){var w=(o=Ko).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Ko=w;else e:for(o=b;null!==Ko;){if(0!==(2048&(l=Ko).flags))try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(S){ku(l,l.return,S)}if(l===o){Ko=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Ko=_;break e}Ko=l.return}}if(xl=i,$i(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function Su(e,t,n){ss(e,t=ho(0,t=so(n,t),1)),t=Xl(),null!==(e=eu(e,1))&&(vt(e,1,t),nu(e,t))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zl||!zl.has(r))){ss(t,e=fo(t,e=so(n,e),1)),e=Xl(),null!==(t=eu(t,1))&&(vt(t,1,e),nu(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xl(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Cl&n)===n&&(4===Al||3===Al&&(130023424&Cl)===Cl&&500>Xe()-Fl?du(e,0):Ml|=n),nu(e,t)}function xu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Xl();null!==(e=eu(e,t))&&(vt(e,t,n),nu(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),xu(e,n)}function Cu(e,t){return Ye(e,t)}function Du(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Du(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Au(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ou(n.children,i,a,t);case E:o=8,i|=8;break;case x:return(e=Nu(12,n,t,2|i)).elementType=x,e.lanes=a,e;case D:return(e=Nu(13,n,t,i)).elementType=D,e.lanes=a,e;case N:return(e=Nu(19,n,t,i)).elementType=N,e.lanes=a,e;case R:return Mu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case I:o=9;break e;case C:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nu(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ou(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Lu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,s,a,o,l){return e=new Fu(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ns(s),e}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bu(e){if(!e)return Ii;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function $u(e,t,n,r,i,s,a,o,l){return(e=Uu(n,r,!0,e,0,s,0,o,l)).context=Bu(null),n=e.current,(s=is(r=Xl(),i=Jl(n))).callback=void 0!==t&&null!==t?t:null,ss(n,s),e.current.lanes=i,vt(e,i,r),nu(e,r),e}function zu(e,t,n,r){var i=t.current,s=Xl(),a=Jl(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=is(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ss(i,t),null!==(e=Zl(i,a,s))&&as(e,i,a),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),Vs();break;case 5:ta(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(qi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ti(ra,1&ra.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ti(ra,1&ra.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ra,ra.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Ho(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,Ps&&0!==(1048576&t.flags)&&Is(t,ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ai(t,Ci.current);Ji(t,n),i=ba(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ns(t),i.updater=hs,t.stateNode=i,i._reactInternals=t,gs(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,Ps&&a&&Cs(t),So(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=Hi(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Do(null,t,r,e,n);break e;case 11:t=ko(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,Hi(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Do(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,rs(e,t),ls(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Po(e,t,r,n,i=Error(s(423)));break e}if(r!==i){t=Po(e,t,r,n,i=Error(s(424)));break e}for(As=ui(t.stateNode.containerInfo.firstChild),Ns=t,Ps=!0,Rs=null,n=Ys(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Vs(),r===i){t=Ho(e,t,n);break e}So(e,t,r,n)}t=t.child}return t;case 5:return ta(t),null===e&&js(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Io(e,t),So(e,t,o,n),t.child;case 6:return null===e&&js(t),null;case 13:return Lo(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Gs(t,null,r,n):So(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return So(e,t,t.pendingProps,n),t.child;case 8:case 12:return So(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(qi,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Di.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=is(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Xi(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Xi(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}So(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,So(e,t,r,n),t.child;case 14:return i=Hi(r=t.type,t.pendingProps),Eo(e,t,r,i=Hi(r.type,i),n);case 15:return xo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ji(t,n),ps(t,r,i),gs(t,r,i,n),No(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return To(e,t,n)}throw Error(s(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hu(a);o.call(e)}}zu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hu(a);s.call(e)}}var a=$u(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[pi]=a.current,$r(8===e.nodeType?e.parentNode:e),uu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hu(l);o.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,$r(8===e.nodeType?e.parentNode:e),uu((function(){zu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(a)}Ku.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zu(e,t,null,null)},Ku.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){zu(null,e,null,null)})),t[pi]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nu(t,Xe()),0===(6&xl)&&(Ul=Xe()+500,$i()))}break;case 13:var r=Xl();uu((function(){return Zl(e,1,r)})),Gu(e,1)}},St=function(e){13===e.tag&&(Zl(e,134217728,Xl()),Gu(e,134217728))},kt=function(e){if(13===e.tag){var t=Xl(),n=Jl(e);Zl(e,n,t),Gu(e,n)}},Et=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));Y(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lu,De=uu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,_i,Te,Ie,lu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(s(200));return Vu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(s(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,$r(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=$u(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ku(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(s(40));return!!e._reactRootContainer&&(uu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+C(o=e[u],u);l+=D(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=D(o=o.value,t,i,c=s+C(o,u++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!D());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,x=null,T=-1,I=5,C=-1;function D(){return!(t.unstable_now()-C<I)}function N(){if(null!==x){var e=t.unstable_now();C=e;var n=!0;try{n=x(!0,e)}finally{n?k():(E=!1,x=null)}}else E=!1}if("function"===typeof b)k=function(){b(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=N,k=function(){P.postMessage(null)}}else k=function(){v(N,0)};function R(e){x=e,E||(E=!0,k())}function O(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,O(_,s-a))):(e.sortIndex=o,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="./",(()=>{"use strict";var e,t=n(791),r=n(250);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var s=function(e){return e};var a="beforeunload",o="popstate";function l(e){e.preventDefault(),e.returnValue=""}function u(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function c(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,s=e.hash,a=void 0===s?"":s;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function h(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const f=(0,t.createContext)(null);const p=(0,t.createContext)(null);const m=(0,t.createContext)({outlet:null,matches:[]});function g(e,t){if(!e)throw new Error(t)}function v(e,t,n){void 0===n&&(n="/");let r=x(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=S(i[a],r);return s}function y(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||g(!1),s.relativePath=s.relativePath.slice(r.length));let a=T([r,s.relativePath]),o=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&g(!1),y(e.children,t,o,a)),(null!=e.path||e.index)&&t.push({path:a,score:_(a,e.index),routesMeta:o})})),t}const b=/^:\w+$/,w=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(w)&&(r+=-2),t&&(r+=2),n.filter((e=>!w(e))).reduce(((e,t)=>e+(b.test(t)?3:""===t?1:10)),r)}function S(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;s.push({params:r,pathname:T([i,u.pathname]),pathnameBase:I(T([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=T([i,u.pathnameBase]))}return s}function k(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(o[n]||""),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function E(e,t,n){let r,i="string"===typeof e?h(e):e,s=""===e||""===i.pathname?"/":i.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:C(r),hash:D(i)}}(i,r);return s&&"/"!==s&&s.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const T=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function N(e){A()||g(!1);let{basename:n,navigator:r}=(0,t.useContext)(f),{hash:i,pathname:s,search:a}=L(e),o=s;if("/"!==n){let t=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?h(e).pathname:e.pathname}(e),r=null!=t&&t.endsWith("/");o="/"===s?n+(r?"/":""):T([n,s])}return r.createHref({pathname:o,search:a,hash:i})}function A(){return null!=(0,t.useContext)(p)}function P(){return A()||g(!1),(0,t.useContext)(p).location}function R(){A()||g(!1);let{basename:e,navigator:n}=(0,t.useContext)(f),{matches:r}=(0,t.useContext)(m),{pathname:i}=P(),s=JSON.stringify(r.map((e=>e.pathnameBase))),a=(0,t.useRef)(!1);(0,t.useEffect)((()=>{a.current=!0}));let o=(0,t.useCallback)((function(t,r){if(void 0===r&&(r={}),!a.current)return;if("number"===typeof t)return void n.go(t);let o=E(t,JSON.parse(s),i);"/"!==e&&(o.pathname=T([e,o.pathname])),(r.replace?n.replace:n.push)(o,r.state)}),[e,n,s,i]);return o}const O=(0,t.createContext)(null);function M(){let{matches:e}=(0,t.useContext)(m),n=e[e.length-1];return n?n.params:{}}function L(e){let{matches:n}=(0,t.useContext)(m),{pathname:r}=P(),i=JSON.stringify(n.map((e=>e.pathnameBase)));return(0,t.useMemo)((()=>E(e,JSON.parse(i),r)),[e,i,r])}function j(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight(((r,i,s)=>(0,t.createElement)(m.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,s+1))}})),null)}function F(e){let{to:n,replace:r,state:i}=e;A()||g(!1);let s=R();return(0,t.useEffect)((()=>{s(n,{replace:r,state:i})})),null}function U(e){return function(e){let n=(0,t.useContext)(m).outlet;return n?(0,t.createElement)(O.Provider,{value:e},n):n}(e.context)}function V(e){g(!1)}function B(n){let{basename:r="/",children:i=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1}=n;A()&&g(!1);let u=I(r),c=(0,t.useMemo)((()=>({basename:u,navigator:o,static:l})),[u,o,l]);"string"===typeof s&&(s=h(s));let{pathname:d="/",search:m="",hash:v="",state:y=null,key:b="default"}=s,w=(0,t.useMemo)((()=>{let e=x(d,u);return null==e?null:{pathname:e,search:m,hash:v,state:y,key:b}}),[u,d,m,v,y,b]);return null==w?null:(0,t.createElement)(f.Provider,{value:c},(0,t.createElement)(p.Provider,{children:i,value:{location:w,navigationType:a}}))}function $(e){let{children:n,location:r}=e;return function(e,n){A()||g(!1);let{matches:r}=(0,t.useContext)(m),i=r[r.length-1],s=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let o,l=P();if(n){var u;let e="string"===typeof n?h(n):n;"/"===a||(null==(u=e.pathname)?void 0:u.startsWith(a))||g(!1),o=e}else o=l;let c=o.pathname||"/",d=v(e,{pathname:"/"===a?c:c.slice(a.length)||"/"});return j(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:T([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:T([a,e.pathnameBase])}))),r)}(z(n),r)}function z(e){let n=[];return t.Children.forEach(e,(e=>{if(!(0,t.isValidElement)(e))return;if(e.type===t.Fragment)return void n.push.apply(n,z(e.props.children));e.type!==V&&g(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=z(e.props.children)),n.push(r)})),n}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const G=["onClick","reloadDocument","replace","state","target","to"],Y=["aria-current","caseSensitive","className","end","style","to","children"];function W(n){let{basename:r,children:f,window:p}=n,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,f=r.history;function p(){var e=r.location,t=e.pathname,n=e.search,i=e.hash,a=f.state||{};return[a.idx,s({pathname:t,search:n,hash:i,state:a.usr||null,key:a.key||"default"})]}var m=null;r.addEventListener(o,(function(){if(m)_.call(m),m=null;else{var t=e.Pop,n=p(),r=n[0],i=n[1];if(_.length){if(null!=r){var s=y-r;s&&(m={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else T(t)}}));var g=e.Pop,v=p(),y=v[0],b=v[1],w=u(),_=u();function S(e){return"string"===typeof e?e:d(e)}function k(e,t){return void 0===t&&(t=null),s(i({pathname:b.pathname,hash:"",search:""},"string"===typeof e?h(e):e,{state:t,key:c()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},S(e)]}function x(e,t,n){return!_.length||(_.call({action:e,location:t,retry:n}),!1)}function T(e){g=e;var t=p();y=t[0],b=t[1],w.call({action:g,location:b})}function I(e){f.go(e)}null==y&&(y=0,f.replaceState(i({},f.state,{idx:y}),""));var C={get action(){return g},get location(){return b},createHref:S,push:function t(n,i){var s=e.Push,a=k(n,i);if(x(s,a,(function(){t(n,i)}))){var o=E(a,y+1),l=o[0],u=o[1];try{f.pushState(l,"",u)}catch(c){r.location.assign(u)}T(s)}},replace:function t(n,r){var i=e.Replace,s=k(n,r);if(x(i,s,(function(){t(n,r)}))){var a=E(s,y),o=a[0],l=a[1];f.replaceState(o,"",l),T(i)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return w.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&r.addEventListener(a,l),function(){t(),_.length||r.removeEventListener(a,l)}}};return C}({window:p}));let g=m.current,[v,y]=(0,t.useState)({action:g.action,location:g.location});return(0,t.useLayoutEffect)((()=>g.listen(y)),[g]),(0,t.createElement)(B,{basename:r,children:f,location:v.location,navigationType:v.action,navigator:g})}const K=(0,t.forwardRef)((function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:a,target:o,to:l}=e,u=q(e,G),c=N(l),h=function(e,n){let{target:r,replace:i,state:s}=void 0===n?{}:n,a=R(),o=P(),l=L(e);return(0,t.useCallback)((t=>{if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();let n=!!i||d(o)===d(l);a(e,{replace:n,state:s})}}),[o,a,l,i,s,r,e])}(l,{replace:s,state:a,target:o});return(0,t.createElement)("a",H({},u,{href:c,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:o}))}));const Q=(0,t.forwardRef)((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,children:u}=e,c=q(e,Y),d=P(),h=L(l),f=d.pathname,p=h.pathname;i||(f=f.toLowerCase(),p=p.toLowerCase());let m,g=f===p||!a&&f.startsWith(p)&&"/"===f.charAt(p.length),v=g?r:void 0;m="function"===typeof s?s({isActive:g}):[s,g?"active":null].filter(Boolean).join(" ");let y="function"===typeof o?o({isActive:g}):o;return(0,t.createElement)(K,H({},c,{"aria-current":v,className:m,ref:n,style:y,to:l}),"function"===typeof u?u({isActive:g}):u)}));const X=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(X(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw Error();const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Z=function(e){return function(e){const t=X(e);return J.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ee=function(e){try{return J.decodeString(e,!0)}catch(wv){console.error("base64Decode failed: ",wv)}return null};class te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ne(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function re(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function ie(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function se(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ae(){const e=ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class oe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(ue,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new oe(n,s,t)}}const ue=/\{\$([^}]+)}/g;function ce(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(de(n)&&de(s)){if(!ce(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function de(e){return null!==e&&"object"===typeof e}function he(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fe(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function pe(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class me{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ge),void 0===r.error&&(r.error=ge),void 0===r.complete&&(r.complete=ge);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(wv){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(wv){"undefined"!==typeof console&&console.error&&console.error(wv)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ge(){}function ve(e){return e&&e._delegate?e._delegate:e}class ye{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const be="[DEFAULT]";class we{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new te;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(wv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(wv){if(r)return null;throw wv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:be})}catch(wv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(wv){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch($p){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===be?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch($p){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return this.component?this.component.multipleInstances?e:be:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new we(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Se=[];var ke;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ke||(ke={}));const Ee={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},xe=ke.INFO,Te={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Ie=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Te[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Ce{constructor(e){this.name=e,this._logLevel=xe,this._logHandler=Ie,this._userLogHandler=null,Se.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...t),this._logHandler(this,ke.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...t),this._logHandler(this,ke.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ke.INFO,...t),this._logHandler(this,ke.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ke.WARN,...t),this._logHandler(this,ke.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...t),this._logHandler(this,ke.ERROR,...t)}}let De,Ne;const Ae=new WeakMap,Pe=new WeakMap,Re=new WeakMap,Oe=new WeakMap,Me=new WeakMap;let Le={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ue(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function je(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ve(this),n),Ue(Ae.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ue(e.apply(Ve(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ve(this),t,...r);return Re.set(s,t.sort?t.sort():[t]),Ue(s)}}function Fe(e){return"function"===typeof e?je(e):(e instanceof IDBTransaction&&function(e){if(Pe.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Pe.set(e,t)}(e),t=e,(De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Le):e);var t}function Ue(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ue(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ae.set(t,e)})).catch((()=>{})),Me.set(t,e),t}(e);if(Oe.has(e))return Oe.get(e);const t=Fe(e);return t!==e&&(Oe.set(e,t),Me.set(t,e)),t}const Ve=e=>Me.get(e);const Be=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],ze=new Map;function He(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ze.get(t))return ze.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Be.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return ze.set(t,s),s}Le=(e=>({...e,get:(t,n,r)=>He(t,n)||e.get(t,n,r),has:(t,n)=>!!He(t,n)||e.has(t,n)}))(Le);class qe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ge="@firebase/app",Ye="0.7.26",We=new Ce("@firebase/app"),Ke="[DEFAULT]",Qe={[Ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Je=new Map;function Ze(e,t){try{e.container.addComponent(t)}catch(wv){We.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,wv)}}function et(e){const t=e.name;if(Je.has(t))return We.debug(`There were multiple attempts to register component ${t}.`),!1;Je.set(t,e);for(const n of Xe.values())Ze(n,e);return!0}function tt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const nt=new le("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class rt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ye("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nt.create("app-deleted",{appName:this._name})}}const it="9.8.3";function st(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke;const t=Xe.get(e);if(!t)throw nt.create("no-app",{appName:e});return t}function at(e,t,n){var r;let i=null!==(r=Qe[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void We.warn(e.join(" "))}et(new ye(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const ot="firebase-heartbeat-store";let lt=null;function ut(){return lt||(lt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Ue(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Ue(a.result),e.oldVersion,e.newVersion,Ue(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ot)}}).catch((e=>{throw nt.create("storage-open",{originalErrorMessage:e.message})}))),lt}async function ct(e,t){var n;try{const n=(await ut()).transaction(ot,"readwrite"),r=n.objectStore(ot);return await r.put(t,dt(e)),n.done}catch(wv){throw nt.create("storage-set",{originalErrorMessage:null===(n=wv)||void 0===n?void 0:n.message})}}function dt(e){return`${e.name}!${e.options.appId}`}const ht=1024;class ft{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=pt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=pt(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),gt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Z(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function pt(){return(new Date).toISOString().substring(0,10)}class mt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return"object"===typeof indexedDB&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){var t;try{return(await ut()).transaction(ot).objectStore(ot).get(dt(e))}catch(wv){throw nt.create("storage-get",{originalErrorMessage:null===(t=wv)||void 0===t?void 0:t.message})}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function gt(e){return Z(JSON.stringify({version:2,heartbeats:e})).length}var vt;vt="",et(new ye("platform-logger",(e=>new qe(e)),"PRIVATE")),et(new ye("heartbeat",(e=>new ft(e)),"PRIVATE")),at(Ge,Ye,vt),at(Ge,Ye,"esm2017"),at("fire-js","");at("firebase","9.8.3","app");function yt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wt=bt,_t=new le("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new Ce("@firebase/auth");function kt(e){if(St.logLevel<=ke.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];St.error(`Auth (9.8.3): ${e}`,...n)}}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw It(e,...n)}function xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return It(e,...n)}function Tt(e,t,n){const r=Object.assign(Object.assign({},wt()),{[t]:n});return new le("auth","Firebase",r).create(t,{appName:e.name})}function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return _t.create(e,...n)}function Ct(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw It(t,...r)}}function Dt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kt(t),new Error(t)}function Nt(e,t){e||Dt(t)}const At=new Map;function Pt(e){Nt(e instanceof Function,"Expected a class definition");let t=At.get(e);return t?(Nt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,At.set(e,t),t)}function Rt(e,t){const n=tt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ce(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Et(e,"already-initialized")}return n.initialize({options:t})}function Ot(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mt(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class jt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nt(t>e,"Short delay should be less than long delay!"),this.isMobile=re()||se()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mt()||ie()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ft(e,t){Nt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ut{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Bt=new jt(3e4,6e4);function $t(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Ht(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=he(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Ut.fetch()(Gt(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Ht(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vt),t);try{const t=new Yt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Wt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Wt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Wt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Wt(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Tt(e,o,a);Et(e,o)}}catch(wv){if(wv instanceof oe)throw wv;Et(e,"network-request-failed")}}async function qt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await zt(e,t,n,r,i);return"mfaPendingCredential"in s&&Et(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Gt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ft(e.config,i):`${e.config.apiScheme}://${i}`}class Yt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(xt(this.auth,"network-request-failed"))),Bt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xt(e,t,r);return i.customData._tokenResponse=n,i}function Kt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(wv){}}function Qt(e){return 1e3*Number(e)}function Xt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const e=ee(n);return e?JSON.parse(e):(kt("Failed to decode base64 JWT payload"),null)}catch(wv){return kt("Caught error parsing JWT payload as JSON",wv),null}}async function Jt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return t;try{return await t}catch(wv){throw wv instanceof oe&&Zt(wv)&&e.auth.currentUser===e&&await e.auth.signOut(),wv}}function Zt(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}class en{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(wv){return void("auth/network-request-failed"===wv.code&&this.schedule(!0))}this.schedule()}}class tn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kt(this.lastLoginAt),this.creationTime=Kt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Jt(e,async function(e,t){return zt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ct(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=yt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),c=!!l&&u,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new tn(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}class rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct("undefined"!==typeof e.idToken,"internal-error"),Ct("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Xt(e);return Ct(t,"internal-error"),Ct("undefined"!==typeof t.exp,"internal-error"),Ct("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ct(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ht(e,{},(async()=>{const n=he({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Gt(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new rn;return n&&(Ct("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ct("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ct("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rn,this.toJSON())}_performRefresh(){return Dt("not implemented")}}function sn(e,t){Ct("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class an{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=yt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Jt(this,this.stsTokenManager.getToken(this.auth,e));return Ct(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ve(e),r=await n.getIdToken(t),i=Xt(r);Ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Kt(Qt(i.auth_time)),issuedAtTime:Kt(Qt(i.iat)),expirationTime:Kt(Qt(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ve(e);await nn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new an(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Jt(this,async function(e,t){return zt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;Ct(y&&S,e,"internal-error");const k=rn.fromJSON(this.name,S);Ct("string"===typeof y,e,"internal-error"),sn(c,e.name),sn(d,e.name),Ct("boolean"===typeof b,e,"internal-error"),Ct("boolean"===typeof w,e,"internal-error"),sn(h,e.name),sn(f,e.name),sn(p,e.name),sn(m,e.name),sn(g,e.name),sn(v,e.name);const E=new an({uid:y,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new rn;r.updateFromServerResponse(t);const i=new an({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nn(i),i}}class on{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}on.type="NONE";const ln=on;function un(e,t,n){return`firebase:${e}:${t}:${n}`}class cn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=un(this.userKey,r.apiKey,i),this.fullPersistenceKey=un("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?an._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new cn(Pt(ln),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Pt(ln);const s=un(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=an._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch($p){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch($p){}}))),new cn(i,e,n)):new cn(i,e,n)}}function dn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vn(t))return"Blackberry";if(yn(t))return"Webos";if(fn(t))return"Safari";if((t.includes("chrome/")||pn(t))&&!t.includes("edge/"))return"Chrome";if(gn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/firefox\//i.test(e)}function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/crios\//i.test(e)}function mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/iemobile/i.test(e)}function gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/android/i.test(e)}function vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/blackberry/i.test(e)}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/webos/i.test(e)}function bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return/iphone|ipad|ipod/i.test(e)}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();var t;return bn(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();return bn(e)||gn(e)||yn(e)||vn(e)||/windows phone/i.test(e)||mn(e)}function Sn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=dn(ne());break;case"Worker":t=`${dn(ne())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/9.8.3/${r}`}class kn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(wv){r(wv)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const n=[];try{for(const t of this.queue)await t(e),t.onAbort&&n.push(t.onAbort)}catch(wv){n.reverse();for(const t of n)try{t()}catch(Ev){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(t=wv)||void 0===t?void 0:t.message})}}}class En{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.beforeStateQueue=new kn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pt(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await cn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(wv){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(wv){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(wv)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(wv){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nn(e)}catch(wv){if("auth/network-request-failed"!==wv.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ve(e):null;return t&&Ct(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Pt(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new le("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pt(e)||this._popupRedirectResolver;Ct(t,this,"argument-error"),this.redirectPersistenceManager=await cn.create(this,[Pt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Ct(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function xn(e){return ve(e)}class Tn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new me(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class In{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dt("not implemented")}_getIdTokenResponse(e){return Dt("not implemented")}_linkToIdToken(e,t){return Dt("not implemented")}_getReauthenticationResolver(e){return Dt("not implemented")}}async function Cn(e,t){return zt(e,"POST","/v1/accounts:update",t)}class Dn extends In{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dn(e,t,"password")}static _fromEmailAndCode(e,t){return new Dn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return qt(e,"POST","/v1/accounts:signInWithPassword",$t(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return qt(e,"POST","/v1/accounts:signInWithEmailLink",$t(e,t))}(e,{email:this._email,oobCode:this._password});default:Et(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Cn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return qt(e,"POST","/v1/accounts:signInWithEmailLink",$t(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Et(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nn(e,t){return qt(e,"POST","/v1/accounts:signInWithIdp",$t(e,t))}class An extends In{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new An(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Et("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=yt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new An(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Nn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=he(t)}return e}}const Pn={USER_NOT_FOUND:"user-not-found"};class Rn extends In{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Rn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Rn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return qt(e,"POST","/v1/accounts:signInWithPhoneNumber",$t(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await qt(e,"POST","/v1/accounts:signInWithPhoneNumber",$t(e,t));if(n.temporaryProof)throw Wt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return qt(e,"POST","/v1/accounts:signInWithPhoneNumber",$t(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Pn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Rn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class On{constructor(e){var t,n,r,i,s,a;const o=fe(pe(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Ct(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=fe(pe(e)).link,n=t?fe(pe(t)).deep_link_id:null,r=fe(pe(e)).deep_link_id;return(r?fe(pe(r)).link:null)||r||n||t||e}(e);try{return new On(t)}catch($p){return null}}}class Mn{constructor(){this.providerId=Mn.PROVIDER_ID}static credential(e,t){return Dn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=On.parseLink(t);return Ct(n,"argument-error"),Dn._fromEmailAndCode(e,n.code,n.tenantId)}}Mn.PROVIDER_ID="password",Mn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ln{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jn extends Ln{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fn extends jn{constructor(){super("facebook.com")}static credential(e){return An._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Fn.credential(t.oauthAccessToken)}catch($p){return null}}}Fn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Fn.PROVIDER_ID="facebook.com";class Un extends jn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return An._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Un.credential(n,r)}catch($p){return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com",Un.PROVIDER_ID="google.com";class Vn extends jn{constructor(){super("github.com")}static credential(e){return An._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vn.credential(t.oauthAccessToken)}catch($p){return null}}}Vn.GITHUB_SIGN_IN_METHOD="github.com",Vn.PROVIDER_ID="github.com";class Bn extends jn{constructor(){super("twitter.com")}static credential(e,t){return An._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Bn.credential(n,r)}catch($p){return null}}}async function $n(e,t){return qt(e,"POST","/v1/accounts:signUp",$t(e,t))}Bn.TWITTER_SIGN_IN_METHOD="twitter.com",Bn.PROVIDER_ID="twitter.com";class zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await an._fromIdTokenResponse(e,n,r),s=Hn(n);return new zn({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Hn(n);return new zn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Hn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class qn extends oe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qn(e,t,n,r)}}function Gn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw qn._fromErrorAndOperation(e,n,t,r);throw n}))}async function Yn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Jt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zn._forOperation(e,"link",r)}async function Wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Jt(e,Gn(r,i,t,e),n);Ct(s.idToken,r,"internal-error");const a=Xt(s.idToken);Ct(a,r,"internal-error");const{sub:o}=a;return Ct(e.uid===o,r,"user-mismatch"),zn._forOperation(e,i,s)}catch(wv){throw"auth/user-not-found"===(null===wv||void 0===wv?void 0:wv.code)&&Et(r,"user-mismatch"),wv}}async function Kn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Gn(e,r,t),s=await zn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Qn(e,t){return Kn(xn(e),t)}new WeakMap;const Xn="__sak";class Jn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xn,"1"),this.storage.removeItem(Xn),Promise.resolve(!0)):Promise.resolve(!1)}catch($p){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Zn extends Jn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=ne();return fn(e)||bn(e)}()&&function(){try{return!(!window||window===window.top)}catch(wv){return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ae()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zn.type="LOCAL";const er=Zn;class tr extends Jn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tr.type="SESSION";const nr=tr;class rr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new rr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rr.receivers=[];class sr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=ir("",20);r.port1.start();const u=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ar(){return window}function or(){return"undefined"!==typeof ar().WorkerGlobalScope&&"function"===typeof ar().importScripts}const lr="firebaseLocalStorageDb",ur="firebaseLocalStorage",cr="fbase_key";class dr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function hr(e,t){return e.transaction([ur],t?"readwrite":"readonly").objectStore(ur)}function fr(){const e=indexedDB.open(lr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ur,{keyPath:cr})}catch(wv){n(wv)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ur)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(lr);return new dr(e).toPromise()}(),t(await fr()))}))}))}async function pr(e,t,n){const r=hr(e,!0).put({[cr]:t,value:n});return new dr(r).toPromise()}function mr(e,t){const n=hr(e,!0).delete(t);return new dr(n).toPromise()}class gr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await fr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(wv){if(t++>3)throw wv;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return or()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rr._getInstance(or()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new sr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch($p){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fr();return await pr(e,Xn,"1"),await mr(e,Xn),!0}catch($p){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>pr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=hr(e,!1).get(t),r=await new dr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>mr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=hr(e,!1).getAll();return new dr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}gr.type="LOCAL";const vr=gr;function yr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=xt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function br(e){return`__${e}${Math.floor(1e6*Math.random())}`}br("rcb"),new jt(3e4,6e4);const wr="recaptcha";async function _r(e,t,n){var r;const i=await n.verify();try{let s;if(Ct("string"===typeof i,e,"argument-error"),Ct(n.type===wr,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ct("enroll"===t.type,e,"internal-error");const n=await function(e,t){return zt(e,"POST","/v2/accounts/mfaEnrollment:start",$t(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ct("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ct(n,e,"missing-multi-factor-info");const a=await function(e,t){return zt(e,"POST","/v2/accounts/mfaSignIn:start",$t(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return zt(e,"POST","/v1/accounts:sendVerificationCode",$t(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Sr{constructor(e){this.providerId=Sr.PROVIDER_ID,this.auth=xn(e)}verifyPhoneNumber(e,t){return _r(this.auth,e,ve(t))}static credential(e,t){return Rn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sr.credentialFromTaggedObject(t)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Rn._fromTokenResponse(n,r):null}}function kr(e,t){return t?Pt(t):(Ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sr.PROVIDER_ID="phone",Sr.PHONE_SIGN_IN_METHOD="phone";class Er extends In{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xr(e){return Kn(e.auth,new Er(e),e.bypassAuthState)}function Tr(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),Wn(n,new Er(e),e.bypassAuthState)}async function Ir(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),Yn(n,new Er(e),e.bypassAuthState)}class Cr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(wv){this.reject(wv)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(wv){this.reject(wv)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xr;case"linkViaPopup":case"linkViaRedirect":return Ir;case"reauthViaPopup":case"reauthViaRedirect":return Tr;default:Et(this.auth,"internal-error")}}resolve(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dr=new jt(2e3,1e4);class Nr extends Cr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Nr.currentPopupAction&&Nr.currentPopupAction.cancel(),Nr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){Nt(1===this.filter.length,"Popup operations only handle one event");const e=ir();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(xt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(xt(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Dr.get())};e()}}Nr.currentPopupAction=null;const Ar=new Map;class Pr extends Cr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ar.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mr(t),r=Or(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(wv){e=()=>Promise.reject(wv)}Ar.set(this.auth._key(),e)}return this.bypassAuthState||Ar.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Rr(e,t){Ar.set(e._key(),t)}function Or(e){return Pt(e._redirectPersistence)}function Mr(e){return un("pendingRedirect",e.config.apiKey,e.name)}async function Lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=xn(e),i=kr(r,t),s=new Pr(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class jr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ur(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ur(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fr(e))}saveEventToCache(e){this.cachedEventUids.add(Fr(e)),this.lastProcessedEventTime=Date.now()}}function Fr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ur(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Br=/^https?/;async function $r(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return zt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(zr(n))return}catch($p){}Et(e,"unauthorized-domain")}function zr(e){const t=Ot(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Br.test(n))return!1;if(Vr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Hr=new jt(3e4,6e4);function qr(){const e=ar().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Gr=null;function Yr(e){return Gr=Gr||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){qr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qr(),n(xt(e,"network-request-failed"))},timeout:Hr.get()})}if(null===(i=null===(r=ar().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ar().gapi)||void 0===s?void 0:s.load)){const t=br("iframefcb");return ar()[t]=()=>{gapi.load?a():n(xt(e,"network-request-failed"))},yr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Gr=null,e}))}(e),Gr}const Wr=new jt(5e3,15e3),Kr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xr(e){const t=e.config;Ct(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ft(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:it},i=Qr.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${he(r).slice(1)}`}const Jr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zr="_blank",ei="http://localhost";class ti{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(wv){}}}function ni(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const ri="__/auth/handler",ii="emulator/auth/handler";function si(e,t,n,r,i,s){Ct(e.config.authDomain,e,"auth-domain-config-required"),Ct(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:it,eventId:i};if(t instanceof Ln){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof jn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const l of Object.keys(o))void 0===o[l]&&delete o[l];return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${ri}`;return Ft(t,ii)}(e)}?${he(o).slice(1)}`}const ai="webStorageSupport";const oi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nr,this._completeRedirectFn=Lr,this._overrideRedirectResult=Rr}async _openPopup(e,t,n,r){var i;Nt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Jr),{width:r.toString(),height:i.toString(),top:s,left:a}),u=ne().toLowerCase();n&&(o=pn(u)?Zr:n),hn(u)&&(t=t||ei,l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(wn(u)&&"_self"!==o)return ni(t||"",o),new ti(null);const d=window.open(t||"",o,c);Ct(d,e,"popup-blocked");try{d.focus()}catch(wv){}return new ti(d)}(e,si(e,t,n,Ot(),r),ir())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=si(e,t,n,Ot(),r),ar().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Nt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Yr(e),n=ar().gapi;return Ct(n,e,"internal-error"),t.open({where:document.body,url:Xr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=xt(e,"network-request-failed"),s=ar().setTimeout((()=>{r(i)}),Wr.get());function a(){ar().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new jr(e);return t.register("authEvent",(t=>{Ct(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ai,{type:ai},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Et(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$r(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _n()||fn()||bn()}};var li,ui="@firebase/auth",ci="0.20.3";class di{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}li="Browser",et(new ye("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((e,t)=>{Ct(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),Ct(!(null===a||void 0===a?void 0:a.includes(":")),"argument-error",{appName:e.name});const r={apiKey:s,authDomain:a,clientPlatform:li,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sn(li)},i=new En(e,t,r);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i})(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),et(new ye("auth-internal",(e=>(e=>new di(e))(xn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),at(ui,ci,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(li)),at(ui,ci,"esm2017");var hi,fi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},pi={},mi=mi||{},gi=fi||self;function vi(){}function yi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wi="closure_uid_"+(1e9*Math.random()>>>0),_i=0;function Si(e,t,n){return e.call.apply(e.bind,arguments)}function ki(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ei(e,t,n){return(Ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Si:ki).apply(null,arguments)}function xi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ti(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ii(){this.s=this.s,this.o=this.o}var Ci={};Ii.prototype.s=!1,Ii.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,wi)&&e[wi]||(e[wi]=++_i)}(this);delete Ci[e]}},Ii.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Di=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ni=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Ai(e){return Array.prototype.concat.apply([],arguments)}function Pi(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ri(e){return/^[\s\xa0]*$/.test(e)}var Oi,Mi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Li(e,t){return-1!=e.indexOf(t)}function ji(e,t){return e<t?-1:e>t?1:0}e:{var Fi=gi.navigator;if(Fi){var Ui=Fi.userAgent;if(Ui){Oi=Ui;break e}}Oi=""}function Vi(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Bi(e){const t={};for(const n in e)t[n]=e[n];return t}var $i="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zi(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<$i.length;t++)n=$i[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hi(e){return Hi[" "](e),e}Hi[" "]=vi;var qi,Gi=Li(Oi,"Opera"),Yi=Li(Oi,"Trident")||Li(Oi,"MSIE"),Wi=Li(Oi,"Edge"),Ki=Wi||Yi,Qi=Li(Oi,"Gecko")&&!(Li(Oi.toLowerCase(),"webkit")&&!Li(Oi,"Edge"))&&!(Li(Oi,"Trident")||Li(Oi,"MSIE"))&&!Li(Oi,"Edge"),Xi=Li(Oi.toLowerCase(),"webkit")&&!Li(Oi,"Edge");function Ji(){var e=gi.document;return e?e.documentMode:void 0}e:{var Zi="",es=function(){var e=Oi;return Qi?/rv:([^\);]+)(\)|;)/.exec(e):Wi?/Edge\/([\d\.]+)/.exec(e):Yi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xi?/WebKit\/(\S+)/.exec(e):Gi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(es&&(Zi=es?es[1]:""),Yi){var ts=Ji();if(null!=ts&&ts>parseFloat(Zi)){qi=String(ts);break e}}qi=Zi}var ns,rs={};function is(){return function(e){var t=rs;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=Mi(String(qi)).split("."),n=Mi("9").split("."),r=Math.max(t.length,n.length);for(let a=0;0==e&&a<r;a++){var i=t[a]||"",s=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=ji(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ji(0==i[2].length,0==s[2].length)||ji(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(gi.document&&Yi){var ss=Ji();ns=ss||(parseInt(qi,10)||void 0)}else ns=void 0;var as=ns,os=function(){if(!gi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gi.addEventListener("test",vi,t),gi.removeEventListener("test",vi,t)}catch(Hw){}return e}();function ls(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function us(e,t){if(ls.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qi){e:{try{Hi(t.nodeName);var i=!0;break e}catch(xg){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:cs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&us.Z.h.call(this)}}ls.prototype.h=function(){this.defaultPrevented=!0},Ti(us,ls);var cs={2:"touch",3:"pen",4:"mouse"};us.prototype.h=function(){us.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ds="closure_listenable_"+(1e6*Math.random()|0),hs=0;function fs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++hs,this.ca=this.fa=!1}function ps(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ms(e){this.src=e,this.g={},this.h=0}function gs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Di(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ps(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vs(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ms.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=vs(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new fs(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ys="closure_lm_"+(1e6*Math.random()|0),bs={};function ws(e,t,n,r,i){if(r&&r.once)return Ss(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ws(e,t[s],n,r,i);return null}return n=Ds(n),e&&e[ds]?e.N(t,n,bi(r)?!!r.capture:!!r,i):_s(e,t,n,!1,r,i)}function _s(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=bi(i)?!!i.capture:!!i,o=Is(e);if(o||(e[ys]=o=new ms(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ts;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)os||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ss(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ss(e,t[s],n,r,i);return null}return n=Ds(n),e&&e[ds]?e.O(t,n,bi(r)?!!r.capture:!!r,i):_s(e,t,n,!0,r,i)}function ks(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ks(e,t[s],n,r,i);else r=bi(r)?!!r.capture:!!r,n=Ds(n),e&&e[ds]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vs(s=e.g[t],n,r,i))&&(ps(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Is(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vs(t,n,r,i)),(n=-1<e?t[e]:null)&&Es(n))}function Es(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ds])gs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Is(t))?(gs(n,e),0==n.h&&(n.src=null,t[ys]=null)):ps(e)}}}function xs(e){return e in bs?bs[e]:bs[e]="on"+e}function Ts(e,t){if(e.ca)e=!0;else{t=new us(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Es(e),e=n.call(r,t)}return e}function Is(e){return(e=e[ys])instanceof ms?e:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ds(e){return"function"===typeof e?e:(e[Cs]||(e[Cs]=function(t){return e.handleEvent(t)}),e[Cs])}function Ns(){Ii.call(this),this.i=new ms(this),this.P=this,this.I=null}function As(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ls(t,e);else if(t instanceof ls)t.target=t.target||e;else{var i=t;zi(t=new ls(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ps(a,r,!0,t)&&i}if(i=Ps(a=t.g=e,r,!0,t)&&i,i=Ps(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ps(a=t.g=n[s],r,!1,t)&&i}function Ps(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var o=a.listener,l=a.ia||a.src;a.fa&&gs(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Ti(Ns,Ii),Ns.prototype[ds]=!0,Ns.prototype.removeEventListener=function(e,t,n,r){ks(this,e,t,n,r)},Ns.prototype.M=function(){if(Ns.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ps(n[r]);delete t.g[e],t.h--}}this.I=null},Ns.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ns.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rs=gi.JSON.stringify;function Os(){var e=Bs;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ms,Ls=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new js),(e=>e.reset()));class js{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Fs(e){gi.setTimeout((()=>{throw e}),0)}function Us(e,t){Ms||function(){var e=gi.Promise.resolve(void 0);Ms=function(){e.then($s)}}(),Vs||(Ms(),Vs=!0),Bs.add(e,t)}var Vs=!1,Bs=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ls.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function $s(){for(var e;e=Os();){try{e.h.call(e.g)}catch(Hw){Fs(Hw)}var t=Ls;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vs=!1}function zs(e,t){Ns.call(this),this.h=e||1,this.g=t||gi,this.j=Ei(this.kb,this),this.l=Date.now()}function Hs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qs(e,t,n){if("function"===typeof e)n&&(e=Ei(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ei(e.handleEvent,e)}return 2147483647<Number(t)?-1:gi.setTimeout(e,t||0)}function Gs(e){e.g=qs((()=>{e.g=null,e.i&&(e.i=!1,Gs(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ti(zs,Ns),(hi=zs.prototype).da=!1,hi.S=null,hi.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),As(this,"tick"),this.da&&(Hs(this),this.start()))}},hi.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hi.M=function(){zs.Z.M.call(this),Hs(this),delete this.g};class Ys extends Ii{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gs(this)}M(){super.M(),this.g&&(gi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(e){Ii.call(this),this.h=e,this.g={}}Ti(Ws,Ii);var Ks=[];function Qs(e,t,n,r){Array.isArray(n)||(n&&(Ks[0]=n.toString()),n=Ks);for(var i=0;i<n.length;i++){var s=ws(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Xs(e){Vi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Es(e)}),e),e.g={}}function Js(){this.g=!0}function Zs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Rs(n)}catch(_g){return t}}(e,n)+(r?" "+r:"")}))}Ws.prototype.M=function(){Ws.Z.M.call(this),Xs(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Js.prototype.Aa=function(){this.g=!1},Js.prototype.info=function(){};var ea={},ta=null;function na(){return ta=ta||new Ns}function ra(e){ls.call(this,ea.Ma,e)}function ia(e){const t=na();As(t,new ra(t,e))}function sa(e,t){ls.call(this,ea.STAT_EVENT,e),this.stat=t}function aa(e){const t=na();As(t,new sa(t,e))}function oa(e,t){ls.call(this,ea.Na,e),this.size=t}function la(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gi.setTimeout((function(){e()}),t)}ea.Ma="serverreachability",Ti(ra,ls),ea.STAT_EVENT="statevent",Ti(sa,ls),ea.Na="timingevent",Ti(oa,ls);var ua={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ca={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function da(){}function ha(e){return e.h||(e.h=e.i())}function fa(){}da.prototype.h=null;var pa,ma={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ga(){ls.call(this,"d")}function va(){ls.call(this,"c")}function ya(){}function ba(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ws(this),this.P=_a,e=Ki?125:void 0,this.W=new zs(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}Ti(ga,ls),Ti(va,ls),Ti(ya,da),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},pa=new ya;var _a=45e3,Sa={},ka={};function Ea(e,t,n){e.K=1,e.v=Ya(Ba(t)),e.s=n,e.U=!0,xa(e,null)}function xa(e,t){e.F=Date.now(),Da(e),e.A=Ba(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ao(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wa,e.g=ol(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ys(Ei(e.Ia,e,e.g),e.O)),Qs(e.V,e.g,"readystatechange",e.gb),t=e.H?Bi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ia(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");a=2<=d.length&&"type"==d[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ta(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ia(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Ca(e,n),r==ka){4==t&&(e.o=4,aa(14),i=!1),Zs(e.j,e.m,null,"[Incomplete Response]");break}if(r==Sa){e.o=4,aa(15),Zs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zs(e.j,e.m,r,null),Oa(e,r)}Ta(e)&&r!=ka&&r!=Sa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,aa(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zo(t),t.L=!0,aa(11))):(Zs(e.j,e.m,n,"[Invalid Chunked Response]"),Ra(e),Pa(e))}function Ca(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ka:(n=Number(t.substring(n,r)),isNaN(n)?Sa:(r+=1)+n>t.length?ka:(t=t.substr(r,n),e.C=r+n,t))}function Da(e){e.Y=Date.now()+e.P,Na(e,e.P)}function Na(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=la(Ei(e.eb,e),t)}function Aa(e){e.B&&(gi.clearTimeout(e.B),e.B=null)}function Pa(e){0==e.l.G||e.I||nl(e.l,e)}function Ra(e){Aa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hs(e.W),Xs(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Oa(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fo(n.i,e)))if(n.I=e.N,!e.J&&fo(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(Dg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;tl(n),Ho(n)}Jo(n),aa(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=la(Ei(n.ab,n),6e3));if(1>=ho(n.i)&&n.ka){try{n.ka()}catch(Dg){}n.ka=void 0}}else il(n,11)}else if((e.J||n.g==e)&&tl(n),!Ri(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Li(e,"spdy")||Li(e,"quic")||Li(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(po(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Ga(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var a=e;if((r=n).oa=al(r,r.H?r.la:null,r.W),a.J){mo(r.i,a);var o=a,l=r.K;l&&o.setTimeout(l),o.B&&(Aa(o),Da(o)),r.g=a}else Xo(r);0<n.l.length&&Yo(n)}else"stop"!=u[0]&&"close"!=u[0]||il(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?il(n,7):zo(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}ia(4)}catch(Dg){}}function Ma(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yi(e)||"string"===typeof e)Ni(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(yi(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(yi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function La(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof La)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ja(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Fa(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Fa(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Fa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(hi=ba.prototype).setTimeout=function(e){this.P=e},hi.gb=function(e){e=e.target;const t=this.L;t&&3==Fo(e)?t.l():this.Ia(e)},hi.Ia=function(e){try{if(e==this.g)e:{const c=Fo(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||Ki||this.g&&(this.h.h||this.g.ga()||Uo(this.g)))){this.I||4!=c||7==t||ia(8==t||0>=d?3:2),Aa(this);var n=this.g.ba();this.N=n;t:if(Ta(this)){var r=Uo(this.g);e="";var i=r.length,s=4==Fo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ra(this),Pa(this);var a="";break t}this.h.i=new gi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ri(o)){var u=o;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,aa(12),Ra(this),Pa(this);break e}Zs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oa(this,n)}this.U?(Ia(this,c,a),Ki&&this.i&&3==c&&(Qs(this.V,this.W,"tick",this.fb),this.W.start())):(Zs(this.j,this.m,a,null),Oa(this,a)),4==c&&Ra(this),this.i&&!this.I&&(4==c?nl(this.l,this):(this.i=!1,Da(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,aa(12)):(this.o=0,aa(13)),Ra(this),Pa(this)}}}catch(Fg){}},hi.fb=function(){if(this.g){var e=Fo(this.g),t=this.g.ga();this.C<t.length&&(Aa(this),Ia(this,e,t),this.i&&4!=e&&Da(this))}},hi.cancel=function(){this.I=!0,Ra(this)},hi.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ia(3),aa(17)),Ra(this),this.o=2,Pa(this)):Na(this,this.Y-e)},(hi=La.prototype).R=function(){ja(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},hi.T=function(){return ja(this),this.g.concat()},hi.get=function(e,t){return Fa(this.h,e)?this.h[e]:t},hi.set=function(e,t){Fa(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},hi.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Ua=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Va(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Va){this.g=void 0!==t?t:e.g,$a(this,e.j),this.s=e.s,za(this,e.i),Ha(this,e.m),this.l=e.l,t=e.h;var n=new no;n.i=t.i,t.g&&(n.g=new La(t.g),n.h=t.h),qa(this,n),this.o=e.o}else e&&(n=String(e).match(Ua))?(this.g=!!t,$a(this,n[1]||"",!0),this.s=Wa(n[2]||""),za(this,n[3]||"",!0),Ha(this,n[4]),this.l=Wa(n[5]||"",!0),qa(this,n[6]||"",!0),this.o=Wa(n[7]||"")):(this.g=!!t,this.h=new no(null,this.g))}function Ba(e){return new Va(e)}function $a(e,t,n){e.j=n?Wa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function za(e,t,n){e.i=n?Wa(t,!0):t}function Ha(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qa(e,t,n){t instanceof no?(e.h=t,function(e,t){t&&!e.j&&(ro(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(io(this,t),ao(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ka(t,eo)),e.h=new no(t,e.g))}function Ga(e,t,n){e.h.set(t,n)}function Ya(e){return Ga(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ka(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Va.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ka(t,Xa,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ka(t,Xa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ka(n,"/"==n.charAt(0)?Za:Ja,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ka(n,to)),e.join("")};var Xa=/[#\/\?@]/g,Ja=/[#\?:]/g,Za=/[#\?]/g,eo=/[#\?@]/g,to=/#/g;function no(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ro(e){e.g||(e.g=new La,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function io(e,t){ro(e),t=oo(e,t),Fa(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Fa((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ja(e)))}function so(e,t){return ro(e),t=oo(e,t),Fa(e.g.h,t)}function ao(e,t,n){io(e,t),0<n.length&&(e.i=null,e.g.set(oo(e,t),Pi(n)),e.h+=n.length)}function oo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hi=no.prototype).add=function(e,t){ro(this),this.i=null,e=oo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hi.forEach=function(e,t){ro(this),this.g.forEach((function(n,r){Ni(n,(function(n){e.call(t,n,r,this)}),this)}),this)},hi.T=function(){ro(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},hi.R=function(e){ro(this);var t=[];if("string"===typeof e)so(this,e)&&(t=Ai(t,this.g.get(oo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ai(t,e[n])}return t},hi.set=function(e,t){return ro(this),this.i=null,so(this,e=oo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hi.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},hi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;""!==r[s]&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function lo(e){this.l=e||uo,gi.PerformanceNavigationTiming?e=0<(e=gi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(gi.g&&gi.g.Ea&&gi.g.Ea()&&gi.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uo=10;function co(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ho(e){return e.h?1:e.g?e.g.size:0}function fo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function po(e,t){e.g?e.g.add(t):e.h=t}function mo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function go(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Pi(e.i)}function vo(){}function yo(){this.g=new vo}function bo(e,t,n){const r=n||"";try{Ma(e,(function(e,n){let i=e;bi(e)&&(i=Rs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(wv){throw t.push(r+"type="+encodeURIComponent("_badmap")),wv}}function wo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(xg){}}function _o(e){this.l=e.$b||null,this.j=e.ib||!1}function So(e,t){Ns.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ko,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lo.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},vo.prototype.stringify=function(e){return gi.JSON.stringify(e,void 0)},vo.prototype.parse=function(e){return gi.JSON.parse(e,void 0)},Ti(_o,da),_o.prototype.g=function(){return new So(this.l,this.j)},_o.prototype.i=function(e){return function(){return e}}({}),Ti(So,Ns);var ko=0;function Eo(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,To(e)}function To(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hi=So.prototype).open=function(e,t){if(this.readyState!=ko)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,To(this)},hi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||gi).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},hi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xo(this)),this.readyState=ko},hi.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,To(this)),this.g&&(this.readyState=3,To(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof gi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eo(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},hi.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xo(this):To(this),3==this.readyState&&Eo(this)}},hi.Ua=function(e){this.g&&(this.response=this.responseText=e,xo(this))},hi.Ta=function(e){this.g&&(this.response=e,xo(this))},hi.ha=function(){this.g&&xo(this)},hi.setRequestHeader=function(e,t){this.v.append(e,t)},hi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(So.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Io=gi.JSON.parse;function Co(e){Ns.call(this),this.headers=new La,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Do,this.K=this.L=!1}Ti(Co,Ns);var Do="",No=/^https?$/i,Ao=["POST","PUT"];function Po(e){return"content-type"==e.toLowerCase()}function Ro(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Oo(e),Lo(e)}function Oo(e){e.D||(e.D=!0,As(e,"complete"),As(e,"error"))}function Mo(e){if(e.h&&"undefined"!=typeof mi&&(!e.C[1]||4!=Fo(e)||2!=e.ba()))if(e.v&&4==Fo(e))qs(e.Fa,0,e);else if(As(e,"readystatechange"),4==Fo(e)){e.h=!1;try{const o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.H).match(Ua)[1]||null;if(!i&&gi.self&&gi.self.location){var s=gi.self.location.protocol;i=s.substr(0,s.length-1)}r=!No.test(i?i.toLowerCase():"")}n=r}if(n)As(e,"complete"),As(e,"success");else{e.m=6;try{var a=2<Fo(e)?e.g.statusText:""}catch(Rg){a=""}e.j=a+" ["+e.ba()+"]",Oo(e)}}finally{Lo(e)}}}function Lo(e,t){if(e.g){jo(e);const n=e.g,r=e.C[0]?vi:null;e.g=null,e.C=null,t||As(e,"ready");try{n.onreadystatechange=r}catch(wv){}}}function jo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(gi.clearTimeout(e.A),e.A=null)}function Fo(e){return e.g?e.g.readyState:0}function Uo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Do:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Vi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ga(e,t,n))}function Bo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $o(e){this.za=0,this.l=[],this.h=new Js,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bo("baseRetryDelayMs",5e3,e),this.$a=Bo("retryDelaySeedMs",1e4,e),this.Ya=Bo("forwardChannelMaxRetries",2,e),this.ra=Bo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new lo(e&&e.concurrentRequestLimit),this.Ca=new yo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zo(e){if(qo(e),3==e.G){var t=e.V++,n=Ba(e.F);Ga(n,"SID",e.J),Ga(n,"RID",t),Ga(n,"TYPE","terminate"),Ko(e,n),(t=new ba(e,e.h,t,void 0)).K=2,t.v=Ya(Ba(n)),n=!1,gi.navigator&&gi.navigator.sendBeacon&&(n=gi.navigator.sendBeacon(t.v.toString(),"")),!n&&gi.Image&&((new Image).src=t.v,n=!0),n||(t.g=ol(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Da(t)}sl(e)}function Ho(e){e.g&&(Zo(e),e.g.cancel(),e.g=null)}function qo(e){Ho(e),e.u&&(gi.clearTimeout(e.u),e.u=null),tl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&gi.clearTimeout(e.m),e.m=null)}function Go(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Yo(e)}function Yo(e){co(e.i)||e.m||(e.m=!0,Us(e.Ha,e),e.C=0)}function Wo(e,t){var n;n=t?t.m:e.V++;const r=Ba(e.F);Ga(r,"SID",e.J),Ga(r,"RID",n),Ga(r,"AID",e.U),Ko(e,r),e.o&&e.s&&Vo(r,e.o,e.s),n=new ba(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Qo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),po(e.i,n),Ea(n,r,t)}function Ko(e,t){e.j&&Ma({},(function(e,n){Ga(t,n,e)}))}function Qo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ei(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].h;const o=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),s=!1;else try{bo(o,e,"req"+n+"_")}catch(Ml){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Xo(e){e.g||e.u||(e.Y=1,Us(e.Ga,e),e.A=0)}function Jo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=la(Ei(e.Ga,e),rl(e,e.A)),e.A++,!0)}function Zo(e){null!=e.B&&(gi.clearTimeout(e.B),e.B=null)}function el(e){e.g=new ba(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ba(e.oa);Ga(t,"RID","rpc"),Ga(t,"SID",e.J),Ga(t,"CI",e.N?"0":"1"),Ga(t,"AID",e.U),Ko(e,t),Ga(t,"TYPE","xmlhttp"),e.o&&e.s&&Vo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ya(Ba(t)),n.s=null,n.U=!0,xa(n,e)}function tl(e){null!=e.v&&(gi.clearTimeout(e.v),e.v=null)}function nl(e,t){var n=null;if(e.g==t){tl(e),Zo(e),e.g=null;var r=2}else{if(!fo(e.i,t))return;n=t.D,mo(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;As(r=na(),new oa(r,n,t,i)),Yo(e)}else Xo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ho(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=la(Ei(e.Ha,e,t),rl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:il(e,5);break;case 4:il(e,10);break;case 3:il(e,6);break;default:il(e,2)}}function rl(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function il(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ei(e.jb,e);n||(n=new Va("//www.google.com/images/cleardot.gif"),gi.location&&"http"==gi.location.protocol||$a(n,"https"),Ya(n)),function(e,t){const n=new Js;if(gi.Image){const r=new Image;r.onload=xi(wo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xi(wo,n,r,"TestLoadImage: error",!1,t),r.onabort=xi(wo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xi(wo,n,r,"TestLoadImage: timeout",!1,t),gi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else aa(2);e.G=0,e.j&&e.j.va(t),sl(e),qo(e)}function sl(e){e.G=0,e.I=-1,e.j&&(0==go(e.i).length&&0==e.l.length||(e.i.i.length=0,Pi(e.l),e.l.length=0),e.j.ua())}function al(e,t,n){let r=function(e){return e instanceof Va?Ba(e):new Va(e,void 0)}(n);if(""!=r.i)t&&za(r,t+"."+r.i),Ha(r,r.m);else{const e=gi.location;r=function(e,t,n,r){var i=new Va(null,void 0);return e&&$a(i,e),t&&za(i,t),n&&Ha(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Vi(e.aa,(function(e,t){Ga(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ga(r,t,n),Ga(r,"VER",e.ma),Ko(e,r),r}function ol(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Co(new _o({ib:!0})):new Co(e.qa)).L=e.H,t}function ll(){}function ul(){if(Yi&&!(10<=Number(as)))throw Error("Environmental error: no available transport.")}function cl(e,t){Ns.call(this),this.g=new $o(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ri(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ri(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fl(this)}function dl(e){ga.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hl(){va.call(this),this.status=1}function fl(e){this.g=e}(hi=Co.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pa.g(),this.C=this.u?ha(this.u):ha(pa),this.g.onreadystatechange=Ei(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(xg){return void Ro(this,xg)}e=n||"";const i=new La(this.headers);r&&Ma(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Po;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=gi.FormData&&e instanceof gi.FormData,!(0<=Di(Ao,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jo(this),0<this.B&&((this.K=function(e){return Yi&&is()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ei(this.pa,this)):this.A=qs(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(xg){Ro(this,xg)}},hi.pa=function(){"undefined"!=typeof mi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,As(this,"timeout"),this.abort(8))},hi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,As(this,"complete"),As(this,"abort"),Lo(this))},hi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lo(this,!0)),Co.Z.M.call(this)},hi.Fa=function(){this.s||(this.F||this.v||this.l?Mo(this):this.cb())},hi.cb=function(){Mo(this)},hi.ba=function(){try{return 2<Fo(this)?this.g.status:-1}catch(e){return-1}},hi.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},hi.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Io(t)}},hi.Da=function(){return this.m},hi.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(hi=$o.prototype).ma=8,hi.G=1,hi.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},hi.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new ba(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Bi(s),zi(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qo(this,i,t),Ga(n=Ba(this.F),"RID",e),Ga(n,"CVER",22),this.D&&Ga(n,"X-HTTP-Session-Id",this.D),Ko(this,n),this.o&&s&&Vo(n,this.o,s),po(this.i,i),this.Ra&&Ga(n,"TYPE","init"),this.ja?(Ga(n,"$req",t),Ga(n,"SID","null"),i.$=!0,Ea(i,n,null)):Ea(i,n,t),this.G=2}}else 3==this.G&&(e?Wo(this,e):0==this.l.length||co(this.i)||Wo(this))},hi.Ga=function(){if(this.u=null,el(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=la(Ei(this.bb,this),e)}},hi.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,aa(10),Ho(this),el(this))},hi.ab=function(){null!=this.v&&(this.v=null,Ho(this),Jo(this),aa(19))},hi.jb=function(e){e?(this.h.info("Successfully pinged google.com"),aa(2)):(this.h.info("Failed to ping google.com"),aa(1))},(hi=ll.prototype).xa=function(){},hi.wa=function(){},hi.va=function(){},hi.ua=function(){},hi.Oa=function(){},ul.prototype.g=function(e,t){return new cl(e,t)},Ti(cl,Ns),cl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Us(Ei(e.hb,e,t))),aa(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=al(e,null,e.W),Yo(e)},cl.prototype.close=function(){zo(this.g)},cl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Go(this.g,t)}else this.v?((t={}).__data__=Rs(e),Go(this.g,t)):Go(this.g,e)},cl.prototype.M=function(){this.g.j=null,delete this.j,zo(this.g),delete this.g,cl.Z.M.call(this)},Ti(dl,ga),Ti(hl,va),Ti(fl,ll),fl.prototype.xa=function(){As(this.g,"a")},fl.prototype.wa=function(e){As(this.g,new dl(e))},fl.prototype.va=function(e){As(this.g,new hl(e))},fl.prototype.ua=function(){As(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,cl.prototype.send=cl.prototype.u,cl.prototype.open=cl.prototype.m,cl.prototype.close=cl.prototype.close,ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,ca.COMPLETE="complete",fa.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",Ns.prototype.listen=Ns.prototype.N,Co.prototype.listenOnce=Co.prototype.O,Co.prototype.getLastError=Co.prototype.La,Co.prototype.getLastErrorCode=Co.prototype.Da,Co.prototype.getStatus=Co.prototype.ba,Co.prototype.getResponseJson=Co.prototype.Qa,Co.prototype.getResponseText=Co.prototype.ga,Co.prototype.send=Co.prototype.ea;var pl=pi.createWebChannelTransport=function(){return new ul},ml=pi.getStatEventTarget=function(){return na()},gl=pi.ErrorCode=ua,vl=pi.EventType=ca,yl=pi.Event=ea,bl=pi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wl=pi.FetchXmlHttpFactory=_o,_l=pi.WebChannel=fa,Sl=pi.XhrIo=Co;const kl="@firebase/firestore";class El{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}El.UNAUTHENTICATED=new El(null),El.GOOGLE_CREDENTIALS=new El("google-credentials-uid"),El.FIRST_PARTY=new El("first-party-uid"),El.MOCK_USER=new El("mock-user");let xl="9.8.3";const Tl=new Ce("@firebase/firestore");function Il(){return Tl.logLevel}function Cl(e){if(Tl.logLevel<=ke.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Al);Tl.debug(`Firestore (${xl}): ${e}`,...i)}}function Dl(e){if(Tl.logLevel<=ke.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Al);Tl.error(`Firestore (${xl}): ${e}`,...i)}}function Nl(e){if(Tl.logLevel<=ke.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Al);Tl.warn(`Firestore (${xl}): ${e}`,...i)}}function Al(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: `+e;throw Dl(t),new Error(t)}function Rl(e,t){e||Pl()}function Ol(e,t){return e}const Ml={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ll extends oe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Fl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ul{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(El.UNAUTHENTICATED)))}shutdown(){}}class Vl{constructor(e){this.t=e,this.currentUser=El.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new jl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jl,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Cl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Cl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jl)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Cl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rl("string"==typeof t.accessToken),new Fl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rl(null===e||"string"==typeof e),new El(e)}}class Bl{constructor(e,t,n){this.type="FirstParty",this.user=El.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class $l{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Bl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(El.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hl{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Cl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Cl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Cl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Cl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Rl("string"==typeof e.token),this.p=e.token,new zl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ql(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Gl{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=ql(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Yl(e,t){return e<t?-1:e>t?1:0}function Wl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Kl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ll(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ll(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ll(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ll(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kl.fromMillis(Date.now())}static fromDate(e){return Kl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Kl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yl(this.nanoseconds,e.nanoseconds):Yl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ql{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ql(e)}static min(){return new Ql(new Kl(0,0))}static max(){return new Ql(new Kl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pl(),void 0===n?n=e.length-t:n>e.length-t&&Pl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Xl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jl extends Xl{construct(e,t,n){return new Jl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ll(Ml.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Jl(e)}static emptyPath(){return new Jl([])}}const Zl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eu extends Xl{construct(e,t,n){return new eu(e,t,n)}static isValidIdentifier(e){return Zl.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new eu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ll(Ml.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ll(Ml.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ll(Ml.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ll(Ml.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eu(t)}static emptyPath(){return new eu([])}}class tu{constructor(e){this.path=e}static fromPath(e){return new tu(Jl.fromString(e))}static fromName(e){return new tu(Jl.fromString(e).popFirst(5))}static empty(){return new tu(Jl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tu(new Jl(e.slice()))}}class nu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}nu.UNKNOWN_ID=-1;function ru(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ql.fromTimestamp(1e9===r?new Kl(n+1,0):new Kl(n,r));return new su(i,tu.empty(),t)}function iu(e){return new su(e.readTime,e.key,-1)}class su{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new su(Ql.min(),tu.empty(),-1)}static max(){return new su(Ql.max(),tu.empty(),-1)}}function au(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=tu.comparator(e.documentKey,t.documentKey),0!==n?n:Yl(e.largestBatchId,t.largestBatchId))}const ou="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function uu(e){if(e.code!==Ml.FAILED_PRECONDITION||e.message!==ou)throw e;Cl("LocalStore","Unexpectedly lost primary lease")}class cu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new cu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof cu?t:cu.resolve(t)}catch(e){return cu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):cu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):cu.reject(t)}static resolve(e){return new cu(((t,n)=>{t(e)}))}static reject(e){return new cu(((t,n)=>{n(e)}))}static waitFor(e){return new cu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=cu.resolve(!1);for(const n of e)t=t.next((e=>e?cu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new cu(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new cu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function du(e){return"IndexedDbTransactionError"===e.name}class hu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.it(e),this.rt=e=>t.writeSequenceNumber(e))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function fu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}hu.ot=-1;class gu{constructor(e,t){this.comparator=e,this.root=t||yu.EMPTY}insert(e,t){return new gu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yu.BLACK,null,null))}remove(e){return new gu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vu(this.root,e,this.comparator,!0)}}class vu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yu.RED,this.left=null!=r?r:yu.EMPTY,this.right=null!=i?i:yu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new yu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pl();if(this.right.isRed())throw Pl();const e=this.left.check();if(e!==this.right.check())throw Pl();return e+(this.isRed()?0:1)}}yu.EMPTY=null,yu.RED=!0,yu.BLACK=!1,yu.EMPTY=new class{constructor(){this.size=0}get key(){throw Pl()}get value(){throw Pl()}get color(){throw Pl()}get left(){throw Pl()}get right(){throw Pl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new yu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bu{constructor(e){this.comparator=e,this.data=new gu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wu(this.data.getIterator())}getIteratorFrom(e){return new wu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof bu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bu(this.comparator);return t.data=e,t}}class wu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _u{constructor(e){this.fields=e,e.sort(eu.comparator)}static empty(){return new _u([])}unionWith(e){let t=new bu(eu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _u(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Su{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Su(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Su(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Su.EMPTY_BYTE_STRING=new Su("");const ku=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eu(e){if(Rl(!!e),"string"==typeof e){let t=0;const n=ku.exec(e);if(Rl(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xu(e.seconds),nanos:xu(e.nanos)}}function xu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tu(e){return"string"==typeof e?Su.fromBase64String(e):Su.fromUint8Array(e)}function Iu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cu(e){const t=e.mapValue.fields.__previous_value__;return Iu(t)?Cu(t):t}function Du(e){const t=Eu(e.mapValue.fields.__local_write_time__.timestampValue);return new Kl(t.seconds,t.nanos)}class Nu{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class Au{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Au("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}function Pu(e){return null==e}function Ru(e){return 0===e&&1/e==-1/0}function Ou(e){return"number"==typeof e&&Number.isInteger(e)&&!Ru(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iu(e)?4:Qu(e)?9007199254740991:10:Pl()}function ju(e,t){if(e===t)return!0;const n=Lu(e);if(n!==Lu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Du(e).isEqual(Du(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Eu(e.timestampValue),r=Eu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tu(e.bytesValue).isEqual(Tu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xu(e.geoPointValue.latitude)===xu(t.geoPointValue.latitude)&&xu(e.geoPointValue.longitude)===xu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xu(e.integerValue)===xu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xu(e.doubleValue),r=xu(t.doubleValue);return n===r?Ru(n)===Ru(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wl(e.arrayValue.values||[],t.arrayValue.values||[],ju);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fu(n)!==fu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ju(n[i],r[i])))return!1;return!0}(e,t);default:return Pl()}}function Fu(e,t){return void 0!==(e.values||[]).find((e=>ju(e,t)))}function Uu(e,t){if(e===t)return 0;const n=Lu(e),r=Lu(t);if(n!==r)return Yl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xu(e.integerValue||e.doubleValue),r=xu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vu(e.timestampValue,t.timestampValue);case 4:return Vu(Du(e),Du(t));case 5:return Yl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Tu(e),r=Tu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Yl(n[i],r[i]);if(0!==e)return e}return Yl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Yl(xu(e.latitude),xu(t.latitude));return 0!==n?n:Yl(xu(e.longitude),xu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Uu(n[i],r[i]);if(e)return e}return Yl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Mu.mapValue&&t===Mu.mapValue)return 0;if(e===Mu.mapValue)return 1;if(t===Mu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Yl(r[a],s[a]);if(0!==e)return e;const t=Uu(n[r[a]],i[s[a]]);if(0!==t)return t}return Yl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Pl()}}function Vu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yl(e,t);const n=Eu(e),r=Eu(t),i=Yl(n.seconds,r.seconds);return 0!==i?i:Yl(n.nanos,r.nanos)}function Bu(e){return $u(e)}function $u(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Eu(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Tu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$u(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${$u(e.fields[i])}`;return n+"}"}(e.mapValue):Pl();var t,n}function zu(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Hu(e){return!!e&&"integerValue"in e}function qu(e){return!!e&&"arrayValue"in e}function Gu(e){return!!e&&"nullValue"in e}function Yu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wu(e){return!!e&&"mapValue"in e}function Ku(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ku(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ku(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Qu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xu{constructor(e){this.value=e}static empty(){return new Xu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Wu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=eu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ku(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Wu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ju(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Wu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Xu(Ku(this.value))}}function Ju(e){const t=[];return pu(e.fields,((e,n)=>{const r=new eu([e]);if(Wu(n)){const e=Ju(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new _u(t)}class Zu{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Zu(e,0,Ql.min(),Ql.min(),Xu.empty(),0)}static newFoundDocument(e,t,n){return new Zu(e,1,t,Ql.min(),n,0)}static newNoDocument(e,t){return new Zu(e,2,t,Ql.min(),Xu.empty(),0)}static newUnknownDocument(e,t){return new Zu(e,3,t,Ql.min(),Xu.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ql.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zu(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ut=null}}function tc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ec(e,t,n,r,i,s,a)}function nc(e){const t=Ol(e);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+Bu(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Pu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Bu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Bu(e))).join(",")),t.ut=e}return t.ut}function rc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!gc(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!ju(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yc(e.startAt,t.startAt)&&yc(e.endAt,t.endAt)}function ic(e){return tu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class sc extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,n):new ac(e,t,n):"array-contains"===t?new cc(e,n):"in"===t?new dc(e,n):"not-in"===t?new hc(e,n):"array-contains-any"===t?new fc(e,n):new sc(e,t,n)}static ct(e,t,n){return"in"===t?new oc(e,n):new lc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Uu(t,this.value)):null!==t&&Lu(this.value)===Lu(t)&&this.at(Uu(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pl()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ac extends sc{constructor(e,t,n){super(e,t,n),this.key=tu.fromName(n.referenceValue)}matches(e){const t=tu.comparator(e.key,this.key);return this.at(t)}}class oc extends sc{constructor(e,t){super(e,"in",t),this.keys=uc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lc extends sc{constructor(e,t){super(e,"not-in",t),this.keys=uc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function uc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>tu.fromName(e.referenceValue)))}class cc extends sc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qu(t)&&Fu(t.arrayValue,this.value)}}class dc extends sc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fu(this.value.arrayValue,t)}}class hc extends sc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fu(this.value.arrayValue,t)}}class fc extends sc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Fu(this.value.arrayValue,e)))}}class pc{constructor(e,t){this.position=e,this.inclusive=t}}class mc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function gc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function vc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?tu.comparator(tu.fromName(a.referenceValue),n.key):Uu(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function yc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ju(e.position[n],t.position[n]))return!1;return!0}class bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.lt=null,this.ft=null,this.startAt,this.endAt}}function wc(e,t,n,r,i,s,a,o){return new bc(e,t,n,r,i,s,a,o)}function _c(e){return new bc(e)}function Sc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function kc(e){for(const t of e.filters)if(t.ht())return t.field;return null}function Ec(e){return null!==e.collectionGroup}function xc(e){const t=Ol(e);if(null===t.lt){t.lt=[];const e=kc(t),n=Sc(t);if(null!==e&&null===n)e.isKeyField()||t.lt.push(new mc(e)),t.lt.push(new mc(eu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.lt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new mc(eu.keyField(),e))}}}return t.lt}function Tc(e){const t=Ol(e);if(!t.ft)if("F"===t.limitType)t.ft=tc(t.path,t.collectionGroup,xc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of xc(t)){const t="desc"===i.dir?"asc":"desc";e.push(new mc(i.field,t))}const n=t.endAt?new pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pc(t.startAt.position,t.startAt.inclusive):null;t.ft=tc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.ft}function Ic(e,t,n){return new bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return rc(Tc(e),Tc(t))&&e.limitType===t.limitType}function Dc(e){return`${nc(Tc(e))}|lt:${e.limitType}`}function Nc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Bu(t.value)}`;var t})).join(", ")}]`),Pu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Bu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Bu(e))).join(",")),`Target(${t})`}(Tc(e))}; limitType=${e.limitType})`}function Ac(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=vc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xc(e),t))&&!(e.endAt&&!function(e,t,n){const r=vc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xc(e),t))}(e,t)}function Pc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rc(e){return(t,n)=>{let r=!1;for(const i of xc(e)){const e=Oc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Oc(e,t,n){const r=e.field.isKeyField()?tu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Uu(r,i):Pl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pl()}}function Mc(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ru(t)?"-0":t}}function Lc(e){return{integerValue:""+e}}function jc(e,t){return Ou(t)?Lc(t):Mc(e,t)}class Fc{constructor(){this._=void 0}}function Uc(e,t,n){return e instanceof $c?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof zc?Hc(e,t):e instanceof qc?Gc(e,t):function(e,t){const n=Bc(e,t),r=Wc(n)+Wc(e._t);return Hu(n)&&Hu(e._t)?Lc(r):Mc(e.wt,r)}(e,t)}function Vc(e,t,n){return e instanceof zc?Hc(e,t):e instanceof qc?Gc(e,t):n}function Bc(e,t){return e instanceof Yc?Hu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class $c extends Fc{}class zc extends Fc{constructor(e){super(),this.elements=e}}function Hc(e,t){const n=Kc(t);for(const r of e.elements)n.some((e=>ju(e,r)))||n.push(r);return{arrayValue:{values:n}}}class qc extends Fc{constructor(e){super(),this.elements=e}}function Gc(e,t){let n=Kc(t);for(const r of e.elements)n=n.filter((e=>!ju(e,r)));return{arrayValue:{values:n}}}class Yc extends Fc{constructor(e,t){super(),this.wt=e,this._t=t}}function Wc(e){return xu(e.integerValue||e.doubleValue)}function Kc(e){return qu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Qc{constructor(e,t){this.field=e,this.transform=t}}class Xc{constructor(e,t){this.version=e,this.transformResults=t}}class Jc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jc}static exists(e){return new Jc(void 0,e)}static updateTime(e){return new Jc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ed{}function td(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dd(e.key,Jc.none()):new ad(e.key,e.data,Jc.none());{const n=e.data,r=Xu.empty();let i=new bu(eu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new od(e.key,r,new _u(i.toArray()),Jc.none())}}function nd(e,t,n){e instanceof ad?function(e,t,n){const r=e.value.clone(),i=ud(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof od?function(e,t,n){if(!Zc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ud(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ld(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rd(e,t,n,r){return e instanceof ad?function(e,t,n,r){if(!Zc(e.precondition,t))return n;const i=e.value.clone(),s=cd(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof od?function(e,t,n,r){if(!Zc(e.precondition,t))return n;const i=cd(e.fieldTransforms,r,t),s=t.data;return s.setAll(ld(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Zc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function id(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Bc(r.transform,e||null);null!=i&&(null===n&&(n=Xu.empty()),n.set(r.field,i))}return n||null}function sd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof zc&&t instanceof zc||e instanceof qc&&t instanceof qc?Wl(e.elements,t.elements,ju):e instanceof Yc&&t instanceof Yc?ju(e._t,t._t):e instanceof $c&&t instanceof $c}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ad extends ed{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class od extends ed{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ld(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ud(e,t,n){const r=new Map;Rl(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Vc(a,o,n[i]))}return r}function cd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Uc(e,s,t))}return r}class dd extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hd extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fd{constructor(e){this.count=e}}var pd,md;function gd(e){switch(e){default:return Pl();case Ml.CANCELLED:case Ml.UNKNOWN:case Ml.DEADLINE_EXCEEDED:case Ml.RESOURCE_EXHAUSTED:case Ml.INTERNAL:case Ml.UNAVAILABLE:case Ml.UNAUTHENTICATED:return!1;case Ml.INVALID_ARGUMENT:case Ml.NOT_FOUND:case Ml.ALREADY_EXISTS:case Ml.PERMISSION_DENIED:case Ml.FAILED_PRECONDITION:case Ml.ABORTED:case Ml.OUT_OF_RANGE:case Ml.UNIMPLEMENTED:case Ml.DATA_LOSS:return!0}}function vd(e){if(void 0===e)return Dl("GRPC error has no .code"),Ml.UNKNOWN;switch(e){case pd.OK:return Ml.OK;case pd.CANCELLED:return Ml.CANCELLED;case pd.UNKNOWN:return Ml.UNKNOWN;case pd.DEADLINE_EXCEEDED:return Ml.DEADLINE_EXCEEDED;case pd.RESOURCE_EXHAUSTED:return Ml.RESOURCE_EXHAUSTED;case pd.INTERNAL:return Ml.INTERNAL;case pd.UNAVAILABLE:return Ml.UNAVAILABLE;case pd.UNAUTHENTICATED:return Ml.UNAUTHENTICATED;case pd.INVALID_ARGUMENT:return Ml.INVALID_ARGUMENT;case pd.NOT_FOUND:return Ml.NOT_FOUND;case pd.ALREADY_EXISTS:return Ml.ALREADY_EXISTS;case pd.PERMISSION_DENIED:return Ml.PERMISSION_DENIED;case pd.FAILED_PRECONDITION:return Ml.FAILED_PRECONDITION;case pd.ABORTED:return Ml.ABORTED;case pd.OUT_OF_RANGE:return Ml.OUT_OF_RANGE;case pd.UNIMPLEMENTED:return Ml.UNIMPLEMENTED;case pd.DATA_LOSS:return Ml.DATA_LOSS;default:return Pl()}}(md=pd||(pd={}))[md.OK=0]="OK",md[md.CANCELLED=1]="CANCELLED",md[md.UNKNOWN=2]="UNKNOWN",md[md.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",md[md.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",md[md.NOT_FOUND=5]="NOT_FOUND",md[md.ALREADY_EXISTS=6]="ALREADY_EXISTS",md[md.PERMISSION_DENIED=7]="PERMISSION_DENIED",md[md.UNAUTHENTICATED=16]="UNAUTHENTICATED",md[md.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",md[md.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",md[md.ABORTED=10]="ABORTED",md[md.OUT_OF_RANGE=11]="OUT_OF_RANGE",md[md.UNIMPLEMENTED=12]="UNIMPLEMENTED",md[md.INTERNAL=13]="INTERNAL",md[md.UNAVAILABLE=14]="UNAVAILABLE",md[md.DATA_LOSS=15]="DATA_LOSS";class yd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return mu(this.inner)}size(){return this.innerSize}}const bd=new gu(tu.comparator);function wd(){return bd}const _d=new gu(tu.comparator);function Sd(){let e=_d;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function kd(e){let t=_d;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ed(){return Td()}function xd(){return Td()}function Td(){return new yd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Id=new gu(tu.comparator),Cd=new bu(tu.comparator);function Dd(){let e=Cd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Nd=new bu(Yl);function Ad(){return Nd}class Pd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Pd(Ql.min(),n,Ad(),wd(),Dd())}}class Rd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Rd(Su.EMPTY_BYTE_STRING,t,Dd(),Dd(),Dd())}}class Od{constructor(e,t,n,r){this.gt=e,this.removedTargetIds=t,this.key=n,this.yt=r}}class Md{constructor(e,t){this.targetId=e,this.It=t}}class Ld{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Su.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jd{constructor(){this.Tt=0,this.Et=Vd(),this.At=Su.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Dd(),t=Dd(),n=Dd();return this.Et.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pl()}})),new Rd(this.At,this.Rt,e,t,n)}Dt(){this.bt=!1,this.Et=Vd()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Fd{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=wd(),this.Bt=Ud(),this.Lt=new bu(Yl)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,(t=>{const n=this.Qt(t);switch(e.state){case 0:this.jt(t)&&n.Vt(e.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(e.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(n.Ot(),n.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),n.Vt(e.resumeToken));break;default:Pl()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach(((e,n)=>{this.jt(n)&&t(n)}))}zt(e){const t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){const e=r.target;if(ic(e))if(0===n){const n=new tu(e.path);this.Kt(t,n,Zu.newNoDocument(n,Ql.min()))}else Rl(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach(((n,r)=>{const i=this.Ht(r);if(i){if(n.current&&ic(i.target)){const t=new tu(i.target.path);null!==this.$t.get(t)||this.Xt(r,t)||this.Kt(r,t,Zu.newNoDocument(t,e))}n.vt&&(t.set(r,n.St()),n.Dt())}}));let n=Dd();this.Bt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ht(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.$t.forEach(((t,n)=>n.setReadTime(e)));const r=new Pd(e,t,this.Lt,this.$t,n);return this.$t=wd(),this.Bt=Ud(),this.Lt=new bu(Yl),r}qt(e,t){if(!this.jt(e))return;const n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,n){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new jd,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new bu(Yl),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Cl("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new jd),this.Mt.getRemoteKeysForTarget(e).forEach((t=>{this.Kt(e,t,null)}))}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function Ud(){return new gu(tu.comparator)}function Vd(){return new gu(tu.comparator)}const Bd={asc:"ASCENDING",desc:"DESCENDING"},$d={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zd{constructor(e,t){this.databaseId=e,this.dt=t}}function Hd(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qd(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Gd(e,t){return Hd(e,t.toTimestamp())}function Yd(e){return Rl(!!e),Ql.fromTimestamp(function(e){const t=Eu(e);return new Kl(t.seconds,t.nanos)}(e))}function Wd(e,t){return function(e){return new Jl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Kd(e){const t=Jl.fromString(e);return Rl(mh(t)),t}function Qd(e,t){return Wd(e.databaseId,t.path)}function Xd(e,t){const n=Kd(t);if(n.get(1)!==e.databaseId.projectId)throw new Ll(Ml.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ll(Ml.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tu(th(n))}function Jd(e,t){return Wd(e.databaseId,t)}function Zd(e){const t=Kd(e);return 4===t.length?Jl.emptyPath():th(t)}function eh(e){return new Jl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function th(e){return Rl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function nh(e,t,n){return{name:Qd(e,t),fields:n.value.mapValue.fields}}function rh(e,t){let n;if(t instanceof ad)n={update:nh(e,t.key,t.value)};else if(t instanceof dd)n={delete:Qd(e,t.key)};else if(t instanceof od)n={update:nh(e,t.key,t.data),updateMask:ph(t.fieldMask)};else{if(!(t instanceof hd))return Pl();n={verify:Qd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof $c)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof zc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yc)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Pl()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pl()}(e,t.precondition)),n}function ih(e,t){return{documents:[Jd(e,t.path)]}}function sh(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Jd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Jd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Yu(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NAN"}};if(Gu(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yu(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NAN"}};if(Gu(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(e.field),op:uh(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ch(e.field),direction:lh(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.dt||Pu(t)?t:{value:t}}(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ah(e){let t=Zd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rl(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=oh(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new mc(dh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Pu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new pc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new pc(n,t)}(n.endAt)),wc(t,i,a,s,o,"F",l,u)}function oh(e){return e?void 0!==e.unaryFilter?[fh(e)]:void 0!==e.fieldFilter?[hh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>oh(e))).reduce(((e,t)=>e.concat(t))):Pl():[]}function lh(e){return Bd[e]}function uh(e){return $d[e]}function ch(e){return{fieldPath:e.canonicalString()}}function dh(e){return eu.fromServerFormat(e.fieldPath)}function hh(e){return sc.create(dh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pl()}}(e.fieldFilter.op),e.fieldFilter.value)}function fh(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dh(e.unaryFilter.field);return sc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=dh(e.unaryFilter.field);return sc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dh(e.unaryFilter.field);return sc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=dh(e.unaryFilter.field);return sc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pl()}}function ph(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function mh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}const gh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yh=vh;class bh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&nd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=rd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=rd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xd();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=td(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ql.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Dd())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((e,t)=>sd(e,t)))&&Wl(this.baseMutations,e.baseMutations,((e,t)=>sd(e,t)))}}class wh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rl(e.mutations.length===n.length);let r=Id;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new wh(e,t,n,r)}}class _h{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ql.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ql.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Su.EMPTY_BYTE_STRING;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kh{constructor(e){this.ne=e}}function Eh(e){const t=ah({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ic(t,t.limit,"L"):t}class xh{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(xu(e.integerValue));else if("doubleValue"in e){const n=xu(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Ru(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ce(t,20),"string"==typeof n?t.he(n):(t.he(`${n.seconds||""}`),t.ae(n.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Tu(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ce(t,45),t.ae(n.latitude||0),t.ae(n.longitude||0)}else"mapValue"in e?Qu(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Pl()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const n=e.fields||{};this.ce(t,55);for(const r of Object.keys(n))this.le(r,t),this.oe(n[r],t)}me(e,t){const n=e.values||[];this.ce(t,50);for(const r of n)this.oe(r,t)}_e(e,t){this.ce(t,37),tu.fromName(e).path.forEach((e=>{this.ce(t,60),this.ge(e,t)}))}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}xh.ye=new xh;class Th{constructor(){this.ze=new Ih}addToCollectionParentIndex(e,t){return this.ze.add(t),cu.resolve()}getCollectionParents(e,t){return cu.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return cu.resolve()}deleteFieldIndex(e,t){return cu.resolve()}getDocumentsMatchingTarget(e,t){return cu.resolve(null)}getIndexType(e,t){return cu.resolve(0)}getFieldIndexes(e,t){return cu.resolve([])}getNextCollectionGroupToUpdate(e){return cu.resolve(null)}getMinOffset(e,t){return cu.resolve(su.min())}getMinOffsetFromCollectionGroup(e,t){return cu.resolve(su.min())}updateCollectionGroup(e,t,n){return cu.resolve()}updateIndexEntries(e,t){return cu.resolve()}}class Ih{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bu(Jl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bu(Jl.comparator)).toArray()}}new Uint8Array(0);class Ch{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ch(e,Ch.DEFAULT_COLLECTION_PERCENTILE,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ch.DEFAULT_COLLECTION_PERCENTILE=10,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ch.DEFAULT=new Ch(41943040,Ch.DEFAULT_COLLECTION_PERCENTILE,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ch.DISABLED=new Ch(-1,0,0);class Dh{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Dh(0)}static Rn(){return new Dh(-1)}}class Nh{constructor(){this.changes=new yd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?cu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ah{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ph{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.getBaseDocument(e,t,n)))).next((e=>(null!==n&&rd(n.mutation,e,_u.empty(),Kl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Dd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dd();const r=Ed();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Sd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ed();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Dd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=wd();const s=Td(),a=Td();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof od)?i=i.insert(t.key,t):void 0!==a&&(s.set(t.key,a.mutation.getFieldMask()),rd(a.mutation,t,a.mutation.getFieldMask(),Kl.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Ah(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Td();let r=new gu(((e,t)=>e-t)),i=Dd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||_u.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Dd()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,u=xd();l.forEach((e=>{if(!i.has(e)){const r=td(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return cu.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return tu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ec(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):cu.resolve(Ed());let a=-1,o=i;return s.next((t=>cu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?cu.resolve():this.getBaseDocument(e,t,n).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Dd()))).next((e=>({batchId:a,changes:kd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tu(t)).next((e=>{let t=Sd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Sd();return this.indexManager.getCollectionParents(e,r).next((s=>cu.forEach(s,(s=>{const a=function(e,t){return new bc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,Zu.newInvalidDocument(n)))}));let n=Sd();return r.forEach(((r,i)=>{const s=e.get(r);void 0!==s&&rd(s.mutation,i,_u.empty(),Kl.now()),Ac(t,i)&&(n=n.insert(r,i))})),n}))}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):cu.resolve(Zu.newInvalidDocument(t))}}class Rh{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return cu.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Yd(n.createTime)}),cu.resolve()}getNamedQuery(e,t){return cu.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Eh(e.bundledQuery),readTime:Yd(e.readTime)}}(t)),cu.resolve()}}class Oh{constructor(){this.overlays=new gu(tu.comparator),this.Xn=new Map}getOverlay(e,t){return cu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ed();return cu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ie(e,t,r)})),cu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Xn.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Xn.delete(n)),cu.resolve()}getOverlaysForCollection(e,t,n){const r=Ed(),i=t.length+1,s=new tu(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return cu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new gu(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ed(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ed(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return cu.resolve(a)}ie(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _h(t,n));let i=this.Xn.get(t);void 0===i&&(i=Dd(),this.Xn.set(t,i)),this.Xn.set(t,i.add(n.key))}}class Mh{constructor(){this.Zn=new bu(Lh.ts),this.es=new bu(Lh.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Lh(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new Lh(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new tu(new Jl([])),n=new Lh(t,e),r=new Lh(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}cs(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new tu(new Jl([])),n=new Lh(t,e),r=new Lh(t,e+1);let i=Dd();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Lh(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lh{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return tu.comparator(e.key,t.key)||Yl(e.ls,t.ls)}static ns(e,t){return Yl(e.ls,t.ls)||tu.comparator(e.key,t.key)}}class jh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new bu(Lh.ts)}checkEmpty(e){return cu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new bh(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.ds=this.ds.add(new Lh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return cu.resolve(s)}lookupMutationBatch(e,t){return cu.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ws(n),i=r<0?0:r;return cu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return cu.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return cu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lh(t,0),r=new Lh(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this._s(e.ls);i.push(t)})),cu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bu(Yl);return t.forEach((e=>{const t=new Lh(e,0),r=new Lh(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),cu.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;tu.isDocumentKey(i)||(i=i.child(""));const s=new Lh(new tu(i),0);let a=new bu(Yl);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ls)),!0)}),s),cu.resolve(this.gs(a))}gs(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Rl(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let n=this.ds;return cu.forEach(t.mutations,(r=>{const i=new Lh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}In(e){}containsKey(e,t){const n=new Lh(t,0),r=this.ds.firstAfterOrEqual(n);return cu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,cu.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fh{constructor(e){this.ps=e,this.docs=new gu(tu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return cu.resolve(n?n.document.mutableCopy():Zu.newInvalidDocument(t))}getEntries(e,t){let n=wd();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Zu.newInvalidDocument(e))})),cu.resolve(n)}getAllFromCollection(e,t,n){let r=wd();const i=new tu(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||au(iu(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return cu.resolve(r)}getAllFromCollectionGroup(e,t,n,r){Pl()}Is(e,t){return cu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Uh(this)}getSize(e){return cu.resolve(this.size)}}class Uh extends Nh{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(n)})),cu.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Vh{constructor(e){this.persistence=e,this.Ts=new yd((e=>nc(e)),rc),this.lastRemoteSnapshotVersion=Ql.min(),this.highestTargetId=0,this.Es=0,this.As=new Mh,this.targetCount=0,this.Rs=Dh.An()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),cu.resolve()}getLastRemoteSnapshotVersion(e){return cu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return cu.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),cu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),cu.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Dh(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,cu.resolve()}updateTargetData(e,t){return this.vn(t),cu.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,cu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),cu.waitFor(i).next((()=>r))}getTargetCount(e){return cu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return cu.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),cu.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),cu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),cu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return cu.resolve(n)}containsKey(e,t){return cu.resolve(this.As.containsKey(t))}}class Bh{constructor(e,t){this.bs={},this.overlays={},this.Ps=new hu(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Vh(this),this.indexManager=new Th,this.remoteDocumentCache=function(e){return new Fh(e)}((e=>this.referenceDelegate.Ss(e))),this.wt=new kh(t),this.Ds=new Rh(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.bs[e.toKey()];return n||(n=new jh(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,n){Cl("MemoryPersistence","Starting transaction:",e);const r=new $h(this.Ps.next());return this.referenceDelegate.Cs(),n(r).next((e=>this.referenceDelegate.xs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ns(e,t){return cu.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class $h extends lu{constructor(e){super(),this.currentSequenceNumber=e}}class zh{constructor(e){this.persistence=e,this.ks=new Mh,this.Os=null}static Ms(e){return new zh(e)}get Fs(){if(this.Os)return this.Os;throw Pl()}addReference(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),cu.resolve()}removeReference(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),cu.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),cu.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach((e=>this.Fs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Fs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cu.forEach(this.Fs,(n=>{const r=tu.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r,Ql.min())}))})).next((()=>(this.Os=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.Fs.delete(t.toString()):this.Fs.add(t.toString())}))}Ss(e){return 0}$s(e,t){return cu.or([()=>cu.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Hh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Pi=n,this.vi=r}static Vi(e,t){let n=Dd(),r=Dd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hh(e,t.fromCache,n,r)}}class qh{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ci(e,t).next((i=>i||this.xi(e,t,r,n))).next((n=>n||this.Ni(e,t)))}Ci(e,t){return cu.resolve(null)}xi(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Ql.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((i=>{const s=this.ki(t,i);return this.Oi(t,s,n,r)?this.Ni(e,t):(Il()<=ke.DEBUG&&Cl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nc(t)),this.Mi(e,s,t,ru(r,-1)))}))}ki(e,t){let n=new bu(Rc(e));return t.forEach(((t,r)=>{Ac(e,r)&&(n=n.add(r))})),n}Oi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(e,t){return Il()<=ke.DEBUG&&Cl("QueryEngine","Using full collection scan to execute query:",Nc(t)),this.Di.getDocumentsMatchingQuery(e,t,su.min())}Mi(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Gh{constructor(e,t,n,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new gu(Yl),this.Bi=new yd((e=>nc(e)),rc),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(n)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ph(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.$i)))}}function Yh(e,t,n,r){return new Gh(e,t,n,r)}async function Wh(e,t){const n=Ol(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Dd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ki:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Kh(e){const t=Ol(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Vs.getLastRemoteSnapshotVersion(e)))}function Qh(e,t,n){let r=Dd(),i=Dd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=wd();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ql.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Cl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Gi:r,Qi:i}}))}function Xh(e,t){const n=Ol(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Jh(e,t){const n=Ol(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Vs.getTargetData(e,t).next((i=>i?(r=i,cu.resolve(r)):n.Vs.allocateTargetId(e).next((i=>(r=new Sh(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}async function Zh(e,t,n){const r=Ol(e),i=r.$i.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!du(e))throw e;Cl("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)}function ef(e,t,n){const r=Ol(e);let i=Ql.min(),s=Dd();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Ol(e),i=r.Bi.get(n);return void 0!==i?cu.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Tc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Fi.getDocumentsMatchingQuery(e,t,n?i:Ql.min(),n?s:Dd()))).next((e=>(tf(r,Pc(t),e),{documents:e,ji:s})))))}function tf(e,t,n){let r=Ql.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}class nf{constructor(){this.activeTargetIds=Ad()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rf{constructor(){this.Fr=new nf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,n){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new nf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sf{Br(e){}shutdown(){}}class af{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Cl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Cl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const of={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class lf{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class uf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.so=t+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,n,r,i){const s=this.oo(e,t);Cl("RestConnection","Sending: ",s,n);const a={};return this.uo(a,r,i),this.co(e,s,a,n).then((e=>(Cl("RestConnection","Received: ",e),e)),(t=>{throw Nl("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ao(e,t,n,r,i){return this.ro(e,t,n,r,i)}uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}oo(e,t){const n=of[e];return`${this.so}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise(((i,s)=>{const a=new Sl;a.listenOnce(vl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case gl.NO_ERROR:const t=a.getResponseJson();Cl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case gl.TIMEOUT:Cl("Connection",'RPC "'+e+'" timed out'),s(new Ll(Ml.DEADLINE_EXCEEDED,"Request time out"));break;case gl.HTTP_ERROR:const n=a.getStatus();if(Cl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){const e=a.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ml).indexOf(t)>=0?t:Ml.UNKNOWN}(e.status);s(new Ll(t,e.message))}else s(new Ll(Ml.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ll(Ml.UNAVAILABLE,"Connection failed."));break;default:Pl()}}finally{Cl("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}ho(e,t,n){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pl(),s=ml(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new wl({})),this.uo(a.initMessageHeaders,t,n),re()||se()||ne().indexOf("Electron/")>=0||ae()||ne().indexOf("MSAppHost/")>=0||ie()||(a.httpHeadersOverwriteParam="$httpHeaders");const o=r.join("");Cl("Connection","Creating WebChannel: "+o,a);const l=i.createWebChannel(o,a);let u=!1,c=!1;const d=new lf({jr:e=>{c?Cl("Connection","Not sending because WebChannel is closed:",e):(u||(Cl("Connection","Opening WebChannel transport."),l.open(),u=!0),Cl("Connection","WebChannel sending:",e),l.send(e))},Wr:()=>l.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(l,_l.EventType.OPEN,(()=>{c||Cl("Connection","WebChannel transport opened.")})),h(l,_l.EventType.CLOSE,(()=>{c||(c=!0,Cl("Connection","WebChannel transport closed"),d.eo())})),h(l,_l.EventType.ERROR,(e=>{c||(c=!0,Nl("Connection","WebChannel transport errored:",e),d.eo(new Ll(Ml.UNAVAILABLE,"The operation could not be completed")))})),h(l,_l.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];Rl(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Cl("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=pd[e];if(void 0!==t)return vd(t)}(e),n=i.message;void 0===t&&(t=Ml.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,d.eo(new Ll(t,n)),l.close()}else Cl("Connection","WebChannel received:",n),d.no(n)}})),h(s,yl.STAT_EVENT,(e=>{e.stat===bl.PROXY?Cl("Connection","Detected buffering proxy"):e.stat===bl.NOPROXY&&Cl("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.Zr()}),0),d}}function cf(){return"undefined"!=typeof document?document:null}function df(e){return new zd(e,!0)}class hf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.js=e,this.timerId=t,this.lo=n,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-n);r>0&&Cl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,(()=>(this.yo=Date.now(),e()))),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class ff{constructor(e,t,n,r,i,s,a,o){this.js=e,this.Ao=n,this.Ro=r,this.bo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new hf(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(()=>this.Oo())))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,t){this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==e?this.So.reset():t&&t.code===Ml.RESOURCE_EXHAUSTED?(Dl(t.toString()),Dl("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):t&&t.code===Ml.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(t)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Po===t&&this.Uo(n,r)}),(t=>{e((()=>{const e=new Ll(Ml.UNKNOWN,"Fetching auth token failed: "+t.message);return this.qo(e)}))}))}Uo(e,t){const n=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((()=>{n((()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,(()=>(this.Co()&&(this.state=3),Promise.resolve()))),this.listener.zr())))})),this.stream.Jr((e=>{n((()=>this.qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}xo(){this.state=5,this.So.Io((async()=>{this.state=0,this.start()}))}qo(e){return Cl("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget((()=>this.Po===e?t():(Cl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pf extends ff{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.wt=i}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.dt?(Rl(void 0===t||"string"==typeof t),Su.fromBase64String(t||"")):(Rl(void 0===t||t instanceof Uint8Array),Su.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ml.UNKNOWN:vd(e.code);return new Ll(t,e.message||"")}(a);n=new Ld(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xd(e,r.document.name),s=Yd(r.document.updateTime),a=new Xu({mapValue:{fields:r.document.fields}}),o=Zu.newFoundDocument(i,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Od(l,u,o.key,o)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Xd(e,r.document),s=r.readTime?Yd(r.readTime):Ql.min(),a=Zu.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Od([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Xd(e,r.document),s=r.removedTargetIds||[];n=new Od([],s,i,null)}else{if(!("filter"in t))return Pl();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new fd(r),s=e.targetId;n=new Md(s,i)}}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Ql.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ql.min():t.readTime?Yd(t.readTime):Ql.min()}(e);return this.listener.Go(t,n)}Qo(e){const t={};t.database=eh(this.wt),t.addTarget=function(e,t){let n;const r=t.target;return n=ic(r)?{documents:ih(e,r)}:{query:sh(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=qd(e,t.resumeToken):t.snapshotVersion.compareTo(Ql.min())>0&&(n.readTime=Hd(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}jo(e){const t={};t.database=eh(this.wt),t.removeTarget=e,this.Mo(t)}}class mf extends ff{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Rl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function(e,t){return e&&e.length>0?(Rl(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Yd(e.updateTime):Yd(t);return n.isEqual(Ql.min())&&(n=Yd(t)),new Xc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Yd(e.commitTime);return this.listener.Jo(n,t)}return Rl(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=eh(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>rh(this.wt,e)))};this.Mo(t)}}class gf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ll(Ml.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.bo.ro(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ml.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ll(Ml.UNKNOWN,e.toString())}))}ao(e,t,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.bo.ao(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ml.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ll(Ml.UNKNOWN,e.toString())}))}terminate(){this.Zo=!0}}class vf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve()))))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Dl(t),this.su=!1):Cl("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class yf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br((e=>{n.enqueueAndForget((async()=>{If(this)&&(Cl("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ol(e);t.lu.add(4),await wf(t),t._u.set("Unknown"),t.lu.delete(4),await bf(t)}(this))}))})),this._u=new vf(n,r)}}async function bf(e){if(If(e))for(const t of e.fu)await t(!0)}async function wf(e){for(const t of e.fu)await t(!1)}function _f(e,t){const n=Ol(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Tf(n)?xf(n):qf(n).Co()&&kf(n,t))}function Sf(e,t){const n=Ol(e),r=qf(n);n.hu.delete(t),r.Co()&&Ef(n,t),0===n.hu.size&&(r.Co()?r.ko():If(n)&&n._u.set("Unknown"))}function kf(e,t){e.wu.Nt(t.targetId),qf(e).Qo(t)}function Ef(e,t){e.wu.Nt(t),qf(e).jo(t)}function xf(e){e.wu=new Fd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),qf(e).start(),e._u.iu()}function Tf(e){return If(e)&&!qf(e).Do()&&e.hu.size>0}function If(e){return 0===Ol(e).lu.size}function Cf(e){e.wu=void 0}async function Df(e){e.hu.forEach(((t,n)=>{kf(e,t)}))}async function Nf(e,t){Cf(e),Tf(e)?(e._u.uu(t),xf(e)):e._u.set("Unknown")}async function Af(e,t,n){if(e._u.set("Online"),t instanceof Ld&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.hu.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.hu.delete(r),e.wu.removeTarget(r))}(e,t)}catch(n){Cl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pf(e,n)}else if(t instanceof Od?e.wu.Ut(t):t instanceof Md?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(Ql.min()))try{const t=await Kh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.wu.Yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.hu.get(t);if(!n)return;e.hu.set(t,n.withResumeToken(Su.EMPTY_BYTE_STRING,n.snapshotVersion)),Ef(e,t);const r=new Sh(n.target,t,1,n.sequenceNumber);kf(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Cl("RemoteStore","Failed to raise snapshot:",t),await Pf(e,t)}}async function Pf(e,t,n){if(!du(t))throw t;e.lu.add(1),await wf(e),e._u.set("Offline"),n||(n=()=>Kh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Cl("RemoteStore","Retrying IndexedDB access"),await n(),e.lu.delete(1),await bf(e)}))}function Rf(e,t){return t().catch((n=>Pf(e,n,t)))}async function Of(e){const t=Ol(e),n=Gf(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;Mf(t);)try{const e=await Xh(t.localStore,r);if(null===e){0===t.au.length&&n.ko();break}r=e.batchId,Lf(t,e)}catch(e){await Pf(t,e)}jf(t)&&Ff(t)}function Mf(e){return If(e)&&e.au.length<10}function Lf(e,t){e.au.push(t);const n=Gf(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function jf(e){return If(e)&&!Gf(e).Do()&&e.au.length>0}function Ff(e){Gf(e).start()}async function Uf(e){Gf(e).Xo()}async function Vf(e){const t=Gf(e);for(const n of e.au)t.Ho(n.mutations)}async function Bf(e,t,n){const r=e.au.shift(),i=wh.from(r,t,n);await Rf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Of(e)}async function $f(e,t){t&&Gf(e).zo&&await async function(e,t){if(gd(n=t.code)&&n!==Ml.ABORTED){const n=e.au.shift();Gf(e).No(),await Rf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Of(e)}var n}(e,t),jf(e)&&Ff(e)}async function zf(e,t){const n=Ol(e);n.asyncQueue.verifyOperationInProgress(),Cl("RemoteStore","RemoteStore received new credentials");const r=If(n);n.lu.add(3),await wf(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),await bf(n)}async function Hf(e,t){const n=Ol(e);t?(n.lu.delete(2),await bf(n)):t||(n.lu.add(2),await wf(n),n._u.set("Unknown"))}function qf(e){return e.mu||(e.mu=function(e,t,n){const r=Ol(e);return r.tu(),new pf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Df.bind(null,e),Jr:Nf.bind(null,e),Go:Af.bind(null,e)}),e.fu.push((async t=>{t?(e.mu.No(),Tf(e)?xf(e):e._u.set("Unknown")):(await e.mu.stop(),Cf(e))}))),e.mu}function Gf(e){return e.gu||(e.gu=function(e,t,n){const r=Ol(e);return r.tu(),new mf(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Uf.bind(null,e),Jr:$f.bind(null,e),Yo:Vf.bind(null,e),Jo:Bf.bind(null,e)}),e.fu.push((async t=>{t?(e.gu.No(),await Of(e)):(await e.gu.stop(),e.au.length>0&&(Cl("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))}))),e.gu}class Yf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Yf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ll(Ml.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(e,t){if(Dl("AsyncQueue",`${t}: ${e}`),du(e))return new Ll(Ml.UNAVAILABLE,`${t}: ${e}`);throw e}class Kf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||tu.comparator(t.key,n.key):(e,t)=>tu.comparator(e.key,t.key),this.keyedMap=Sd(),this.sortedSet=new gu(this.comparator)}static emptySet(e){return new Kf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Kf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Qf{constructor(){this.yu=new gu(tu.comparator)}track(e){const t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Pl():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Xf{constructor(e,t,n,r,i,s,a,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Xf(e,t,Kf.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Jf{constructor(){this.Iu=void 0,this.listeners=[]}}class Zf{constructor(){this.queries=new yd((e=>Dc(e)),Cc),this.onlineState="Unknown",this.Tu=new Set}}async function ep(e,t){const n=Ol(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Jf),i)try{s.Iu=await n.onListen(r)}catch(e){const n=Wf(e,`Initialization of query '${Nc(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Eu(n.onlineState),s.Iu&&t.Au(s.Iu)&&ip(n)}async function tp(e,t){const n=Ol(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function np(e,t){const n=Ol(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Au(i)&&(r=!0);t.Iu=i}}r&&ip(n)}function rp(e,t,n){const r=Ol(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function ip(e){e.Tu.forEach((e=>{e.next()}))}class sp{constructor(e,t,n){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Xf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}vu(e){if(e.docChanges.length>0)return!0;const t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Su(e){e=Xf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class ap{constructor(e){this.key=e}}class op{constructor(e){this.key=e}}class lp{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Dd(),this.mutatedKeys=Dd(),this.Lu=Rc(e),this.Uu=new Kf(this.Lu)}get qu(){return this.Fu}Ku(e,t){const n=t?t.Gu:new Qf,r=t?t.Uu:this.Uu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Ac(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.Qu(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Lu(c,o)>0||l&&this.Lu(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Uu:s,Gu:n,Oi:a,mutatedKeys:i}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pl()}};return n(e)-n(t)}(e.type,t.type)||this.Lu(e.doc,t.doc))),this.ju(n);const s=t?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,o=a!==this.$u;return this.$u=a,0!==i.length||o?{snapshot:new Xf(this.query,e.Uu,r,i,e.mutatedKeys,0===a,o,!1),zu:s}:{zu:s}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Qf,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach((e=>this.Fu=this.Fu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Fu=this.Fu.delete(e))),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Dd(),this.Uu.forEach((e=>{this.Hu(e.key)&&(this.Bu=this.Bu.add(e.key))}));const t=[];return e.forEach((e=>{this.Bu.has(e)||t.push(new op(e))})),this.Bu.forEach((n=>{e.has(n)||t.push(new ap(n))})),t}Ju(e){this.Fu=e.ji,this.Bu=Dd();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Xf.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class up{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cp{constructor(e){this.key=e,this.Xu=!1}}class dp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Zu={},this.tc=new yd((e=>Dc(e)),Cc),this.ec=new Map,this.nc=new Set,this.sc=new gu(tu.comparator),this.ic=new Map,this.rc=new Mh,this.oc={},this.uc=new Map,this.cc=Dh.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}async function hp(e,t){const n=Np(e);let r,i;const s=n.tc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const e=await Jh(n.localStore,Tc(t));n.isPrimaryClient&&_f(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await fp(n,t,r,"current"===s)}return i}async function fp(e,t,n,r){e.hc=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ku(n);i.Oi&&(i=await ef(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ku(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Ep(e,t.targetId,a.zu),a.snapshot}(e,t,n,r);const i=await ef(e.localStore,t,!0),s=new lp(t,i.ji),a=s.Ku(i.documents),o=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(a,e.isPrimaryClient,o);Ep(e,n,l.zu);const u=new up(t,n,s);return e.tc.set(t,u),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),l.snapshot}async function pp(e,t){const n=Ol(e),r=n.tc.get(t),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter((e=>!Cc(e,t)))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zh(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Sf(n.remoteStore,r.targetId),Sp(n,r.targetId)})).catch(uu)):(Sp(n,r.targetId),await Zh(n.localStore,r.targetId,!0))}async function mp(e,t){const n=Ol(e);try{const e=await function(e,t){const n=Ol(e),r=t.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Vs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Vs.addMatchingKeys(e,s.addedDocuments,o))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?u=u.withResumeToken(Su.EMPTY_BYTE_STRING,Ql.min()).withLastLimboFreeSnapshotVersion(Ql.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(o,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&a.push(n.Vs.updateTargetData(e,u))}));let o=wd(),l=Dd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Qh(e,s,t.documentUpdates).next((e=>{o=e.Gi,l=e.Qi}))),!r.isEqual(Ql.min())){const t=n.Vs.getLastRemoteSnapshotVersion(e).next((t=>n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return cu.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.$i=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ic.get(t);r&&(Rl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Xu=!0:e.modifiedDocuments.size>0?Rl(r.Xu):e.removedDocuments.size>0&&(Rl(r.Xu),r.Xu=!1))})),await Ip(n,e,t)}catch(e){await uu(e)}}function gp(e,t,n){const r=Ol(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.tc.forEach(((n,r)=>{const i=r.view.Eu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ol(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Eu(t)&&(r=!0)})),r&&ip(n)}(r.eventManager,t),e.length&&r.Zu.Go(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vp(e,t,n){const r=Ol(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ic.get(t),s=i&&i.key;if(s){let e=new gu(tu.comparator);e=e.insert(s,Zu.newNoDocument(s,Ql.min()));const n=Dd().add(s),i=new Pd(Ql.min(),new Map,new bu(Yl),e,n);await mp(r,i),r.sc=r.sc.remove(s),r.ic.delete(t),Tp(r)}else await Zh(r.localStore,t,!1).then((()=>Sp(r,t,n))).catch(uu)}async function yp(e,t){const n=Ol(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ol(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=cu.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Rl(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Dd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);_p(n,r,null),wp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ip(n,e)}catch(e){await uu(e)}}async function bp(e,t,n){const r=Ol(e);try{const e=await function(e,t){const n=Ol(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Rl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);_p(r,t,n),wp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ip(r,e)}catch(n){await uu(n)}}function wp(e,t){(e.uc.get(t)||[]).forEach((e=>{e.resolve()})),e.uc.delete(t)}function _p(e,t,n){const r=Ol(e);let i=r.oc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Sp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((t=>{e.rc.containsKey(t)||kp(e,t)}))}function kp(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);null!==n&&(Sf(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Tp(e))}function Ep(e,t,n){for(const r of n)r instanceof ap?(e.rc.addReference(r.key,t),xp(e,r)):r instanceof op?(Cl("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||kp(e,r.key)):Pl()}function xp(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Cl("SyncEngine","New document in limbo: "+n),e.nc.add(r),Tp(e))}function Tp(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new tu(Jl.fromString(t)),r=e.cc.next();e.ic.set(r,new cp(n)),e.sc=e.sc.insert(n,r),_f(e.remoteStore,new Sh(Tc(_c(n.path)),r,2,hu.ot))}}async function Ip(e,t,n){const r=Ol(e),i=[],s=[],a=[];r.tc.isEmpty()||(r.tc.forEach(((e,o)=>{a.push(r.hc(o,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Hh.Vi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Zu.Go(i),await async function(e,t){const n=Ol(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>cu.forEach(t,(t=>cu.forEach(t.Pi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>cu.forEach(t.vi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!du(e))throw e;Cl("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.$i.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.$i=n.$i.insert(e,i)}}}(r.localStore,s))}async function Cp(e,t){const n=Ol(e);if(!n.currentUser.isEqual(t)){Cl("SyncEngine","User change. New user:",t.toKey());const e=await Wh(n.localStore,t);n.currentUser=t,function(e,t){e.uc.forEach((e=>{e.forEach((e=>{e.reject(new Ll(Ml.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ip(n,e.Ki)}}function Dp(e,t){const n=Ol(e),r=n.ic.get(t);if(r&&r.Xu)return Dd().add(r.key);{let e=Dd();const r=n.ec.get(t);if(!r)return e;for(const t of r){const r=n.tc.get(t);e=e.unionWith(r.view.qu)}return e}}function Np(e){const t=Ol(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vp.bind(null,t),t.Zu.Go=np.bind(null,t.eventManager),t.Zu.lc=rp.bind(null,t.eventManager),t}function Ap(e){const t=Ol(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bp.bind(null,t),t}class Pp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=df(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,t){return null}gc(e,t){return null}wc(e){return Yh(this.persistence,new qh,e.initialUser,this.wt)}_c(e){return new Bh(zh.Ms,this.wt)}dc(e){return new rf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>gp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cp.bind(null,this.syncEngine),await Hf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Zf}createDatastore(e){const t=df(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new uf(r));var r;return function(e,t,n,r){return new gf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>gp(this.syncEngine,e,0),s=af.V()?new af:new sf,new yf(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new dp(e,t,n,r,i,s);return a&&(o.ac=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ol(e);Cl("RemoteStore","RemoteStore shutting down."),t.lu.add(5),await wf(t),t.du.shutdown(),t._u.set("Unknown")}(this.remoteStore)}}class Op{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Mp{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=El.UNAUTHENTICATED,this.clientId=Gl.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Cl("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Cl("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ll(Ml.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(wv){const n=Wf(wv,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Lp(e,t){e.asyncQueue.verifyOperationInProgress(),Cl("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Wh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function jp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Fp(e);Cl("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>zf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>zf(t.remoteStore,n))),e.onlineComponents=t}async function Fp(e){return e.offlineComponents||(Cl("FirestoreClient","Using default OfflineComponentProvider"),await Lp(e,new Pp)),e.offlineComponents}async function Up(e){return e.onlineComponents||(Cl("FirestoreClient","Using default OnlineComponentProvider"),await jp(e,new Rp)),e.onlineComponents}function Vp(e){return Up(e).then((e=>e.syncEngine))}async function Bp(e){const t=await Up(e),n=t.eventManager;return n.onListen=hp.bind(null,t.syncEngine),n.onUnlisten=pp.bind(null,t.syncEngine),n}const $p=new Map;function zp(e,t,n){if(!n)throw new Ll(Ml.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Hp(e){if(!tu.isDocumentKey(e))throw new Ll(Ml.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qp(e){if(tu.isDocumentKey(e))throw new Ll(Ml.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Pl()}function Yp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ll(Ml.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(e);throw new Ll(Ml.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Wp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ll(Ml.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ll(Ml.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Ll(Ml.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kp{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wp({}),this._settingsFrozen=!1,e instanceof Au?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ll(Ml.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(e.options.projectId)}(e))}get app(){if(!this._app)throw new Ll(Ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ll(Ml.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ul;switch(e.type){case"gapi":const t=e.client;return Rl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new $l(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ll(Ml.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$p.get(e);t&&(Cl("ComponentProvider","Removing Datastore"),$p.delete(e),t.terminate())}(this),Promise.resolve()}}class Qp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qp(this.firestore,e,this._key)}}class Xp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xp(this.firestore,e,this._query)}}class Jp extends Xp{constructor(e,t,n){super(e,t,_c(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qp(this.firestore,null,new tu(e))}withConverter(e){return new Jp(this.firestore,e,this._path)}}function Zp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ve(e),zp("collection","path",t),e instanceof Kp){const n=Jl.fromString(t,...r);return qp(n),new Jp(e,null,n)}{if(!(e instanceof Qp||e instanceof Jp))throw new Ll(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jl.fromString(t,...r));return qp(n),new Jp(e.firestore,null,n)}}function em(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ve(e),1===arguments.length&&(t=Gl.I()),zp("doc","path",t),e instanceof Kp){const n=Jl.fromString(t,...r);return Hp(n),new Qp(e,null,new tu(n))}{if(!(e instanceof Qp||e instanceof Jp))throw new Ll(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jl.fromString(t,...r));return Hp(n),new Qp(e.firestore,e instanceof Jp?e.converter:null,new tu(n))}}class tm{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new hf(this,"async_queue_retry"),this.Kc=()=>{const e=cf();e&&Cl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const e=cf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=cf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise((()=>{}));const t=new jl;return this.Qc((()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Mc.push(e),this.jc())))}async jc(){if(0!==this.Mc.length){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(Ti){if(!du(Ti))throw Ti;Cl("AsyncQueue","Operation failed with retryable error: "+Ti)}this.Mc.length>0&&this.So.Io((()=>this.jc()))}}Qc(e){const t=this.Oc.then((()=>(this.Lc=!0,e().catch((e=>{this.Bc=e,this.Lc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Dl("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Lc=!1,e))))));return this.Oc=t,t}enqueueAfterDelay(e,t,n){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=Yf.createAndSchedule(this,e,t,n,(e=>this.Wc(e)));return this.$c.push(r),r}Gc(){this.Bc&&Pl()}verifyOperationInProgress(){}async zc(){let e;do{e=this.Oc,await e}while(e!==this.Oc)}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then((()=>{this.$c.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()}))}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function nm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class rm extends Kp{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new tm,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function im(e){return e._firestoreClient||sm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sm(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Nu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Mp(e._authCredentials,e._appCheckCredentials,e._queue,r)}class am{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ll(Ml.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class om{constructor(e){this._byteString=e}static fromBase64String(e){try{return new om(Su.fromBase64String(e))}catch(e){throw new Ll(Ml.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new om(Su.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lm{constructor(e){this._methodName=e}}class um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ll(Ml.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ll(Ml.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yl(this._lat,e._lat)||Yl(this._long,e._long)}}const cm=/^__.*__$/;class dm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new od(e,this.data,this.fieldMask,t,this.fieldTransforms):new ad(e,this.data,t,this.fieldTransforms)}}class hm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new od(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pl()}}class pm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.wt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Nm(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(fm(this.Zc)&&cm.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class mm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=n||df(e)}aa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pm({Zc:e,methodName:t,ca:n,path:eu.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function gm(e){const t=e._freezeSettings(),n=df(e._databaseId);return new mm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.aa(s.merge||s.mergeFields?2:0,t,n,i);Tm("Data must be an object, but it was:",a,r);const o=Em(r,a);let l,u;if(s.merge)l=new _u(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Im(t,r,n);if(!a.contains(i))throw new Ll(Ml.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Am(e,i)||e.push(i)}l=new _u(e),u=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=a.fieldTransforms;return new dm(new Xu(o),l,u)}class ym extends lm{_toFieldTransform(e){if(2!==e.Zc)throw 1===e.Zc?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ym}}class bm extends lm{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Yc(e.wt,jc(e.wt,this.la));return new Qc(e.path,t)}isEqual(e){return this===e}}function wm(e,t,n,r){const i=e.aa(1,t,n);Tm("Data must be an object, but it was:",i,r);const s=[],a=Xu.empty();pu(r,((e,r)=>{const o=Dm(t,e,n);r=ve(r);const l=i.ia(o);if(r instanceof ym)s.push(o);else{const e=km(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new _u(s);return new hm(a,o,i.fieldTransforms)}function _m(e,t,n,r,i,s){const a=e.aa(1,t,n),o=[Im(t,r,n)],l=[i];if(s.length%2!=0)throw new Ll(Ml.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Im(t,s[h])),l.push(s[h+1]);const u=[],c=Xu.empty();for(let h=o.length-1;h>=0;--h)if(!Am(u,o[h])){const e=o[h];let t=l[h];t=ve(t);const n=a.ia(e);if(t instanceof ym)u.push(e);else{const r=km(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new _u(u);return new hm(c,d,a.fieldTransforms)}function Sm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return km(n,e.aa(r?4:3,t))}function km(e,t){if(xm(e=ve(e)))return Tm("Unsupported field value:",t,e),Em(e,t);if(e instanceof lm)return function(e,t){if(!fm(t.Zc))throw t.oa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.oa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=km(i,t.ra(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ve(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jc(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Kl.fromDate(e);return{timestampValue:Hd(t.wt,n)}}if(e instanceof Kl){const n=new Kl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hd(t.wt,n)}}if(e instanceof um)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof om)return{bytesValue:qd(t.wt,e._byteString)};if(e instanceof Qp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.oa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Wd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa(`Unsupported field value: ${Gp(e)}`)}(e,t)}function Em(e,t){const n={};return mu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pu(e,((e,r)=>{const i=km(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kl||e instanceof um||e instanceof om||e instanceof Qp||e instanceof lm)}function Tm(e,t,n){if(!xm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Gp(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Im(e,t,n){if((t=ve(t))instanceof am)return t._internalPath;if("string"==typeof t)return Dm(e,t);throw Nm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Cm=new RegExp("[~\\*/\\[\\]]");function Dm(e,t,n){if(t.search(Cm)>=0)throw Nm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new am(...t.split("."))._internalPath}catch(sv){throw Nm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Nm(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Ll(Ml.INVALID_ARGUMENT,o+e+l)}function Am(e,t){return e.some((e=>e.isEqual(t)))}class Pm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Om("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rm extends Pm{data(){return super.data()}}function Om(e,t){return"string"==typeof t?Dm(e,t):t instanceof am?t._internalPath:t._delegate._internalPath}class Mm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lm extends Pm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Om("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jm extends Lm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Fm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new jm(this._firestore,this._userDataWriter,n.key,n,new Mm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ll(Ml.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new jm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Mm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new jm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Mm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Um(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Um(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pl()}}function Vm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ll(Ml.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}function $m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)e=i._apply(e);return e}class zm extends Bm{constructor(e,t,n){super(),this.fa=e,this.da=t,this._a=n,this.type="where"}_apply(e){const t=gm(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ll(Ml.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Gm(a,s);const t=[];for(const n of a)t.push(qm(r,e,n));o={arrayValue:{values:t}}}else o=qm(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Gm(a,s),o=Sm(n,"where",a,"in"===s||"not-in"===s);const l=sc.create(i,s,o);return function(e,t){if(t.ht()){const n=kc(e);if(null!==n&&!n.isEqual(t.field))throw new Ll(Ml.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Sc(e);null!==r&&Ym(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ll(Ml.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ll(Ml.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Xp(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new bc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Hm extends Bm{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ll(Ml.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ll(Ml.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new mc(t,n);return function(e,t){if(null===Sc(e)){const n=kc(e);null!==n&&Ym(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Xp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new bc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function qm(e,t,n){if("string"==typeof(n=ve(n))){if(""===n)throw new Ll(Ml.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ec(t)&&-1!==n.indexOf("/"))throw new Ll(Ml.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Jl.fromString(n));if(!tu.isDocumentKey(r))throw new Ll(Ml.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zu(e,new tu(r))}if(n instanceof Qp)return zu(e,n._key);throw new Ll(Ml.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function Gm(e,t){if(!Array.isArray(e)||0===e.length)throw new Ll(Ml.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Ll(Ml.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ym(e,t,n){if(!n.isEqual(t))throw new Ll(Ml.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Wm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pl()}}convertObject(e,t){const n={};return pu(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new um(xu(e.latitude),xu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Cu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=Eu(e);return new Kl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Jl.fromString(e);Rl(mh(n));const r=new Au(n.get(1),n.get(3)),i=new tu(n.popFirst(5));return r.isEqual(t)||Dl(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Km(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qm extends Wm{constructor(e){super(),this.firestore=e}convertBytes(e){return new om(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qp(this.firestore,null,t)}}function Xm(e,t,n){e=Yp(e,Qp);const r=Yp(e.firestore,rm),i=Km(e.converter,t,n);return tg(r,[vm(gm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jc.none())])}function Jm(e){return tg(Yp(e.firestore,rm),[new dd(e._key,Jc.none())])}function Zm(e,t){const n=Yp(e.firestore,rm),r=em(e),i=Km(e.converter,t);return tg(n,[vm(gm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Jc.exists(!1))]).then((()=>r))}function eg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=ve(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||nm(n[l])||(o=n[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges};if(nm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let c,d,h;if(e instanceof Qp)d=Yp(e.firestore,rm),h=_c(e._key.path),c={next:t=>{n[l]&&n[l](ng(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Yp(e,Xp);d=Yp(t.firestore,rm),h=t._query;const r=new Qm(d);c={next:e=>{n[l]&&n[l](new Fm(d,r,t,e))},error:n[l+1],complete:n[l+2]},Vm(e._query)}return function(e,t,n,r){const i=new Op(r),s=new sp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ep(await Bp(e),s))),()=>{i.Tc(),e.asyncQueue.enqueueAndForget((async()=>tp(await Bp(e),s)))}}(im(d),h,u,c)}function tg(e,t){return function(e,t){const n=new jl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ap(e);try{const e=await function(e,t){const n=Ol(e),r=Kl.now(),i=t.reduce(((e,t)=>e.add(t.key)),Dd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=wd(),l=Dd();return n.Ui.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=id(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new od(e.key,t,Ju(t.value.mapValue),Jc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:kd(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.oc[e.currentUser.toKey()];r||(r=new gu(Yl)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ip(r,e.changes),await Of(r.remoteStore)}catch(e){const t=Wf(e,"Failed to persist write");n.reject(t)}}(await Vp(e),t,n))),n.promise}(im(e),t)}function ng(e,t,n){const r=n.docs.get(t._key),i=new Qm(e);return new Lm(e,i,t._key,r,new Mm(n.hasPendingWrites,n.fromCache),t.converter)}function rg(e){return new bm("increment",e)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xl="9.8.3",et(new ye("firestore",((e,n)=>{let{options:r}=n;const i=e.getProvider("app").getImmediate(),s=new rm(i,new Vl(e.getProvider("auth-internal")),new Hl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC")),at(kl,"3.4.10",e),at(kl,"3.4.10","esm2017")}();const ig=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){t={name:t}}const n=Object.assign({name:Ke,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw nt.create("bad-app-name",{appName:String(r)});const i=Xe.get(r);if(i){if(ce(e,i.options)&&ce(n,i.config))return i;throw nt.create("duplicate-app",{appName:r})}const s=new _e(r);for(const o of Je.values())s.addComponent(o);const a=new rt(e,n,s);return Xe.set(r,a),a}({apiKey:"AIzaSyDBph54Brl4-HJTRW5S0vJlZMM-nc-nkdg",authDomain:"reboostify-f18db.firebaseapp.com",databaseURL:"https://reboostify-f18db-default-rtdb.firebaseio.com",projectId:"reboostify-f18db",storageBucket:"reboostify-f18db.appspot.com",messagingSenderId:"870800978453",appId:"1:870800978453:web:cffcfca384b9d1de3f141c",measurementId:"G-Z86QKJ0ND8"}),sg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();const t=tt(e,"auth");return t.isInitialized()?t.getImmediate():Rt(e,{popupRedirectResolver:oi,persistence:[vr,er,nr]})}(ig),ag=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return tt(e,"firestore").getImmediate()}(ig);var og=n(184);const lg={user:null,authReady:!1},ug=(0,t.createContext)({...lg,dispatch:()=>null}),cg=(e,t)=>{switch(t.type){case"LOGIN":return{...e,user:t.payload};case"LOGOUT":return{...e,user:null};case"AUTH_READY":return{...e,user:t.payload,authReady:!0};default:return e}},dg=e=>{let{children:n}=e;const[r,i]=(0,t.useReducer)(cg,lg);return(0,t.useEffect)((()=>{const e=sg.onAuthStateChanged((t=>{i({type:"AUTH_READY",payload:t}),e()}))}),[]),(0,og.jsx)(ug.Provider,{value:{...r,dispatch:i},children:n})},hg=(0,t.createContext)(null),fg=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(!1);return(0,og.jsx)(hg.Provider,{value:{isError:r,setIsError:i},children:n})},pg=()=>(0,t.useContext)(hg),mg=(e,n)=>{const[r,i]=(0,t.useState)(!1),[s,a]=(0,t.useState)(null),{setIsError:o}=pg();return(0,t.useEffect)((()=>{i(!0);const t=$m(Zp(ag,e),function(e,t,n){const r=t,i=Om("where",e);return new zm(i,r,n)}("uid","==",n)),r=eg(t,(e=>{const t=e.docs.map((e=>({...e.data(),id:e.id})));a(t),i(!1)}),(()=>{o(!0)}));return()=>{r()}}),[e,n,o]),{data:s,isPending:r}},gg=(0,t.createContext)(null),vg=e=>{let{children:n,uid:r}=e;const i=mg("spaces",r),s=mg("tasks",r),a=mg("statuses",r),o=mg("goals",r),l=mg("goalSteps",r),[u,c]=(0,t.useState)(null),d=i.isPending&&s.isPending&&a.isPending&&o.isPending&&l.isPending;(0,t.useEffect)((()=>{i.data&&c(i.data[0])}),[i.data]);const h={tasks:s.data,spaces:i.data,statuses:a.data&&a.data.sort(((e,t)=>e.orderIndex-t.orderIndex)),selectedSpace:u,setSelectedSpace:c,goals:o.data,goalSteps:l.data,isPending:d};return(0,og.jsx)(gg.Provider,{value:h,children:n})},yg="ErrorPrompt_dialog__XztsR",bg="ErrorPrompt_panel__hKKgH";function wg(e,t){if(e in t){let s=t[e];for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof s?s(...r):s}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,wg),s}var _g,Sg=((_g=Sg||{})[_g.None=0]="None",_g[_g.RenderStrategy=1]="RenderStrategy",_g[_g.Static=2]="Static",_g),kg=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(kg||{});function Eg(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:i,features:s,visible:a=!0,name:o}=e,l=Tg(n,t);if(a)return xg(l,r,i,o);let u=null!=s?s:0;if(2&u){let{static:e=!1,...t}=l;if(e)return xg(t,r,i,o)}if(1&u){let{unmount:e=!0,...t}=l;return wg(e?0:1,{0:()=>null,1:()=>xg({...t,hidden:!0,style:{display:"none"}},r,i,o)})}return xg(l,r,i,o)}function xg(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,{as:s=r,children:a,refName:o="ref",...l}=Dg(e,["unmount","static"]),u=void 0!==e.ref?{[o]:e.ref}:{},c="function"==typeof a?a(n):a;l.className&&"function"==typeof l.className&&(l.className=l.className(n));let d={};if(s===t.Fragment&&Object.keys(Cg(l)).length>0){if(!(0,t.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,t.cloneElement)(c,Object.assign({},Tg(c.props,Cg(Dg(l,["ref"]))),d,u))}return(0,t.createElement)(s,Object.assign({},Dg(l,["ref"]),s!==t.Fragment&&u,s!==t.Fragment&&d),c)}function Tg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},i={};for(let s of t)for(let e in s)e.startsWith("on")&&"function"==typeof s[e]?(null!=i[e]||(i[e]=[]),i[e].push(s[e])):r[e]=s[e];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map((e=>[e,void 0]))));for(let s in i)Object.assign(r,{[s](e){let t=i[s];for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(let i of t){if(e.defaultPrevented)return;i(e,...r)}}});return r}function Ig(e){var n;return Object.assign((0,t.forwardRef)(e),{displayName:null!=(n=e.displayName)?n:e.name})}function Cg(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function Dg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let Ng="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;function Ag(e){let n=(0,t.useRef)(e);return Ng((()=>{n.current=e}),[e]),n}let Pg=function(e){let n=Ag(e);return t.useCallback((function(){return n.current(...arguments)}),[n])},Rg=Symbol();function Og(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,{[Rg]:t})}function Mg(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=(0,t.useRef)(n);(0,t.useEffect)((()=>{i.current=n}),[n]);let s=Pg((e=>{for(let t of i.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return n.every((e=>null==e||(null==e?void 0:e[Rg])))?void 0:s}var Lg=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Lg||{});function jg(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}let Fg={serverHandoffComplete:!1};function Ug(){let[e,n]=(0,t.useState)(Fg.serverHandoffComplete);return(0,t.useEffect)((()=>{!0!==e&&n(!0)}),[e]),(0,t.useEffect)((()=>{!1===Fg.serverHandoffComplete&&(Fg.serverHandoffComplete=!0)}),[]),e}var Vg;let Bg=0;function $g(){return++Bg}let zg=null!=(Vg=t.useId)?Vg:function(){let e=Ug(),[n,r]=t.useState(e?$g:null);return Ng((()=>{null===n&&r($g())}),[n]),null!=n?""+n:void 0};var Hg=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Hg||{});let qg=Ig((function(e,t){let{features:n=1,...r}=e;return Eg({ourProps:{ref:t,"aria-hidden":2===(2&n)||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4===(4&n)&&2!==(2&n)&&{display:"none"}}},theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})}));function Gg(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Yg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var Wg=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Wg||{}),Kg=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Kg||{}),Qg=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Qg||{});function Xg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(Yg))}var Jg=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Jg||{});function Zg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n;return e!==(null==(n=Gg(e))?void 0:n.body)&&wg(t,{0:()=>e.matches(Yg),1(){let t=e;for(;null!==t;){if(t.matches(Yg))return!0;t=t.parentElement}return!1}})}function ev(e){null==e||e.focus({preventScroll:!0})}let tv=["textarea","input"].join(",");function nv(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,tv))&&n}function rv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort(((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let s=r.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function iv(e,t){let n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?r?rv(e):e:Xg(e),a=i.activeElement,o=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,s.indexOf(a))-1;if(4&t)return Math.max(0,s.indexOf(a))+1;if(8&t)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},c=0,d=s.length;do{if(c>=d||c+d<=0)return 0;let e=l+c;if(16&t)e=(e+d)%d;else{if(e<0)return 3;if(e>=d)return 1}n=s[e],null==n||n.focus(u),c+=o}while(n!==i.activeElement);return 6&t&&nv(n)&&n.select(),n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}function sv(e,n,r){let i=Ag(n);(0,t.useEffect)((()=>{function t(e){i.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)}),[e,r])}var av=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(av||{});function ov(){let e=(0,t.useRef)(0);return sv("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}function lv(){let e=(0,t.useRef)(!1);return Ng((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function uv(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((()=>Gg(...n)),[...n])}function cv(e,n,r,i){let s=Ag(r);(0,t.useEffect)((()=>{function t(e){s.current(e)}return(e=null!=e?e:window).addEventListener(n,t,i),()=>e.removeEventListener(n,t,i)}),[e,n,i])}function dv(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function hv(e,n){let r=(0,t.useRef)([]),i=Pg(e);(0,t.useEffect)((()=>{for(let[e,t]of n.entries())if(r.current[e]!==t){let e=i(n);return r.current=n,e}}),[i,...n])}var fv=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(fv||{});let pv=Object.assign(Ig((function(e,n){let r=(0,t.useRef)(null),i=Mg(r,n),{initialFocus:s,containers:a,features:o=30,...l}=e;Ug()||(o=1);let u=uv(r);!function(e,n){let{ownerDocument:r}=e,i=(0,t.useRef)(null);cv(null==r?void 0:r.defaultView,"focusout",(e=>{!n||i.current||(i.current=e.target)}),!0),hv((()=>{n||(ev(i.current),i.current=null)}),[n]);let s=(0,t.useRef)(!1);(0,t.useEffect)((()=>(s.current=!1,()=>{s.current=!0,dv((()=>{!s.current||(ev(i.current),i.current=null)}))})),[])}({ownerDocument:u},Boolean(16&o));let c=function(e,n){let{ownerDocument:r,container:i,initialFocus:s}=e,a=(0,t.useRef)(null);return hv((()=>{if(!n)return;let e=i.current;if(!e)return;let t=null==r?void 0:r.activeElement;if(null!=s&&s.current){if((null==s?void 0:s.current)===t)return void(a.current=t)}else if(e.contains(t))return void(a.current=t);null!=s&&s.current?ev(s.current):iv(e,Wg.First)===Kg.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=null==r?void 0:r.activeElement}),[n]),a}({ownerDocument:u,container:r,initialFocus:s},Boolean(2&o));!function(e,t){let{ownerDocument:n,container:r,containers:i,previousActiveElement:s}=e,a=lv();cv(null==n?void 0:n.defaultView,"focus",(e=>{if(!t||!a.current)return;let n=new Set(null==i?void 0:i.current);n.add(r);let o=s.current;if(!o)return;let l=e.target;l&&l instanceof HTMLElement?function(e,t){var n;for(let r of e)if(null!=(n=r.current)&&n.contains(t))return!0;return!1}(n,l)?(s.current=l,ev(l)):(e.preventDefault(),e.stopPropagation(),ev(o)):ev(s.current)}),!0)}({ownerDocument:u,container:r,containers:a,previousActiveElement:c},Boolean(8&o));let d=ov(),h=Pg((()=>{let e=r.current;!e||wg(d.current,{[av.Forwards]:()=>iv(e,Wg.First),[av.Backwards]:()=>iv(e,Wg.Last)})})),f={ref:i};return t.createElement(t.Fragment,null,Boolean(4&o)&&t.createElement(qg,{as:"button",type:"button",onFocus:h,features:Hg.Focusable}),Eg({ourProps:f,theirProps:l,defaultTag:"div",name:"FocusTrap"}),Boolean(4&o)&&t.createElement(qg,{as:"button",type:"button",onFocus:h,features:Hg.Focusable}))})),{features:fv});let mv=new Set,gv=new Map;function vv(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function yv(e){let t=gv.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var bv=n(164);let wv=(0,t.createContext)(!1);function _v(){return(0,t.useContext)(wv)}function Sv(e){return t.createElement(wv.Provider,{value:e.force},e.children)}let kv=t.Fragment,Ev=Ig((function(e,n){let r=e,i=(0,t.useRef)(null),s=Mg(Og((e=>{i.current=e})),n),a=uv(i),o=function(e){let n=_v(),r=(0,t.useContext)(Tv),i=uv(e),[s,a]=(0,t.useState)((()=>{if(!n&&null!==r||"undefined"==typeof window)return null;let e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;let t=i.createElement("div");return t.setAttribute("id","headlessui-portal-root"),i.body.appendChild(t)}));return(0,t.useEffect)((()=>{null!==s&&(null!=i&&i.body.contains(s)||null==i||i.body.appendChild(s))}),[s,i]),(0,t.useEffect)((()=>{n||null!==r&&a(r.current)}),[r,a,n]),s}(i),[l]=(0,t.useState)((()=>{var e;return"undefined"==typeof window?null:null!=(e=null==a?void 0:a.createElement("div"))?e:null})),u=Ug(),c=(0,t.useRef)(!1);return Ng((()=>{if(c.current=!1,o&&l)return o.contains(l)||o.appendChild(l),()=>{c.current=!0,dv((()=>{var e;!c.current||!o||!l||(o.removeChild(l),o.childNodes.length<=0&&(null==(e=o.parentElement)||e.removeChild(o)))}))}}),[o,l]),u&&o&&l?(0,bv.createPortal)(Eg({ourProps:{ref:s},theirProps:r,defaultTag:kv,name:"Portal"}),l):null})),xv=t.Fragment,Tv=(0,t.createContext)(null),Iv=Ig((function(e,n){let{target:r,...i}=e,s={ref:Mg(n)};return t.createElement(Tv.Provider,{value:r},Eg({ourProps:s,theirProps:i,defaultTag:xv,name:"Popover.Group"}))})),Cv=Object.assign(Ev,{Group:Iv}),Dv=(0,t.createContext)(null);function Nv(){let e=(0,t.useContext)(Dv);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Nv),e}return e}function Av(){let[e,n]=(0,t.useState)([]);return[e.length>0?e.join(" "):void 0,(0,t.useMemo)((()=>function(e){let r=Pg((e=>(n((t=>[...t,e])),()=>n((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),i=(0,t.useMemo)((()=>({register:r,slot:e.slot,name:e.name,props:e.props})),[r,e.slot,e.name,e.props]);return t.createElement(Dv.Provider,{value:i},e.children)}),[n])]}let Pv=Ig((function(e,t){let n=Nv(),r=`headlessui-description-${zg()}`,i=Mg(t);Ng((()=>n.register(r)),[r,n.register]);let s=e;return Eg({ourProps:{ref:i,...n.props,id:r},theirProps:s,slot:n.slot||{},defaultTag:"p",name:n.name||"Description"})})),Rv=(0,t.createContext)(null);Rv.displayName="OpenClosedContext";var Ov=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ov||{});function Mv(){return(0,t.useContext)(Rv)}function Lv(e){let{value:n,children:r}=e;return t.createElement(Rv.Provider,{value:n},r)}let jv=(0,t.createContext)((()=>{}));jv.displayName="StackContext";var Fv=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Fv||{});function Uv(e){let{children:n,onUpdate:r,type:i,element:s}=e,a=(0,t.useContext)(jv),o=Pg((function(){null==r||r(...arguments),a(...arguments)}));return Ng((()=>(o(0,i,s),()=>o(1,i,s))),[o,i,s]),t.createElement(jv.Provider,{value:o},n)}var Vv=(e=>(e[e.None=1]="None",e[e.IgnoreScrollbars=2]="IgnoreScrollbars",e))(Vv||{});function Bv(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=(0,t.useRef)(!1),s=Pg((t=>{if(i.current)return;i.current=!0,dv((()=>{i.current=!1}));let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),a=t.target;if(a.ownerDocument.documentElement.contains(a)){if(2===(2&r)){let e=20,n=a.ownerDocument.documentElement;if(t.clientX>n.clientWidth-e||t.clientX<e||t.clientY>n.clientHeight-e||t.clientY<e)return}for(let e of s){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(a))return}return n(t,a)}}));sv("pointerdown",s),sv("mousedown",s)}var $v=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($v||{}),zv=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(zv||{});let Hv={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},qv=(0,t.createContext)(null);function Gv(e){let n=(0,t.useContext)(qv);if(null===n){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Gv),t}return n}function Yv(e,t){return wg(t.type,Hv,e,t)}qv.displayName="DialogContext";let Wv=Sg.RenderStrategy|Sg.Static,Kv=Ig((function(e,n){let{open:r,onClose:i,initialFocus:s,__demoMode:a=!1,...o}=e,[l,u]=(0,t.useState)(0),c=Mv();void 0===r&&null!==c&&(r=wg(c,{[Ov.Open]:!0,[Ov.Closed]:!1}));let d=(0,t.useRef)(new Set),h=(0,t.useRef)(null),f=Mg(h,n),p=(0,t.useRef)(null),m=uv(h),g=e.hasOwnProperty("open")||null!==c,v=e.hasOwnProperty("onClose");if(!g&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof r)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if("function"!=typeof i)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let y=r?0:1,[b,w]=(0,t.useReducer)(Yv,{titleId:null,descriptionId:null,panelRef:(0,t.createRef)()}),_=Pg((()=>i(!1))),S=Pg((e=>w({type:0,id:e}))),k=!!Ug()&&(!a&&0===y),E=l>1,x=null!==(0,t.useContext)(qv),T=E?"parent":"leaf";(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ng((()=>{if(!t||!e.current)return;let n=e.current,r=Gg(n);if(r){mv.add(n);for(let e of gv.keys())e.contains(n)&&(yv(e),gv.delete(e));return r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of mv)if(e.contains(t))return;1===mv.size&&(gv.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),vv(e))}})),()=>{if(mv.delete(n),mv.size>0)r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!gv.has(e)){for(let t of mv)if(e.contains(t))return;gv.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),vv(e)}}));else for(let e of gv.keys())yv(e),gv.delete(e)}}}),[t])})(h,!!E&&k),Bv((()=>{var e,t;return[...Array.from(null!=(e=null==m?void 0:m.querySelectorAll("body > *"))?e:[]).filter((e=>!(!(e instanceof HTMLElement)||e.contains(p.current)||b.panelRef.current&&e.contains(b.panelRef.current)))),null!=(t=b.panelRef.current)?t:h.current]}),(()=>{0===y&&(E||_())}),Vv.IgnoreScrollbars),cv(null==m?void 0:m.defaultView,"keydown",(e=>{e.defaultPrevented||e.key===Lg.Escape&&0===y&&(E||(e.preventDefault(),e.stopPropagation(),_()))})),(0,t.useEffect)((()=>{var e;if(0!==y||x)return;let t=Gg(h);if(!t)return;let n=t.documentElement,r=null!=(e=t.defaultView)?e:window,i=n.style.overflow,s=n.style.paddingRight,a=r.innerWidth-n.clientWidth;if(n.style.overflow="hidden",a>0){let e=a-(n.clientWidth-n.offsetWidth);n.style.paddingRight=`${e}px`}return()=>{n.style.overflow=i,n.style.paddingRight=s}}),[y,x]),(0,t.useEffect)((()=>{if(0!==y||!h.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&_()}));return e.observe(h.current),()=>e.disconnect()}),[y,h,_]);let[I,C]=Av(),D=`headlessui-dialog-${zg()}`,N=(0,t.useMemo)((()=>[{dialogState:y,close:_,setTitleId:S},b]),[y,b,_,S]),A=(0,t.useMemo)((()=>({open:0===y})),[y]),P={ref:f,id:D,role:"dialog","aria-modal":0===y||void 0,"aria-labelledby":b.titleId,"aria-describedby":I,onClick(e){e.stopPropagation()}};return t.createElement(Uv,{type:"Dialog",element:h,onUpdate:Pg(((e,t,n)=>{"Dialog"===t&&wg(e,{[Fv.Add](){d.current.add(n),u((e=>e+1))},[Fv.Remove](){d.current.add(n),u((e=>e-1))}})}))},t.createElement(Sv,{force:!0},t.createElement(Cv,null,t.createElement(qv.Provider,{value:N},t.createElement(Cv.Group,{target:h},t.createElement(Sv,{force:!1},t.createElement(C,{slot:A,name:"Dialog.Description"},t.createElement(pv,{initialFocus:s,containers:d,features:k?wg(T,{parent:pv.features.RestoreFocus,leaf:pv.features.All&~pv.features.FocusLock}):pv.features.None},Eg({ourProps:P,theirProps:o,slot:A,defaultTag:"div",features:Wv,visible:0===y,name:"Dialog"})))))))),t.createElement(qg,{features:Hg.Hidden,ref:p}))})),Qv=Ig((function(e,n){let[{dialogState:r,close:i}]=Gv("Dialog.Overlay"),s=Mg(n),a=`headlessui-dialog-overlay-${zg()}`,o=Pg((e=>{if(e.target===e.currentTarget){if(jg(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),i()}}));return Eg({ourProps:{ref:s,id:a,"aria-hidden":!0,onClick:o},theirProps:e,slot:(0,t.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",name:"Dialog.Overlay"})})),Xv=Ig((function(e,n){let[{dialogState:r},i]=Gv("Dialog.Backdrop"),s=Mg(n),a=`headlessui-dialog-backdrop-${zg()}`;(0,t.useEffect)((()=>{if(null===i.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[i.panelRef]);let o=(0,t.useMemo)((()=>({open:0===r})),[r]);return t.createElement(Sv,{force:!0},t.createElement(Cv,null,Eg({ourProps:{ref:s,id:a,"aria-hidden":!0},theirProps:e,slot:o,defaultTag:"div",name:"Dialog.Backdrop"})))})),Jv=Ig((function(e,n){let[{dialogState:r},i]=Gv("Dialog.Panel");return Eg({ourProps:{ref:Mg(n,i.panelRef),id:`headlessui-dialog-panel-${zg()}`},theirProps:e,slot:(0,t.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",name:"Dialog.Panel"})})),Zv=Ig((function(e,n){let[{dialogState:r,setTitleId:i}]=Gv("Dialog.Title"),s=`headlessui-dialog-title-${zg()}`,a=Mg(n);(0,t.useEffect)((()=>(i(s),()=>i(null))),[s,i]);let o=(0,t.useMemo)((()=>({open:0===r})),[r]);return Eg({ourProps:{ref:a,id:s},theirProps:e,slot:o,defaultTag:"h2",name:"Dialog.Title"})})),ey=Object.assign(Kv,{Backdrop:Xv,Panel:Jv,Overlay:Qv,Title:Zv,Description:Pv});const ty=()=>{const{isError:e,setIsError:t}=pg();return(0,og.jsx)(ey,{as:"div",className:yg,open:e,onClose:()=>{t(!1)},children:(0,og.jsxs)(ey.Panel,{className:bg,children:[(0,og.jsx)(ey.Description,{children:"Sorry! It looks like an error has occurred."}),(0,og.jsx)("button",{onClick:()=>t(!1),children:"Close"})]})})};var ny=n(892),ry=n.n(ny);const iy="Dashboard_subheader__Gf529",sy="Dashboard_gridContainer__-RL8p",ay=()=>(0,t.useContext)(gg),oy={layoutContainer:"Layout_layoutContainer__12qYp",openSidebarBtn:"Layout_openSidebarBtn__Egg+l"},ly=()=>{const{dispatch:e}=(0,t.useContext)(ug),[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(null);return{logout:()=>{r(!0),function(e){return ve(e).signOut()}(sg).then((()=>{e({type:"LOGOUT"}),r(!1)})).catch((e=>{r(!1),s(e.message)}))},isPending:n,error:i}};const uy=n.p+"static/media/calendar.3dfb84052759118cd1025622380bbee2.svg";const cy=n.p+"static/media/checklist.47bca4dfcbf322e573a55f6d6bc70e33.svg";const dy=n.p+"static/media/home.8c824db23467935645fa7dc2450eae73.svg";const hy=n.p+"static/media/width.1c0d181d26b89dfc33259674f107ac27.svg";const fy=n.p+"static/media/monitoring.d13e022addd939d7ce4c8f7f61610e27.svg";const py=n.p+"static/media/menu.78dc43478433185a25cf4dd947d4d533.svg";const my=n.p+"static/media/logout.850869528d21b864f434d98b5bc4213f.svg",gy="Sidebar_container__7w0Ml",vy="Sidebar_toggleSidebar__rHt-u",yy="Sidebar_settings__dQFCe",by="Sidebar_logoutButton__tIA3l",wy="Sidebar_sideBarOpen__ayg9Q",_y="Sidebar_logo__duE9V",Sy="Sidebar_toggled__3HU9P",ky=()=>{const{logout:e}=ly(),[n,r]=(0,t.useState)(!1),i=(0,t.useRef)(null);n&&i.current&&((e,t)=>{const n=n=>{e.contains(n.target)||(t(),r())},r=()=>{document.removeEventListener("click",n)};document.addEventListener("click",n)})(i.current,(()=>{r(!n)}));return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("button",{onClick:e=>{e.stopPropagation(),r(!n)},className:`${vy} ${n?Sy:""}`,children:(0,og.jsx)("img",{src:py,alt:"toggle menu"})}),(0,og.jsxs)("div",{className:` ${n&&wy} ${gy}`,ref:i,children:[(0,og.jsxs)("div",{children:[(0,og.jsxs)("span",{className:_y,children:["Task",(0,og.jsx)("br",{})," Manager",(0,og.jsx)("hr",{})]}),(0,og.jsxs)("nav",{children:[(0,og.jsxs)(K,{to:"/Dashboard",children:[(0,og.jsx)("img",{src:dy,alt:"Dashboard"}),(0,og.jsx)("span",{children:"Dashboard"})]}),(0,og.jsxs)(K,{to:"/List",children:[(0,og.jsx)("img",{src:cy,alt:"Todo List"}),(0,og.jsx)("span",{children:"List"})]}),(0,og.jsxs)(K,{to:"/Board",children:[(0,og.jsx)("img",{src:hy,alt:"Board"}),(0,og.jsx)("span",{children:"Board"})]}),(0,og.jsxs)(K,{to:`/Calendar/${ry()().format("DD-MM-YYYY")}/Day`,children:[(0,og.jsx)("img",{src:uy,alt:"Calendar"}),(0,og.jsx)("span",{children:"Calendar"})]}),(0,og.jsxs)(K,{to:"/Goals",children:[(0,og.jsx)("img",{src:fy,alt:"Goals"}),(0,og.jsx)("span",{children:"Goals"})]}),(0,og.jsxs)(K,{to:"/Test",children:[(0,og.jsx)("img",{src:fy,alt:"Test"}),(0,og.jsx)("span",{children:"Test"})]}),(0,og.jsxs)(K,{to:"/Msg",children:[(0,og.jsx)("img",{src:fy,alt:"Test"}),(0,og.jsx)("span",{children:"Group Chat"})]})]})]}),(0,og.jsx)("div",{className:yy,children:(0,og.jsxs)("button",{className:by,onClick:()=>{e()},children:[(0,og.jsx)("img",{src:my,alt:"Logout"}),(0,og.jsx)("span",{children:"LOGOUT"})]})})]})]})},Ey="Loader_container__M4jl+",xy="Loader_loader__+11QD",Ty="Loader_ldsRing__+LAiM",Iy=()=>(0,og.jsx)("div",{className:Ey,children:(0,og.jsxs)("div",{className:xy,children:[(0,og.jsx)("h1",{children:"Task Manager"}),(0,og.jsxs)("div",{className:Ty,children:[(0,og.jsx)("div",{}),(0,og.jsx)("div",{}),(0,og.jsx)("div",{}),(0,og.jsx)("div",{})]})]})}),Cy=e=>{let{children:t,title:n}=e;const{isPending:r}=ay();return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)(ky,{}),r?(0,og.jsx)(Iy,{}):(0,og.jsxs)("div",{className:oy.layoutContainer,children:[(0,og.jsxs)("header",{className:oy.header,children:[(0,og.jsx)("h1",{children:n}),(0,og.jsx)("hr",{})]}),(0,og.jsx)("main",{children:t})]})]})},Dy="GoalProgressSection_goalProgressSection__lXl-U",Ny="GoalProgressSection_goalProgressCaption__kK4Tc",Ay="GoalProgressSection_noTasks__Rht1a",Py="GoalProgressSection_goalLinks__rNmg+",Ry=e=>void 0===e||0===e.length?0:e.reduce(((e,t)=>e+t.progress),0)/e.length*100,Oy="GoalLink_link__rDOb0",My="GoalLink_goalProgressCircle__fO6CB",Ly=(e,t,n)=>{t=Math.min(Math.max(0,t),1),n.beginPath(),n.arc(0,0,53.5,0,2*Math.PI*t,!1),n.strokeStyle=e,n.lineCap="round",n.lineWidth=5,n.stroke()},jy=e=>{let{goal:n}=e;const{goalSteps:r}=ay(),i=r&&r.filter((e=>e.goalID===n.id)),s=i?Ry(i):0,a=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(!a.current)return;a.current.width=a.current.height=112;const e=a.current.getContext("2d");e.translate(56,56),e.rotate(-.5*Math.PI),Ly("#e5e7eb",1,e),Ly("#86efac",s/100,e)}),[s]),(0,og.jsxs)(K,{to:`../../Goals/${n.id}`,"aria-label":`Go to ${n.title} goal page`,className:Oy,children:[(0,og.jsx)("h3",{children:n.title}),(0,og.jsxs)("div",{className:My,style:{},children:[(0,og.jsxs)("span",{children:[s.toFixed(),"%"]}),(0,og.jsx)("canvas",{ref:a,"aria-label":`circle showing progress completion, current: ${s.toFixed()}%`})]})]},n.id)},Fy=()=>{const{goals:e}=ay();return(0,og.jsxs)("section",{className:Dy,children:[(0,og.jsx)("h2",{className:Ny,children:"Goal progress"}),(0,og.jsx)("div",{className:Py,children:e&&0!==e.length?e.slice(0,5).map((e=>(0,og.jsx)(jy,{goal:e},e.id))):(0,og.jsx)("div",{className:Ay,children:"You don't have any goals created"})})]})},Uy={spacesSection:"SpacesSection_spacesSection__zjFLy",spaces:"SpacesSection_spaces__2SA7x",showAddSpaceBtn:"SpacesSection_showAddSpaceBtn__5iBtu",spacesCaption:"SpacesSection_spacesCaption__YQHGq",noTasks:"SpacesSection_noTasks__+-Zcx",itemDescription:"SpacesSection_itemDescription__QGzyF",spaceDeleteBtn:"SpacesSection_spaceDeleteBtn__YhhjE"},Vy=e=>{const{user:n}=(0,t.useContext)(ug),{setIsError:r}=pg();return{addDocument:async t=>{try{return await Zm(Zp(ag,e),{...t,uid:null===n||void 0===n?void 0:n.uid})}catch{r(!0)}},removeDocument:async t=>{try{await Jm(em(Zp(ag,e),t))}catch{r(!0)}},updateDocument:async(t,n)=>{try{await function(e,t,n){e=Yp(e,Qp);const r=Yp(e.firestore,rm),i=gm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=ve(t))||t instanceof am?_m(i,"updateDoc",e._key,t,n,o):wm(i,"updateDoc",e._key,t),tg(r,[s.toMutation(e._key,Jc.exists(!0))])}(em(Zp(ag,e),t),n)}catch{r(!0)}}}},By="AddSpaceForm_formContainer__4S0Hg",$y=e=>{let{handleShowAddSpaceForm:n}=e;const[r,i]=(0,t.useState)(""),{addDocument:s}=Vy("spaces");return(0,og.jsxs)("div",{className:By,children:[(0,og.jsx)("h3",{children:"Add new Space"}),(0,og.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s({name:r}),n()},children:[(0,og.jsxs)("label",{children:["Space name:",(0,og.jsx)("input",{required:!0,type:"text",value:r,onChange:e=>{i(e.target.value)},maxLength:25})]}),(0,og.jsx)("button",{type:"submit",children:"Submit"})]})]})},zy="SpaceDeleteModal_openDialogButton__9S-f7",Hy={openDialogButton:"DeleteModal_openDialogButton__G2GG1",dialogContainer:"DeleteModal_dialogContainer__ZHjSU",panel:"DeleteModal_panel__-XGZj",title:"DeleteModal_title__7XUBT",removeButton:"DeleteModal_removeButton__9nRRm",backButton:"DeleteModal_backButton__YcVlH"},qy=e=>{let{isOpen:t,setIsOpen:n,handleDeleteBtnClick:r,title:i,description:s}=e;return(0,og.jsx)(ey,{open:t,onClose:()=>n(!1),className:Hy.dialogContainer,children:(0,og.jsxs)(ey.Panel,{className:Hy.panel,children:[(0,og.jsx)(ey.Title,{className:Hy.title,children:i}),(0,og.jsx)(ey.Description,{className:Hy.description,children:s}),(0,og.jsx)("button",{onClick:r,className:Hy.removeButton,children:"Remove"}),(0,og.jsx)("button",{onClick:()=>n(!1),className:Hy.backButton,children:"Cancel"})]})})},Gy=e=>{let{space:n,className:r,...i}=e;const[s,a]=(0,t.useState)(!1),{tasks:o,statuses:l}=ay(),{removeDocument:u}=Vy("tasks"),{removeDocument:c}=Vy("statuses"),{removeDocument:d}=Vy("spaces");return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("button",{onClick:()=>{a(!0)},className:`${zy} ${r}`,"aria-label":"Click to open window where you can remove space",...i}),(0,og.jsx)(qy,{isOpen:s,setIsOpen:a,title:"Remove Space",description:"This action will pernamently remove this space and all associated with it statuses and tasks. Are you absolutely sure?",handleDeleteBtnClick:()=>{null===o||void 0===o||o.filter((e=>e.spaceId===n.id)).forEach((e=>u(e.id))),null===l||void 0===l||l.filter((e=>e.spaceId===n.id)).forEach((e=>c(e.id))),d(n.id),a(!1)}})]})},Yy=e=>{let{...n}=e;const{spaces:r,statuses:i,tasks:s}=ay(),[a,o]=(0,t.useState)(!1),l=()=>{o(!a)};return(0,og.jsxs)("section",{className:Uy.spacesSection,...n,children:[(0,og.jsx)("h2",{className:`${Uy.sectionHeader} ${Uy.spacesCaption}`,children:"Spaces"}),(0,og.jsxs)("div",{className:Uy.spaces,children:[(0,og.jsx)("ul",{children:r&&0!==r.length?r.map((e=>(0,og.jsxs)("li",{children:[e.name,(0,og.jsx)("br",{}),(0,og.jsxs)("span",{className:Uy.itemDescription,children:[null===i||void 0===i?void 0:i.filter((t=>t.spaceId===e.id)).length," statuses, ",null===s||void 0===s?void 0:s.filter((t=>t.spaceId===e.id)).length," tasks"]}),(0,og.jsx)(Gy,{space:e,className:Uy.spaceDeleteBtn})]},e.id))):(0,og.jsx)("div",{className:Uy.noTasks,children:"You currently have no workspaces"})}),a?(0,og.jsx)($y,{handleShowAddSpaceForm:l}):(0,og.jsx)("button",{className:Uy.showAddSpaceBtn,onClick:l,children:"Add new space"})]})]})},Wy="HighPrioTaskSection_highPrioSection__T0Pee",Ky="HighPrioTaskSection_noTasks__OPkD7",Qy="HighPrioTaskSection_highPrioTasksCaption__3G5M3",Xy=(e,t)=>{const n=R(),r={"aria-label":"Click to move to task page",role:"link",tabIndex:0,onClick:t=>{t.stopPropagation(),n(`/Dashboard/${e.id}`)},onKeyDown:r=>{r.stopPropagation(),document.activeElement!==t.current||"Enter"!==r.code&&"Space"!==r.code||n(`/Dashboard/${e.id}`)}};return{linkAttributes:r}},Jy=(e,t)=>{const n={draggable:!0,onDragStart:n=>{var r;"function"!==typeof t&&(n.dataTransfer.setData("text/json",JSON.stringify(e)),t&&(null===(r=t.current)||void 0===r||r.classList.add("dragging")))},onDragEnd:()=>{var e;"function"!==typeof t&&t&&(null===(e=t.current)||void 0===e||e.classList.remove("dragging"))}};return{draggableAttributes:n}},Zy="TaskTableItem_tableRow__9RcSt",eb="TaskTableItem_smallCell__rjsWh",tb="TaskTableItem_itemDate__J4Bj7",nb="TaskDeleteBtn_deleteBtn__58qra",rb=e=>{let{task:t}=e;const{removeDocument:n}=Vy("tasks"),{removeDocument:r}=Vy("goalSteps"),{goalSteps:i}=ay();return(0,og.jsx)("button",{className:nb,onClick:e=>{e.stopPropagation(),n(t.id);const s=null===i||void 0===i?void 0:i.find((e=>"task"===e.type&&e.taskID===t.id));s&&r(s.id)},"aria-label":"Use to remove task"})},ib=e=>"low"===e?"medium":"medium"===e?"high":"low",sb={prioButton:"TaskPrioChangeBtn_prioButton__+Pgcy",low:"TaskPrioChangeBtn_low__zNkNA",medium:"TaskPrioChangeBtn_medium__7QbAi",high:"TaskPrioChangeBtn_high__hj7hf"},ab=e=>{let{task:{id:t,priority:n}}=e;const{updateDocument:r}=Vy("tasks");return(0,og.jsx)("button",{type:"button","aria-label":`Current priorty: ${n} click to change`,className:`${sb.prioButton} ${sb[n]}`,onClick:e=>{e.stopPropagation(),r(t,{priority:ib(n)})}})},ob="TaskStatusChangeBtn_outsideBtn__nSWeS",lb="TaskStatusChangeBtn_container__mjJs-";function ub(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function cb(e,n){let[r,i]=(0,t.useState)((()=>ub(e)));return Ng((()=>{i(ub(e))}),[e.type,e.as]),Ng((()=>{r||!n.current||n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&i("button")}),[r,n]),r}var db=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(db||{}),hb=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(hb||{});let fb={0:e=>({...e,popoverState:wg(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},pb=(0,t.createContext)(null);function mb(e){let n=(0,t.useContext)(pb);if(null===n){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,mb),t}return n}pb.displayName="PopoverContext";let gb=(0,t.createContext)(null);function vb(e){let n=(0,t.useContext)(gb);if(null===n){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,vb),t}return n}gb.displayName="PopoverAPIContext";let yb=(0,t.createContext)(null);function bb(){return(0,t.useContext)(yb)}yb.displayName="PopoverGroupContext";let wb=(0,t.createContext)(null);function _b(e,t){return wg(t.type,fb,e,t)}wb.displayName="PopoverPanelContext";let Sb=Ig((function(e,n){var r;let i=`headlessui-popover-button-${zg()}`,s=`headlessui-popover-panel-${zg()}`,a=(0,t.useRef)(null),o=Mg(n,Og((e=>{a.current=e}))),l=(0,t.useReducer)(_b,{popoverState:1,button:null,buttonId:i,panel:null,panelId:s,beforePanelSentinel:(0,t.createRef)(),afterPanelSentinel:(0,t.createRef)()}),[{popoverState:u,button:c,panel:d,beforePanelSentinel:h,afterPanelSentinel:f},p]=l,m=uv(null!=(r=a.current)?r:c);(0,t.useEffect)((()=>p({type:3,buttonId:i})),[i,p]),(0,t.useEffect)((()=>p({type:5,panelId:s})),[s,p]);let g=(0,t.useMemo)((()=>{if(!c||!d)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(c))^Number(null==e?void 0:e.contains(d)))return!0;return!1}),[c,d]),v=(0,t.useMemo)((()=>({buttonId:i,panelId:s,close:()=>p({type:1})})),[i,s,p]),y=bb(),b=null==y?void 0:y.registerPopover,w=Pg((()=>{var e;return null!=(e=null==y?void 0:y.isFocusWithinPopoverGroup())?e:(null==m?void 0:m.activeElement)&&((null==c?void 0:c.contains(m.activeElement))||(null==d?void 0:d.contains(m.activeElement)))}));(0,t.useEffect)((()=>null==b?void 0:b(v)),[b,v]),cv(null==m?void 0:m.defaultView,"focus",(e=>{var t,n,r,i;0===u&&(w()||!c||!d||null!=(n=null==(t=h.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(i=null==(r=f.current)?void 0:r.contains)&&i.call(r,e.target)||p({type:1}))}),!0),Bv([c,d],((e,t)=>{0===u&&(p({type:1}),Zg(t,Jg.Loose)||(e.preventDefault(),null==c||c.focus()))}));let _=Pg((e=>{p({type:1});let t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:c:c;null==t||t.focus()})),S=(0,t.useMemo)((()=>({close:_,isPortalled:g})),[_,g]),k=(0,t.useMemo)((()=>({open:0===u,close:_})),[u,_]),E=e,x={ref:o};return t.createElement(pb.Provider,{value:l},t.createElement(gb.Provider,{value:S},t.createElement(Lv,{value:wg(u,{0:Ov.Open,1:Ov.Closed})},Eg({ourProps:x,theirProps:E,slot:k,defaultTag:"div",name:"Popover"}))))})),kb=Ig((function(e,n){let[r,i]=mb("Popover.Button"),{isPortalled:s}=vb("Popover.Button"),a=(0,t.useRef)(null),o=`headlessui-focus-sentinel-${zg()}`,l=bb(),u=null==l?void 0:l.closeOthers,c=(0,t.useContext)(wb),d=null!==c&&c===r.panelId,h=Mg(a,n,d?null:e=>i({type:2,button:e})),f=Mg(a,n),p=uv(a),m=Pg((e=>{var t,n,s;if(d){if(1===r.popoverState)return;switch(e.key){case Lg.Space:case Lg.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),i({type:1}),null==(s=r.button)||s.focus()}}else switch(e.key){case Lg.Space:case Lg.Enter:e.preventDefault(),e.stopPropagation(),1===r.popoverState&&(null==u||u(r.buttonId)),i({type:0});break;case Lg.Escape:if(0!==r.popoverState)return null==u?void 0:u(r.buttonId);if(!a.current||(null==p?void 0:p.activeElement)&&!a.current.contains(p.activeElement))return;e.preventDefault(),e.stopPropagation(),i({type:1})}})),g=Pg((e=>{d||e.key===Lg.Space&&e.preventDefault()})),v=Pg((t=>{var n,s;jg(t.currentTarget)||e.disabled||(d?(i({type:1}),null==(n=r.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===r.popoverState&&(null==u||u(r.buttonId)),i({type:0}),null==(s=r.button)||s.focus()))})),y=Pg((e=>{e.preventDefault(),e.stopPropagation()})),b=0===r.popoverState,w=(0,t.useMemo)((()=>({open:b})),[b]),_=cb(e,a),S=e,k=d?{ref:f,type:_,onKeyDown:m,onClick:v}:{ref:h,id:r.buttonId,type:_,"aria-expanded":e.disabled?void 0:0===r.popoverState,"aria-controls":r.panel?r.panelId:void 0,onKeyDown:m,onKeyUp:g,onClick:v,onMouseDown:y},E=ov(),x=Pg((()=>{let e=r.panel;e&&wg(E.current,{[av.Forwards]:()=>iv(e,Wg.First),[av.Backwards]:()=>iv(e,Wg.Last)})}));return t.createElement(t.Fragment,null,Eg({ourProps:k,theirProps:S,slot:w,defaultTag:"button",name:"Popover.Button"}),b&&!d&&s&&t.createElement(qg,{id:o,features:Hg.Focusable,as:"button",type:"button",onFocus:x}))})),Eb=Sg.RenderStrategy|Sg.Static,xb=Ig((function(e,n){let[{popoverState:r},i]=mb("Popover.Overlay"),s=Mg(n),a=`headlessui-popover-overlay-${zg()}`,o=Mv(),l=null!==o?o===Ov.Open:0===r,u=Pg((e=>{if(jg(e.currentTarget))return e.preventDefault();i({type:1})}));return Eg({ourProps:{ref:s,id:a,"aria-hidden":!0,onClick:u},theirProps:e,slot:(0,t.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",features:Eb,visible:l,name:"Popover.Overlay"})})),Tb=Sg.RenderStrategy|Sg.Static,Ib=Ig((function(e,n){let{focus:r=!1,...i}=e,[s,a]=mb("Popover.Panel"),{close:o,isPortalled:l}=vb("Popover.Panel"),u=`headlessui-focus-sentinel-before-${zg()}`,c=`headlessui-focus-sentinel-after-${zg()}`,d=(0,t.useRef)(null),h=Mg(d,n,(e=>{a({type:4,panel:e})})),f=uv(d),p=Mv(),m=null!==p?p===Ov.Open:0===s.popoverState,g=Pg((e=>{var t;if(e.key===Lg.Escape){if(0!==s.popoverState||!d.current||(null==f?void 0:f.activeElement)&&!d.current.contains(f.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1}),null==(t=s.button)||t.focus()}}));(0,t.useEffect)((()=>{var t;e.static||1===s.popoverState&&(null==(t=e.unmount)||t)&&a({type:4,panel:null})}),[s.popoverState,e.unmount,e.static,a]),(0,t.useEffect)((()=>{if(!r||0!==s.popoverState||!d.current)return;let e=null==f?void 0:f.activeElement;d.current.contains(e)||iv(d.current,Wg.First)}),[r,d,s.popoverState]);let v=(0,t.useMemo)((()=>({open:0===s.popoverState,close:o})),[s,o]),y={ref:h,id:s.panelId,onKeyDown:g,onBlur:r&&0===s.popoverState?e=>{var t,n,r,i,o;let l=e.relatedTarget;!l||!d.current||null!=(t=d.current)&&t.contains(l)||(a({type:1}),((null==(r=null==(n=s.beforePanelSentinel.current)?void 0:n.contains)?void 0:r.call(n,l))||(null==(o=null==(i=s.afterPanelSentinel.current)?void 0:i.contains)?void 0:o.call(i,l)))&&l.focus({preventScroll:!0}))}:void 0,tabIndex:-1},b=ov(),w=Pg((()=>{let e=d.current;e&&wg(b.current,{[av.Forwards]:()=>{iv(e,Wg.First)},[av.Backwards]:()=>{var e;null==(e=s.button)||e.focus({preventScroll:!0})}})})),_=Pg((()=>{let e=d.current;e&&wg(b.current,{[av.Forwards]:()=>{var e,t,n;if(!s.button)return;let r=Xg(),i=r.indexOf(s.button),a=r.slice(0,i+1),o=[...r.slice(i+1),...a];for(let l of o.slice())if((null==(t=null==(e=null==l?void 0:l.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=s.panel)?void 0:n.contains(l))){let e=o.indexOf(l);-1!==e&&o.splice(e,1)}iv(o,Wg.First,!1)},[av.Backwards]:()=>iv(e,Wg.Last)})}));return t.createElement(wb.Provider,{value:s.panelId},m&&l&&t.createElement(qg,{id:u,ref:s.beforePanelSentinel,features:Hg.Focusable,as:"button",type:"button",onFocus:w}),Eg({ourProps:y,theirProps:i,slot:v,defaultTag:"div",features:Tb,visible:m,name:"Popover.Panel"}),m&&l&&t.createElement(qg,{id:c,ref:s.afterPanelSentinel,features:Hg.Focusable,as:"button",type:"button",onFocus:_}))})),Cb=Ig((function(e,n){let r=(0,t.useRef)(null),i=Mg(r,n),[s,a]=(0,t.useState)([]),o=Pg((e=>{a((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),l=Pg((e=>(a((t=>[...t,e])),()=>o(e)))),u=Pg((()=>{var e;let t=Gg(r);if(!t)return!1;let n=t.activeElement;return!(null==(e=r.current)||!e.contains(n))||s.some((e=>{var r,i;return(null==(r=t.getElementById(e.buttonId))?void 0:r.contains(n))||(null==(i=t.getElementById(e.panelId))?void 0:i.contains(n))}))})),c=Pg((e=>{for(let t of s)t.buttonId!==e&&t.close()})),d=(0,t.useMemo)((()=>({registerPopover:l,unregisterPopover:o,isFocusWithinPopoverGroup:u,closeOthers:c})),[l,o,u,c]),h=(0,t.useMemo)((()=>({})),[]),f=e,p={ref:i};return t.createElement(yb.Provider,{value:d},Eg({ourProps:p,theirProps:f,slot:h,defaultTag:"div",name:"Popover.Group"}))})),Db=Object.assign(Sb,{Button:kb,Overlay:xb,Panel:Ib,Group:Cb});function Nb(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener:(e,t,r,i)=>(e.addEventListener(t,r,i),n.add((()=>e.removeEventListener(t,r,i)))),requestAnimationFrame(){let e=requestAnimationFrame(...arguments);return n.add((()=>cancelAnimationFrame(e)))},nextFrame(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.requestAnimationFrame((()=>n.requestAnimationFrame(...t)))},setTimeout(){let e=setTimeout(...arguments);return n.add((()=>clearTimeout(e)))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0){let[t]=e.splice(n,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}function Ab(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.add(...n)}function Pb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.remove(...n)}var Rb=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(Rb||{});function Ob(e,t,n,r){let i=n?"enter":"leave",s=Nb(),a=void 0!==r?function(e){let t={called:!1};return function(){if(!t.called)return t.called=!0,e(...arguments)}}(r):()=>{},o=wg(i,{enter:()=>t.enter,leave:()=>t.leave}),l=wg(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=wg(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Pb(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Ab(e,...o,...u),s.nextFrame((()=>{Pb(e,...u),Ab(e,...l),function(e,t){let n=Nb();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[s,a]=[r,i].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(s+a!==0){let r=[];r.push(n.addEventListener(e,"transitionrun",(()=>{r.splice(0).forEach((e=>e())),r.push(n.addEventListener(e,"transitionend",(()=>{t("ended"),r.splice(0).forEach((e=>e()))}),{once:!0}),n.addEventListener(e,"transitioncancel",(()=>{t("cancelled"),r.splice(0).forEach((e=>e()))}),{once:!0}))}),{once:!0}))}else t("ended");n.add((()=>t("cancelled"))),n.dispose}(e,(n=>("ended"===n&&(Pb(e,...o),Ab(e,...t.entered)),a(n))))})),s.dispose}function Mb(){let[e]=(0,t.useState)(Nb);return(0,t.useEffect)((()=>()=>e.dispose()),[e]),e}function Lb(e){let{container:t,direction:n,classes:r,events:i,onStart:s,onStop:a}=e,o=lv(),l=Mb(),u=Ag(n),c=Pg((()=>wg(u.current,{enter:()=>i.current.beforeEnter(),leave:()=>i.current.beforeLeave(),idle:()=>{}}))),d=Pg((()=>wg(u.current,{enter:()=>i.current.afterEnter(),leave:()=>i.current.afterLeave(),idle:()=>{}})));Ng((()=>{let e=Nb();l.add(e.dispose);let n=t.current;if(n&&"idle"!==u.current&&o.current)return e.dispose(),c(),s.current(u.current),e.add(Ob(n,r.current,"enter"===u.current,(t=>{e.dispose(),wg(t,{[Rb.Ended](){d(),a.current(u.current)},[Rb.Cancelled]:()=>{}})}))),e.dispose}),[n])}function jb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter((e=>e.trim().length>1))}let Fb=(0,t.createContext)(null);Fb.displayName="TransitionContext";var Ub=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ub||{});let Vb=(0,t.createContext)(null);function Bb(e){return"children"in e?Bb(e.children):e.current.filter((e=>{let{state:t}=e;return"visible"===t})).length>0}function $b(e){let n=Ag(e),r=(0,t.useRef)([]),i=lv(),s=Pg((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg.Hidden,s=r.current.findIndex((t=>{let{id:n}=t;return n===e}));-1!==s&&(wg(t,{[kg.Unmount](){r.current.splice(s,1)},[kg.Hidden](){r.current[s].state="hidden"}}),dv((()=>{var e;!Bb(r)&&i.current&&(null==(e=n.current)||e.call(n))})))})),a=Pg((e=>{let t=r.current.find((t=>{let{id:n}=t;return n===e}));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({id:e,state:"visible"}),()=>s(e,kg.Unmount)}));return(0,t.useMemo)((()=>({children:r,register:a,unregister:s})),[a,s,r])}function zb(){}Vb.displayName="NestingContext";let Hb=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function qb(e){var t;let n={};for(let r of Hb)n[r]=null!=(t=e[r])?t:zb;return n}let Gb=Sg.RenderStrategy,Yb=Ig((function(e,n){let{beforeEnter:r,afterEnter:i,beforeLeave:s,afterLeave:a,enter:o,enterFrom:l,enterTo:u,entered:c,leave:d,leaveFrom:h,leaveTo:f,...p}=e,m=(0,t.useRef)(null),g=Mg(m,n),[v,y]=(0,t.useState)("visible"),b=p.unmount?kg.Unmount:kg.Hidden,{show:w,appear:_,initial:S}=function(){let e=(0,t.useContext)(Fb);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:k,unregister:E}=function(){let e=(0,t.useContext)(Vb);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),x=(0,t.useRef)(null),T=zg();(0,t.useEffect)((()=>{if(T)return k(T)}),[k,T]),(0,t.useEffect)((()=>{if(b===kg.Hidden&&T){if(w&&"visible"!==v)return void y("visible");wg(v,{hidden:()=>E(T),visible:()=>k(T)})}}),[v,T,k,E,w,b]);let I=Ag({enter:jb(o),enterFrom:jb(l),enterTo:jb(u),entered:jb(c),leave:jb(d),leaveFrom:jb(h),leaveTo:jb(f)}),C=function(e){let n=(0,t.useRef)(qb(e));return(0,t.useEffect)((()=>{n.current=qb(e)}),[e]),n}({beforeEnter:r,afterEnter:i,beforeLeave:s,afterLeave:a}),D=Ug();(0,t.useEffect)((()=>{if(D&&"visible"===v&&null===m.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[m,v,D]);let N=S&&!_,A=!D||N||x.current===w?"idle":w?"enter":"leave",P=(0,t.useRef)(!1),R=$b((()=>{P.current||(y("hidden"),E(T))}));Lb({container:m,classes:I,events:C,direction:A,onStart:Ag((()=>{P.current=!0})),onStop:Ag((e=>{P.current=!1,"leave"===e&&!Bb(R)&&(y("hidden"),E(T))}))}),(0,t.useEffect)((()=>{!N||(b===kg.Hidden?x.current=null:x.current=w)}),[w,N,v]);let O=p,M={ref:g};return t.createElement(Vb.Provider,{value:R},t.createElement(Lv,{value:wg(v,{visible:Ov.Open,hidden:Ov.Closed})},Eg({ourProps:M,theirProps:O,defaultTag:"div",features:Gb,visible:"visible"===v,name:"Transition.Child"})))})),Wb=Ig((function(e,n){let{show:r,appear:i=!1,unmount:s,...a}=e,o=(0,t.useRef)(null),l=Mg(o,n);Ug();let u=Mv();if(void 0===r&&null!==u&&(r=wg(u,{[Ov.Open]:!0,[Ov.Closed]:!1})),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=(0,t.useState)(r?"visible":"hidden"),h=$b((()=>{d("hidden")})),[f,p]=(0,t.useState)(!0),m=(0,t.useRef)([r]);Ng((()=>{!1!==f&&m.current[m.current.length-1]!==r&&(m.current.push(r),p(!1))}),[m,r]);let g=(0,t.useMemo)((()=>({show:r,appear:i,initial:f})),[r,i,f]);(0,t.useEffect)((()=>{if(r)d("visible");else if(Bb(h)){let e=o.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&d("hidden")}else d("hidden")}),[r,h]);let v={unmount:s};return t.createElement(Vb.Provider,{value:h},t.createElement(Fb.Provider,{value:g},Eg({ourProps:{...v,as:t.Fragment,children:t.createElement(Yb,{ref:l,...v,...a})},theirProps:{},defaultTag:t.Fragment,features:Gb,visible:"visible"===c,name:"Transition"})))})),Kb=Ig((function(e,n){let r=null!==(0,t.useContext)(Fb),i=null!==Mv();return t.createElement(t.Fragment,null,!r&&i?t.createElement(Wb,{ref:n,...e}):t.createElement(Yb,{ref:n,...e}))})),Qb=Object.assign(Wb,{Child:Kb,Root:Wb});const Xb="AnimatedPopover_transition__55t4U",Jb="AnimatedPopover_transitionEnterFrom__2mzCE",Zb="AnimatedPopover_transitionEnterTo__9l4Sq",ew=(0,t.createContext)(null),tw=()=>(0,t.useContext)(ew),nw=e=>{let{buttonText:n,children:r,panelStyles:i,...s}=e;const a=(0,t.useRef)(null);return(0,og.jsxs)(Db,{as:t.Fragment,children:[(0,og.jsx)(Db.Button,{ref:a,...s,children:n}),(0,og.jsx)(Qb,{enter:Xb,enterFrom:Jb,enterTo:Zb,children:(0,og.jsx)(Db.Panel,{style:{...i},children:(0,og.jsx)(ew.Provider,{value:()=>{var e;null===(e=a.current)||void 0===e||e.click()},children:r})})})]})},rw=e=>{let{task:t,space:n}=e;const{updateDocument:r}=Vy("tasks"),{statuses:i,spaces:s}=ay(),a=null===i||void 0===i?void 0:i.find((e=>e.id===t.statusId)),o=null===s||void 0===s?void 0:s.find((e=>e.id===t.spaceId)),l=n?null===i||void 0===i?void 0:i.filter((e=>e.spaceId===n.id)):null===i||void 0===i?void 0:i.filter((e=>e.spaceId===(null===o||void 0===o?void 0:o.id))),u=a&&a.color;return(0,og.jsx)(nw,{className:ob,style:{backgroundColor:u},"aria-label":"Click to open list of available statuses",children:(0,og.jsx)("div",{className:lb,children:l&&l.map((e=>(0,og.jsx)("button",{onClick:n=>{((e,n)=>{e.stopPropagation(),n!==t.statusId&&r(t.id,{statusId:n})})(n,e.id)},style:{backgroundColor:e.color},children:e.name},e.id)))})})},iw=e=>{let{task:n,draggable:r}=e;const i=(0,t.useRef)(null),{linkAttributes:s}=Xy(n,i),{draggableAttributes:a}=Jy(n,i),o=r?a:{};return(0,og.jsxs)("tr",{ref:i,className:Zy,...s,...o,children:[(0,og.jsx)("td",{className:eb,children:(0,og.jsx)(rw,{task:n})}),(0,og.jsx)("td",{children:(0,og.jsx)("p",{children:n.description})}),(0,og.jsx)("td",{className:`${eb} ${tb}`,children:n.dueDate?ry().unix(n.dueDate).format("DD/MM"):"-/-"}),(0,og.jsx)("td",{className:eb,children:(0,og.jsx)(ab,{task:n})}),(0,og.jsx)("td",{className:eb,children:(0,og.jsx)(rb,{task:n})})]})},sw=()=>{const{tasks:e}=ay(),t=e&&e.filter((e=>"high"===e.priority));return(0,og.jsx)("section",{className:Wy,children:(0,og.jsxs)("table",{children:[(0,og.jsx)("caption",{className:Qy,children:"Current high priority tasks"}),(0,og.jsx)("tbody",{children:t&&0!==t.length?t.map((e=>(0,og.jsx)(iw,{task:e},e.id))):(0,og.jsx)("tr",{children:(0,og.jsx)("td",{className:Ky,children:"You don't have any high priority tasks right now"})})})]})})},aw=e=>{const t=[];for(let n=0;n<24;n++)t.push(e.hour(n));return t},ow=(e,t)=>e.filter((e=>{if(!e.dueDate||!e.fromDate)return!1;let n=!1;const r=ry().unix(e.fromDate),i=ry().unix(e.dueDate);return t.forEach((e=>{(e.isBetween(r,i)||e.isSame(i,"hour"))&&(n=!0)})),n})),lw="TodaySection_todaySection__Tewzr",uw="TodaySection_noTasks__UHSad",cw="TodaySection_todaysTasksCaption__pP1TT",dw=()=>{const{tasks:e}=ay(),t=e&&ow(e,aw(ry()()));return(0,og.jsx)("section",{className:lw,children:(0,og.jsxs)("table",{children:[(0,og.jsx)("caption",{className:cw,children:"Today's tasks"}),(0,og.jsx)("tbody",{children:t&&0!==t.length?null===t||void 0===t?void 0:t.map((e=>(0,og.jsx)(iw,{task:e},e.id))):(0,og.jsx)("tr",{children:(0,og.jsx)("td",{className:uw,children:"No task has been scheduled for today"})})})]})})},hw=()=>(0,og.jsxs)(Cy,{title:"Dashboard",children:[(0,og.jsx)("div",{className:iy,children:(0,og.jsx)("span",{children:ry()().format("dddd DD/MM/YYYY")})}),(0,og.jsxs)("div",{className:sy,children:[(0,og.jsx)(dw,{}),(0,og.jsx)(sw,{}),(0,og.jsx)(Fy,{}),(0,og.jsx)(Yy,{})]}),(0,og.jsx)(U,{})]}),fw="List_newStatusContainer__P-+d+",pw="List_newStatusButton__LE1eX",mw="List_row__OXZ5N",gw="List_spaceSelect__lb21X",vw="List_listContainer__l0Rdi",yw="List_addTaskBtn__h5XxD",bw="List_statusText__7FV-k",ww="List_noTasks__IuNsx",_w="List_thDueDate__dVp-O",Sw="List_addTaskForm__FCK7T",kw="List_hiddenTableCell__5Or1z",Ew="List_smallCell__MpUku",xw="AddStatusForm_submitButton__VO7Vl",Tw="AddStatusForm_form__jMa-y",Iw="AddStatusForm_textInput__ezu4B",Cw="AddStatusForm_colorPicker__cXCVz",Dw=()=>{const{addDocument:e}=Vy("statuses"),n=tw(),{statuses:r,selectedSpace:i}=ay(),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("#FFFFFF");return(0,og.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e({name:s,orderIndex:r&&0!==r.length?r[r.length-1].orderIndex+1:0,color:o,spaceId:null===i||void 0===i?void 0:i.id}),n&&n(),a(""),l("#FFFFFF")},className:Tw,children:[(0,og.jsx)("h3",{children:"Add new status:"}),(0,og.jsxs)("label",{children:["Status name: ",(0,og.jsx)("br",{}),"(ex. \u201eIn Progress\u201d)",(0,og.jsx)("br",{}),(0,og.jsx)("input",{type:"text",className:Iw,required:!0,maxLength:20,onChange:e=>{a(e.target.value)}})]}),(0,og.jsxs)("label",{children:["Choose color:",(0,og.jsx)("br",{}),(0,og.jsx)("input",{className:Cw,type:"color",defaultValue:"#FFFFFF",onChange:e=>{l(e.target.value)}})]}),(0,og.jsx)("button",{type:"submit",className:xw,children:"Submit"})]})},Nw=(e,t)=>{const{updateDocument:n}=Vy("tasks"),r=(()=>{let e;return()=>{clearTimeout(e),e=setTimeout((()=>{var e;null===(e=t.current)||void 0===e||e.classList.remove("dragOver")}),150)}})(),i={onDragOver:e=>{var n;e.preventDefault(),e.stopPropagation(),null===(n=t.current)||void 0===n||n.classList.add("dragOver"),r()},onDrop:r=>{try{var i;const s=JSON.parse(r.dataTransfer.getData("text/json"));e.name!==s.status&&n(s.id,{statusId:e.id}),null===(i=t.current)||void 0===i||i.classList.remove("dragOver")}catch(r){var s;null===(s=t.current)||void 0===s||s.classList.remove("dragOver")}}};return{statusOnDropAttributes:i}},Aw="AddTaskForm_form__YOoIz",Pw="AddTaskForm_submitButton__eblon",Rw="AddTaskForm_descriptionInput__EOz-K",Ow="AddTaskForm_spaceSelect__xI4hl",Mw=(0,t.createContext)(null),Lw=e=>{let{children:n}=e;const[r,i]=(0,t.useState)([]);return(0,og.jsx)(Mw.Provider,{value:{steps:r,addStepInNewGoal:e=>{i((t=>[...t,{...e,id:(new Date).getTime().toString()}]))},updateStepInNewGoal:(e,t)=>{i((n=>n.map((n=>n.id===e?{...n,...t}:n))))},removeStepInNewGoal:e=>{i((t=>t.filter((t=>t.id!==e))))}},children:n})},jw=()=>(0,t.useContext)(Mw),Fw={statusSelectInput:"StatusSelectInput_statusSelectInput__JlnVk"},Uw=e=>{let{space:n,status:r,setStatus:i}=e;const{statuses:s,selectedSpace:a}=ay(),o=n?null===s||void 0===s?void 0:s.filter((e=>e.spaceId===n.id)):null===s||void 0===s?void 0:s.filter((e=>e.spaceId===(null===a||void 0===a?void 0:a.id)));return(0,t.useEffect)((()=>{o?void 0===o.find((e=>e.id===(null===r||void 0===r?void 0:r.id)))&&i(o[0]):i(null)}),[o,i,null===r||void 0===r?void 0:r.id]),(0,og.jsx)("select",{id:"spaceSelect",className:Fw.statusSelectInput,value:null===r||void 0===r?void 0:r.id,required:!0,onChange:e=>{i(null===o||void 0===o?void 0:o.find((t=>t.id===e.target.value)))},style:{backgroundColor:null===r||void 0===r?void 0:r.color},children:o&&0!==o.length?null===o||void 0===o?void 0:o.map((e=>(0,og.jsx)("option",{value:e.id,className:Fw.selectInput,style:{backgroundColor:e.color},children:e.name},e.id))):(0,og.jsx)("option",{value:"",className:Fw.selectInput,children:"You cannot add task to space without any statuses"})})},Vw={PriorityChangeInput:"PriorityChangeInput_PriorityChangeInput__aSBQb",low:"PriorityChangeInput_low__2m7Gr",medium:"PriorityChangeInput_medium__S-RYr",high:"PriorityChangeInput_high__UnP3M"},Bw=e=>{let{priority:t,setPriority:n}=e;return(0,og.jsx)("input",{type:"button","aria-label":`Current priorty: ${t} click to change`,className:`${Vw.PriorityChangeInput} ${Vw[t]}`,onClick:()=>{n(ib(t))}})},$w={dateEnabledSwitch:"DateInputs_dateEnabledSwitch__BAkdP",switch:"DateInputs_switch__7y62e",switchInner:"DateInputs_switchInner__0FJ+H",switchInnerEnabled:"DateInputs_switchInnerEnabled__THIfx",switchInnerDisabled:"DateInputs_switchInnerDisabled__a-VeJ",dateInputsContainer:"DateInputs_dateInputsContainer__BKO94"};let zw=(0,t.createContext)(null);function Hw(){let e=(0,t.useContext)(zw);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Hw),e}return e}let qw=Ig((function(e,t){let{passive:n=!1,...r}=e,i=Hw(),s=`headlessui-label-${zg()}`,a=Mg(t);Ng((()=>i.register(s)),[s,i.register]);let o={ref:a,...i.props,id:s};return n&&("onClick"in o&&delete o.onClick,"onClick"in r&&delete r.onClick),Eg({ourProps:o,theirProps:r,slot:i.slot||{},defaultTag:"label",name:i.name||"Label"})}));function Gw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let[r,i]of Object.entries(e))Ww(n,Yw(t,r),i);return n}function Yw(e,t){return e?e+"["+t+"]":t}function Ww(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())Ww(e,Yw(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):Gw(n,t,e)}let Kw=(0,t.createContext)(null);Kw.displayName="GroupContext";let Qw=t.Fragment;let Xw=Ig((function(e,n){let{checked:r,onChange:i,name:s,value:a,...o}=e,l=`headlessui-switch-${zg()}`,u=(0,t.useContext)(Kw),c=(0,t.useRef)(null),d=Mg(c,n,null===u?null:u.setSwitch),h=Pg((()=>i(!r))),f=Pg((e=>{if(jg(e.currentTarget))return e.preventDefault();e.preventDefault(),h()})),p=Pg((e=>{e.key===Lg.Space?(e.preventDefault(),h()):e.key===Lg.Enter&&function(e){var t;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n)for(let r of n.elements)if("INPUT"===r.tagName&&"submit"===r.type||"BUTTON"===r.tagName&&"submit"===r.type||"INPUT"===r.nodeName&&"image"===r.type)return void r.click()}(e.currentTarget)})),m=Pg((e=>e.preventDefault())),g=(0,t.useMemo)((()=>({checked:r})),[r]),v={id:l,ref:d,role:"switch",type:cb(e,c),tabIndex:0,"aria-checked":r,"aria-labelledby":null==u?void 0:u.labelledby,"aria-describedby":null==u?void 0:u.describedby,onClick:f,onKeyUp:p,onKeyPress:m};return t.createElement(t.Fragment,null,null!=s&&r&&t.createElement(qg,{features:Hg.Hidden,...Cg({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:r,name:s,value:a})}),Eg({ourProps:v,theirProps:o,slot:g,defaultTag:"button",name:"Switch"}))})),Jw=Object.assign(Xw,{Group:function(e){let[n,r]=(0,t.useState)(null),[i,s]=function(){let[e,n]=(0,t.useState)([]);return[e.length>0?e.join(" "):void 0,(0,t.useMemo)((()=>function(e){let r=Pg((e=>(n((t=>[...t,e])),()=>n((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),i=(0,t.useMemo)((()=>({register:r,slot:e.slot,name:e.name,props:e.props})),[r,e.slot,e.name,e.props]);return t.createElement(zw.Provider,{value:i},e.children)}),[n])]}(),[a,o]=Av(),l=(0,t.useMemo)((()=>({switch:n,setSwitch:r,labelledby:i,describedby:a})),[n,r,i,a]),u=e;return t.createElement(o,{name:"Switch.Description"},t.createElement(s,{name:"Switch.Label",props:{onClick(){!n||(n.click(),n.focus({preventScroll:!0}))}}},t.createElement(Kw.Provider,{value:l},Eg({ourProps:{},theirProps:u,defaultTag:Qw,name:"Switch.Group"}))))},Label:qw,Description:Pv});const Zw=e=>{let{fromDate:t,dueDate:n,setFromDate:r,setDueDate:i,openSwitch:s=!1,setOpenSwitch:a}=e;return(0,og.jsxs)("div",{children:[(0,og.jsxs)("label",{className:$w.dateEnabledSwitch,children:["Time frame?",(0,og.jsx)(Jw,{className:`${$w.switch} ${s?$w.switchEnabled:$w.switchDisabled}`,checked:s,"aria-label":"Click to open or close date and time inputs",onChange:a,children:(0,og.jsx)("span",{className:`${s?$w.switchInnerEnabled:$w.switchInnerDisabled} ${$w.switchInner}`})})]}),(0,og.jsx)("div",{className:$w.dateInputsContainer,children:s&&(0,og.jsxs)(og.Fragment,{children:[(0,og.jsxs)("label",{children:["From:",(0,og.jsx)("br",{}),(0,og.jsx)("input",{type:"datetime-local",value:t,required:!0,min:"2022-01-01T00:00",onChange:e=>{r(e.target.value)}})]}),(0,og.jsx)("br",{}),(0,og.jsxs)("label",{children:["Due:",(0,og.jsx)("br",{}),(0,og.jsx)("input",{type:"datetime-local",required:!0,min:ry()(t,"YYYY-MM-DDThh:mm").format("YYYY-MM-DDThh:mm"),value:n,onChange:e=>{i(e.target.value)}})]})]})})]})},e_=e=>{let{...t}=e;return(0,og.jsx)("div",{...t,children:"You need to create at least one status to add new tasks"})},t_="SpaceSelect_spaceSelect__B6Hk0",n_="SpaceSelect_selectButton__9tWjR",r_="SpaceSelect_optionActive__R9nxv",i_="SpaceSelect_transition__IMIsG",s_="SpaceSelect_transitionEnterFrom__KxZ9F",a_="SpaceSelect_transitionEnterTo__K-EYB";const o_=n.p+"static/media/unfold.0855469958f80539c85789740041d482.svg";function l_(e,n){let[r,i]=(0,t.useState)(e),s=Ag(e);return Ng((()=>i(s.current)),[s,i,...n]),r}var u_=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(u_||{});function c_(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1,s=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,r)=>!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=i)&&!t.resolveDisabled(e)));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===s?r:s}var d_=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(d_||{}),h_=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(h_||{}),f_=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(f_||{}),p_=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(p_||{});function m_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=rv(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),i=n?r.indexOf(n):null;return-1===i&&(i=null),{options:r,activeOptionIndex:i}}let g_={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:i}=e.propsRef.current,s=e.options.findIndex((e=>{let t=e.dataRef.current.value;return wg(r,{1:()=>n.some((e=>i(e,t))),0:()=>i(n,t)})}));return-1!==s&&(t=s),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var n;if(e.disabled||1===e.listboxState)return e;let r=m_(e),i=c_(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),s=i?e.options.indexOf(i):-1;return-1===s||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=m_(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:i,mode:s,compare:a}=e.propsRef.current,o=t.dataRef.current.value;wg(s,{1:()=>i.some((e=>a(e,o))),0:()=>a(i,o)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},8:(e,t)=>{let n=m_(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},v_=(0,t.createContext)(null);function y_(e){let n=(0,t.useContext)(v_);if(null===n){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,y_),t}return n}function b_(e,t){return wg(t.type,g_,e,t)}v_.displayName="ListboxContext";let w_=t.Fragment,__=Ig((function(e,n){let{value:r,name:i,onChange:s,disabled:a=!1,horizontal:o=!1,multiple:l=!1,...u}=e;const c=o?"horizontal":"vertical";let d=Mg(n),h=(0,t.useReducer)(b_,{listboxState:1,propsRef:{current:{value:r,onChange:s,mode:l?1:0,compare:Pg(((e,t)=>e===t))}},labelRef:(0,t.createRef)(),buttonRef:(0,t.createRef)(),optionsRef:(0,t.createRef)(),disabled:a,orientation:c,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:f,propsRef:p,optionsRef:m,buttonRef:g},v]=h;p.current.value=r,p.current.mode=l?1:0,Ng((()=>{p.current.onChange=e=>wg(p.current.mode,{0:()=>s(e),1(){let t=p.current.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),s(t)}})}),[s,p]),Ng((()=>v({type:2,disabled:a})),[a]),Ng((()=>v({type:3,orientation:c})),[c]),Bv([g,m],((e,t)=>{var n;0===f&&(v({type:1}),Zg(t,Jg.Loose)||(e.preventDefault(),null==(n=g.current)||n.focus()))}));let y=(0,t.useMemo)((()=>({open:0===f,disabled:a})),[f,a]),b={ref:d};return t.createElement(v_.Provider,{value:h},t.createElement(Lv,{value:wg(f,{0:Ov.Open,1:Ov.Closed})},null!=i&&null!=r&&Gw({[i]:r}).map((e=>{let[n,r]=e;return t.createElement(qg,{features:Hg.Hidden,...Cg({key:n,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:n,value:r})})})),Eg({ourProps:b,theirProps:u,slot:y,defaultTag:w_,name:"Listbox"})))})),S_=Ig((function(e,n){var r;let[i,s]=y_("Listbox.Button"),a=Mg(i.buttonRef,n),o=`headlessui-listbox-button-${zg()}`,l=Mb(),u=Pg((e=>{switch(e.key){case Lg.Space:case Lg.Enter:case Lg.ArrowDown:e.preventDefault(),s({type:0}),l.nextFrame((()=>{i.propsRef.current.value||s({type:4,focus:u_.First})}));break;case Lg.ArrowUp:e.preventDefault(),s({type:0}),l.nextFrame((()=>{i.propsRef.current.value||s({type:4,focus:u_.Last})}))}})),c=Pg((e=>{if(e.key===Lg.Space)e.preventDefault()})),d=Pg((e=>{if(jg(e.currentTarget))return e.preventDefault();0===i.listboxState?(s({type:1}),l.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),s({type:0}))})),h=l_((()=>{if(i.labelRef.current)return[i.labelRef.current.id,o].join(" ")}),[i.labelRef.current,o]),f=(0,t.useMemo)((()=>({open:0===i.listboxState,disabled:i.disabled})),[i]),p=e;return Eg({ourProps:{ref:a,id:o,type:cb(e,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=i.optionsRef.current)?void 0:r.id,"aria-expanded":i.disabled?void 0:0===i.listboxState,"aria-labelledby":h,disabled:i.disabled,onKeyDown:u,onKeyUp:c,onClick:d},theirProps:p,slot:f,defaultTag:"button",name:"Listbox.Button"})})),k_=Ig((function(e,n){let[r]=y_("Listbox.Label"),i=`headlessui-listbox-label-${zg()}`,s=Mg(r.labelRef,n),a=Pg((()=>{var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));return Eg({ourProps:{ref:s,id:i,onClick:a},theirProps:e,slot:(0,t.useMemo)((()=>({open:0===r.listboxState,disabled:r.disabled})),[r]),defaultTag:"label",name:"Listbox.Label"})})),E_=Sg.RenderStrategy|Sg.Static,x_=Ig((function(e,n){var r;let[i,s]=y_("Listbox.Options"),a=Mg(i.optionsRef,n),o=`headlessui-listbox-options-${zg()}`,l=Mb(),u=Mb(),c=Mv(),d=null!==c?c===Ov.Open:0===i.listboxState;(0,t.useEffect)((()=>{var e;let t=i.optionsRef.current;!t||0===i.listboxState&&t!==(null==(e=Gg(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[i.listboxState,i.optionsRef]);let h=Pg((e=>{switch(u.dispose(),e.key){case Lg.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),s({type:5,value:e.key});case Lg.Enter:if(e.preventDefault(),e.stopPropagation(),null!==i.activeOptionIndex){let{dataRef:e}=i.options[i.activeOptionIndex];i.propsRef.current.onChange(e.current.value)}0===i.propsRef.current.mode&&(s({type:1}),Nb().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case wg(i.orientation,{vertical:Lg.ArrowDown,horizontal:Lg.ArrowRight}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:u_.Next});case wg(i.orientation,{vertical:Lg.ArrowUp,horizontal:Lg.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:u_.Previous});case Lg.Home:case Lg.PageUp:return e.preventDefault(),e.stopPropagation(),s({type:4,focus:u_.First});case Lg.End:case Lg.PageDown:return e.preventDefault(),e.stopPropagation(),s({type:4,focus:u_.Last});case Lg.Escape:return e.preventDefault(),e.stopPropagation(),s({type:1}),l.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case Lg.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s({type:5,value:e.key}),u.setTimeout((()=>s({type:6})),350))}})),f=l_((()=>{var e,t,n;return null!=(n=null==(e=i.labelRef.current)?void 0:e.id)?n:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),p=(0,t.useMemo)((()=>({open:0===i.listboxState})),[i]),m=e;return Eg({ourProps:{"aria-activedescendant":null===i.activeOptionIndex||null==(r=i.options[i.activeOptionIndex])?void 0:r.id,"aria-multiselectable":1===i.propsRef.current.mode||void 0,"aria-labelledby":f,"aria-orientation":i.orientation,id:o,onKeyDown:h,role:"listbox",tabIndex:0,ref:a},theirProps:m,slot:p,defaultTag:"ul",features:E_,visible:d,name:"Listbox.Options"})})),T_=Ig((function(e,n){let{disabled:r=!1,value:i,...s}=e,[a,o]=y_("Listbox.Option"),l=`headlessui-listbox-option-${zg()}`,u=null!==a.activeOptionIndex&&a.options[a.activeOptionIndex].id===l,{value:c,compare:d}=a.propsRef.current,h=wg(a.propsRef.current.mode,{1:()=>c.some((e=>d(e,i))),0:()=>d(c,i)}),f=(0,t.useRef)(null),p=Mg(n,f);Ng((()=>{if(0!==a.listboxState||!u||0===a.activationTrigger)return;let e=Nb();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=f.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[f,u,a.listboxState,a.activationTrigger,a.activeOptionIndex]);let m=(0,t.useRef)({disabled:r,value:i,domRef:f});Ng((()=>{m.current.disabled=r}),[m,r]),Ng((()=>{m.current.value=i}),[m,i]),Ng((()=>{var e,t;m.current.textValue=null==(t=null==(e=f.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[m,f]);let g=Pg((()=>a.propsRef.current.onChange(i)));Ng((()=>(o({type:7,id:l,dataRef:m}),()=>o({type:8,id:l}))),[m,l]);let v=Pg((e=>{if(r)return e.preventDefault();g(),0===a.propsRef.current.mode&&(o({type:1}),Nb().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),y=Pg((()=>{if(r)return o({type:4,focus:u_.Nothing});o({type:4,focus:u_.Specific,id:l})})),b=Pg((()=>{r||u||o({type:4,focus:u_.Specific,id:l,trigger:0})})),w=Pg((()=>{r||!u||o({type:4,focus:u_.Nothing})})),_=(0,t.useMemo)((()=>({active:u,selected:h,disabled:r})),[u,h,r]);return Eg({ourProps:{id:l,ref:p,role:"option",tabIndex:!0===r?void 0:-1,"aria-disabled":!0===r||void 0,"aria-selected":!0===h||void 0,disabled:void 0,onClick:v,onFocus:y,onPointerMove:b,onMouseMove:b,onPointerLeave:w,onMouseLeave:w},theirProps:s,slot:_,defaultTag:"li",name:"Listbox.Option"})})),I_=Object.assign(__,{Button:S_,Label:k_,Options:x_,Option:T_});const C_=e=>{let{space:n,setSpace:r,className:i,...s}=e;const{spaces:a}=ay();return(0,og.jsx)(I_,{as:"div",className:`${t_} ${i}`,...s,value:n,onChange:r,children:n&&(0,og.jsxs)(og.Fragment,{children:[(0,og.jsxs)(I_.Button,{className:n_,"aria-label":"Click to open list of available spaces",children:[n.name,(0,og.jsx)("img",{src:o_,alt:"Two arrows pointing up and down"})]}),(0,og.jsx)(Qb,{as:t.Fragment,enter:i_,enterFrom:s_,enterTo:a_,children:(0,og.jsx)(I_.Options,{children:null===a||void 0===a?void 0:a.map((e=>(0,og.jsx)(I_.Option,{value:e,as:t.Fragment,children:t=>{let{active:n}=t;return(0,og.jsx)("li",{className:`${n?r_:""}`,children:e.name})}},e.id)))})})]})})},D_=e=>{let{defaultStatus:n,showDateInputs:r=!1,showSpaceSelect:i=!1,defaultDate:s=ry()(),goalID:a,addGoalStep:o,className:l,...u}=e;const{addDocument:c}=Vy("tasks"),{addDocument:d}=Vy("goalSteps"),h=tw(),f=jw(),{selectedSpace:p,statuses:m}=ay(),[g,v]=(0,t.useState)(r),[y,b]=(0,t.useState)(null),[w,_]=(0,t.useState)(p),[S,k]=(0,t.useState)(""),[E,x]=(0,t.useState)(n||m&&m[0]),[T,I]=(0,t.useState)("low"),[C,D]=(0,t.useState)(s.format("YYYY-MM-DDThh:mm")),[N,A]=(0,t.useState)(s.format("YYYY-MM-DDThh:mm"));(0,t.useEffect)((()=>{y&&o&&(f?f.addStepInNewGoal({type:"task",progress:0,taskID:y.id}):d({type:"task",progress:0,taskID:y.id,goalID:a}))}),[y]);return m&&0!==m.length?(0,og.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=ry()(C,"YYYY-MM-DDThh:mm"),i=ry()(N,"YYYY-MM-DDThh:mm");let a={description:S,priority:T,spaceId:p?p.id:"",statusId:E?E.id:"",fromDate:g&&(t.isBefore(i)||t.isSame(i))?t.unix():null,dueDate:g&&(t.isBefore(i)||t.isSame(i))?i.unix():null};c(a).then((e=>{e&&b(e)})),k(""),x(n||m&&m[0]),_(p),I("low"),v(r),A(s.format("YYYY-MM-DDThh:mm")),D(s.format("YYYY-MM-DDThh:mm")),h&&h()},className:`${Aw} ${l}`,...u,children:[i&&(0,og.jsxs)("div",{children:[(0,og.jsx)("label",{htmlFor:"spaceSelect",children:"Space:"}),(0,og.jsx)(C_,{space:w,setSpace:_,className:Ow})]}),(0,og.jsxs)("label",{children:["Status:",(0,og.jsx)("br",{}),(0,og.jsx)(Uw,{status:E,setStatus:x,space:w})]}),(0,og.jsxs)("label",{children:["Description:",(0,og.jsx)("br",{}),(0,og.jsx)("input",{type:"text",required:!0,className:Rw,maxLength:550,value:S,onChange:e=>{k(e.target.value)}})]}),(0,og.jsxs)("label",{children:["Priority:",(0,og.jsx)(Bw,{priority:T,setPriority:I})]}),(0,og.jsx)(Zw,{fromDate:C,setFromDate:D,dueDate:N,setDueDate:A,openSwitch:g,setOpenSwitch:v}),(0,og.jsx)("button",{type:"submit",className:Pw,children:"Submit"})]}):(0,og.jsx)(e_,{className:Aw})},N_={orderButton:"StatusOrderChangeBtn_orderButton__8MZNh",up:"StatusOrderChangeBtn_up__d6pUa",down:"StatusOrderChangeBtn_down__Piyb9",left:"StatusOrderChangeBtn_left__lVUM0",right:"StatusOrderChangeBtn_right__PSWhN"},A_=e=>{let{variant:t,elemId:n,current:r}=e;const{statuses:i,selectedSpace:s}=ay(),a=null===i||void 0===i?void 0:i.filter((e=>e.spaceId===(null===s||void 0===s?void 0:s.id))),{updateDocument:o}=Vy("statuses");return(0,og.jsx)("button",{className:`${N_[t]} ${N_.orderButton}`,onClick:()=>{let e="up"===t||"left"===t?-1:1;const i=a&&a[a.findIndex((e=>e.id===n))+e];i&&(o(n,{orderIndex:i.orderIndex}),o(i.id,{orderIndex:r.orderIndex}))},"aria-label":`Change status section order to appear ${"up"===t||"left"===t?"before previous":"after next"} status section`})},P_="StatusDeleteModal_openDialogButton__mLbIK",R_=e=>{let{status:n}=e;const{removeDocument:r,updateDocument:i}=Vy("statuses"),{removeDocument:s}=Vy("tasks"),{tasks:a,statuses:o}=ay(),[l,u]=(0,t.useState)(!1);return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("button",{onClick:()=>{u(!0)},className:P_,"aria-label":"Click to open window where you can remove status"}),(0,og.jsx)(qy,{isOpen:l,setIsOpen:u,title:"Remove Status",description:"This action will pernamently remove this status and all associated with it tasks",handleDeleteBtnClick:()=>{null===o||void 0===o||o.forEach((e=>{i(e.id,{orderIndex:rg(-1)})})),r(n.id),null===a||void 0===a||a.filter((e=>e.statusId===n.id)).forEach((e=>{s(e.id)})),u(!1)}})]})},O_="StatusHideBtn_hideButton__HygNZ",M_=e=>{let{showStatus:t,setShowStatus:n}=e;return(0,og.jsx)("button",{className:O_,onClick:()=>{n(!t)},"aria-label":"Click to collapse table"})},L_=e=>{let{status:n}=e;const r=(0,t.useRef)(null),{tasks:i}=ay(),[s,a]=(0,t.useState)(!0),o=null===i||void 0===i?void 0:i.filter((e=>e.statusId===n.id)),{statusOnDropAttributes:l}=Nw(n,r);return(0,og.jsxs)("table",{className:vw,ref:r,...l,children:[(0,og.jsxs)("caption",{children:[(0,og.jsx)(M_,{showStatus:s,setShowStatus:a}),(0,og.jsx)("span",{className:bw,style:{backgroundColor:n.color},children:n.name.toUpperCase()}),(0,og.jsx)(nw,{className:yw,buttonText:"+","aria-label":"Click to open window where you can add new task",type:"button",children:(0,og.jsx)(D_,{className:Sw,defaultStatus:n})})]}),(0,og.jsxs)("tbody",{children:[(0,og.jsxs)("tr",{children:[(0,og.jsx)("th",{colSpan:2,"aria-hidden":"true"}),(0,og.jsx)("th",{className:`${_w} ${Ew}`,children:"Due:"}),(0,og.jsxs)("th",{className:Ew,children:[(0,og.jsx)(A_,{variant:"up",elemId:n.id,current:n}),(0,og.jsx)(A_,{variant:"down",elemId:n.id,current:n})]}),(0,og.jsx)("th",{className:Ew,children:(0,og.jsx)(R_,{status:n})})]}),s?(0,og.jsx)(og.Fragment,{children:o&&0!==o.length?o.map((e=>(0,og.jsx)(iw,{task:e,draggable:!0},e.id))):(0,og.jsx)("tr",{children:(0,og.jsx)("td",{className:ww,colSpan:5,children:"No tasks"})})}):(0,og.jsx)("tr",{children:(0,og.jsx)("td",{colSpan:5,className:kw})})]})]})},j_="NoSpaces_container__auUd8",F_=()=>(0,og.jsx)("div",{className:j_,children:(0,og.jsx)(K,{to:"../Dashboard",children:"Create at least one space to add new statuses and tasks!"})}),U_=()=>{const{statuses:e,selectedSpace:t,setSelectedSpace:n}=ay(),r=null===e||void 0===e?void 0:e.filter((e=>e.spaceId===(null===t||void 0===t?void 0:t.id)));return(0,og.jsxs)(Cy,{title:"List",children:[(0,og.jsx)("div",{className:mw,children:(0,og.jsx)(C_,{space:t,setSpace:n,className:gw})}),t?(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("div",{className:fw,children:(0,og.jsx)(nw,{className:pw,buttonText:"ADD NEW STATUS",children:(0,og.jsx)(Dw,{})})}),null===r||void 0===r?void 0:r.map((e=>(0,og.jsx)(L_,{status:e},e.id)))]}):(0,og.jsx)(F_,{})]})},V_={container:"Board_container__FFPL7",addStatusButton:"Board_addStatusButton__6FkpA",taskContainer:"Board_taskContainer__myR0v",addTaskBtn:"Board_addTaskBtn__Uro38",row:"Board_row__aezEW",spaceSelect:"Board_spaceSelect__0Hgen",taskCard:"Board_taskCard__A6pFJ",sectionHeader:"Board_sectionHeader__t4Is0",infoButtonRow:"Board_infoButtonRow__m1YU8",date:"Board_date__99XYf",sectionHidden:"Board_sectionHidden__kBFUp"},B_=e=>{let{task:n}=e;const r=(0,t.useRef)(null),{linkAttributes:i}=Xy(n,r),{draggableAttributes:s}=Jy(n,r);return(0,og.jsxs)("div",{className:V_.taskCard,ref:r,...i,...s,children:[(0,og.jsx)("p",{children:n.description}),n.dueDate&&n.fromDate&&(0,og.jsxs)("span",{className:V_.date,children:[ry().unix(n.fromDate).format("DD/MM HH:mm"),"  -  ",ry().unix(n.dueDate).format("DD/MM HH:mm")]}),(0,og.jsx)("hr",{}),(0,og.jsxs)("div",{className:V_.infoButtonRow,children:[(0,og.jsx)(ab,{task:n}),(0,og.jsx)("div",{children:(0,og.jsx)(rw,{task:n})}),(0,og.jsx)(rb,{task:n})]})]})},$_=e=>{let{status:n}=e;const{tasks:r}=ay(),i=(0,t.useRef)(null),{statusOnDropAttributes:s}=Nw(n,i),a=null===r||void 0===r?void 0:r.filter((e=>e.statusId===n.id));return(0,og.jsxs)("div",{className:V_.taskContainer,...s,ref:i,children:[(0,og.jsx)(nw,{className:V_.addTaskBtn,buttonText:"Add new task",children:(0,og.jsx)(D_,{defaultStatus:n})}),null===a||void 0===a?void 0:a.map((e=>(0,og.jsx)(B_,{task:e},e.id)))]})},z_=e=>{let{status:n}=e;const[r,i]=(0,t.useState)(!0);return(0,og.jsx)(og.Fragment,{children:r?(0,og.jsxs)("section",{children:[(0,og.jsxs)("div",{className:V_.sectionHeader,style:{backgroundColor:n.color},children:[(0,og.jsxs)("div",{children:[(0,og.jsx)(M_,{setShowStatus:i,showStatus:r}),(0,og.jsx)(A_,{variant:"left",elemId:n.id,current:n})]}),(0,og.jsx)("h2",{children:n.name}),(0,og.jsxs)("div",{children:[(0,og.jsx)(R_,{status:n}),(0,og.jsx)(A_,{variant:"right",elemId:n.id,current:n})]})]}),(0,og.jsx)($_,{status:n})]}):(0,og.jsx)("section",{className:`${V_.section} ${V_.sectionHidden}`,style:{backgroundColor:n.color},children:(0,og.jsx)(M_,{showStatus:r,setShowStatus:i})})})},H_=()=>{const{statuses:e,selectedSpace:t,setSelectedSpace:n}=ay(),r=null===e||void 0===e?void 0:e.filter((e=>e.spaceId===(null===t||void 0===t?void 0:t.id)));return(0,og.jsxs)(Cy,{title:"Board",children:[(0,og.jsx)("div",{className:V_.row,children:(0,og.jsx)(C_,{space:t,setSpace:n,className:V_.spaceSelect})}),t?(0,og.jsxs)("div",{className:V_.container,children:[null===r||void 0===r?void 0:r.map((e=>(0,og.jsx)(z_,{status:e},e.id))),(0,og.jsx)(nw,{className:V_.addStatusButton,buttonText:"ADD NEW STATUS",panelStyles:{transform:"translate(-15.5rem, -0.5rem)",height:"100%"},children:(0,og.jsx)(Dw,{})})]}):(0,og.jsx)(F_,{})]})},q_="Calendar_calendarNav__a9zH1",G_="Calendar_tab__5RoKK",Y_="Calendar_subHeader__mXaBK",W_="Calendar_addTaskButton__KL8KS",K_="Calendar_tabActive__JCDvZ",Q_="Calendar_dateInput__WKE7g",X_="Calendar_addTaskForm__A1VkU",J_=e=>{let{date:t}=e;const n=R();return(0,og.jsxs)("nav",{className:q_,children:[(0,og.jsx)(Q,{to:`${t.format("DD-MM-YYYY")}/Day`,className:e=>{let{isActive:t}=e;return`${G_} ${t&&K_}`},children:"DAY"}),(0,og.jsx)(Q,{to:`${t.format("DD-MM-YYYY")}/Week`,className:e=>{let{isActive:t}=e;return`${G_} ${t&&K_}`},children:"WEEK"}),(0,og.jsx)(Q,{to:`${t.format("DD-MM-YYYY")}/Month`,className:e=>{let{isActive:t}=e;return`${G_} ${t&&K_}`},children:"MONTH"}),(0,og.jsx)("input",{className:Q_,value:t.format("YYYY-MM-DD"),type:"date",onChange:e=>{n(`${ry()(e.target.value).format("DD-MM-YYYY")}/Day`,{replace:!0})},"aria-label":"Select date to open it in calendar"})]})},Z_=()=>(0,t.useContext)(O),eS=()=>{const{date:e}=M(),t=ry()(e,"DD-MM-YYYY").isValid()?ry()(e,"DD-MM-YYYY"):ry()();return(0,og.jsxs)(Cy,{title:"Calendar",children:[(0,og.jsx)(J_,{date:t}),(0,og.jsx)(U,{context:{date:t}})]})},tS={container:"Goals_container__+GzKU",goalList:"Goals_goalList__dLdat",newGoalLink:"Goals_newGoalLink__tFWl7"},nS=()=>{const{goals:e}=ay();return(0,og.jsx)(Cy,{title:"Goals",children:(0,og.jsxs)("div",{className:tS.container,children:[(0,og.jsx)("h2",{className:tS.subtitle,children:"Break your goals into small targets, track their progress and make your dreams come true!"}),(0,og.jsxs)("section",{className:tS.goalList,children:[null===e||void 0===e?void 0:e.map((e=>(0,og.jsx)(jy,{goal:e},e.id))),(0,og.jsx)(K,{to:"NewGoal",className:tS.newGoalLink,children:"Create new goal"})]})]})})},rS="Home_container__wWulv",iS="Home_subtitle__bqanE",sS="Home_button_row__nkDgf",aS="Home_signupBtn__5vv+Q",oS="Home_loginBtn__roqRX",lS="Home_return_button__0777K";const uS=n.p+"static/media/arrowback.8568414b4976e2015d47f84d52cfc50a.svg",cS=e=>{switch(e){case"auth/weak-password":return"Sorry!, Your password is too weak. ";case"auth/email-already-in-use":return"Sorry! Email is already in use. ";case"auth/wrong-password":return"Incorrect password for this email";case"auth/user-not-found":return"Sorry! User with this email not found";case"auth/invalid-email":return"It looks like you've entered an invalid email, try again!";default:return null}},dS=()=>{const{dispatch:e}=(0,t.useContext)(ug),[n,r]=(0,t.useState)(null),{setIsError:i}=pg();return{errorMessage:n,login:(t,n)=>{r(null),function(e,t,n){return Qn(ve(e),Mn.credential(t,n))}(sg,t,n).then((t=>{e({type:"LOGIN",payload:t.user})})).catch((e=>{const t=cS(e.code);r(t),!t&&i(!0)}))}}},hS=e=>{let{handleClosingForms:n}=e;const[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),{login:o,errorMessage:l}=dS();return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("h2",{className:iS,children:"Log in"}),(0,og.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(r,s)},children:[(0,og.jsxs)("label",{children:[(0,og.jsx)("span",{children:"Email"}),(0,og.jsx)("input",{type:"email",onChange:e=>i(e.target.value),value:r})]}),(0,og.jsxs)("label",{children:[(0,og.jsx)("span",{children:"Password"}),(0,og.jsx)("input",{type:"password",onChange:e=>a(e.target.value),value:s})]}),(0,og.jsxs)("div",{className:sS,children:[(0,og.jsx)("button",{type:"submit",className:oS,children:"Log in!"}),(0,og.jsx)("button",{className:lS,onClick:n,type:"button","aria-label":"Return button",children:(0,og.jsx)("img",{src:uS,alt:"Back arrow"})})]})]}),l&&(0,og.jsx)("p",{children:l})]})},fS=()=>{setTimeout((()=>{const e=document.getElementById("appHelpModal");e?e.click():fS()}),1e3)},pS=JSON.parse('{"defaultSpaces":[{"name":"My awesome default space! #1"},{"name":"My awesome default space! #2"}],"defaultTasks":[{"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis iaculis tortor quis eros pretium euismod. In vulputate porta ante, quis cursus ante mattis vel.","priority":"high","dueDate":null,"fromDate":null},{"description":"Proin pellentesque mauris nec dui vehicula, vel maximus quam ultricies. Suspendisse ut imperdiet nibh, non sagittis elit. Sed vitae commodo ante.","priority":"medium","dueDate":null,"fromDate":null},{"description":"Nulla ut sapien dui. Maecenas congue consequat erat at tempor. Duis dui neque, posuere dignissim arcu suscipit, feugiat eleifend leo. Sed ac ipsum ornare, fermentum nunc sit amet, dapibus ante. Sed vulputate vehicula convallis.","priority":"low","dueDate":null,"fromDate":null},{"description":"Maecenas sagittis id ligula nec luctus. Aenean pulvinar nulla ipsum, eu volutpat tellus rhoncus vitae. Vestibulum blandit pulvinar justo sit amet dignissim. Aliquam sed accumsan est.","priority":"low","dueDate":null,"fromDate":null},{"description":"Nulla ut sapien dui. Maecenas congue consequat erat at tempor. Duis dui neque, posuere dignissim arcu suscipit, feugiat eleifend leo. Sed ac ipsum ornare, fermentum nunc sit amet, dapibus ante. Sed vulputate vehicula convallis.","priority":"medium","dueDate":null,"fromDate":null},{"description":"Nulla ut sapien dui. Maecenas congue consequat erat at tempor. Duis dui neque, posuere dignissim arcu suscipit, feugiat eleifend leo. Sed ac ipsum ornare, fermentum nunc sit amet, dapibus ante. Sed vulputate vehicula convallis.","priority":"low","dueDate":null,"fromDate":null},{"description":"Proin sit amet ipsum sit amet nibh varius rhoncus. Vivamus lobortis tellus eu mattis rhoncus. Vivamus mauris orci, porttitor sit amet sagittis nec, consectetur at ipsum. Duis tristique lorem id volutpat bibendum. Vivamus lobortis pellentesque magna vel varius. Cras eleifend id sapien vel malesuada. Nunc lacinia euismod metus, at scelerisque urna faucibus ultricies.","priority":"low","dueDate":null,"fromDate":null},{"description":"Nunc ac congue est, eleifend aliquet tellus. Nam sem nisl, tempus eget urna eget, dictum facilisis dui. Nunc non mi mi. Nullam tristique pharetra dolor, et lobortis felis fermentum vel. Mauris molestie bibendum est ac consectetur. Nullam sagittis semper blandit. Proin elementum non dui nec vehicula.","priority":"medium","dueDate":null,"fromDate":null},{"description":"Cras ultrices leo eu lacus vehicula, quis molestie nisl egestas.","priority":"low","dueDate":null,"fromDate":null},{"description":"Aenean iaculis scelerisque ornare. Donec vitae nunc ac mauris maximus sagittis nec sit amet lorem.","priority":"medium","dueDate":null,"fromDate":null},{"description":"Fusce eu risus tristique, pretium urna ut, maximus quam. Sed vitae suscipit orci. Morbi commodo laoreet elit, vel efficitur dui fermentum in.","priority":"low","dueDate":null,"fromDate":null},{"description":"In vehicula mattis quam, ut commodo sapien egestas tempus. In eleifend lorem non enim condimentum, vitae viverra justo faucibus.","priority":"high","dueDate":null,"fromDate":null},{"description":"Etiam vehicula massa quis libero pretium faucibus. Suspendisse mollis, tortor ut ornare sodales, ipsum lectus aliquet mauris, sed accumsan orci justo sed ex.","priority":"high","dueDate":null,"fromDate":null},{"description":"Donec sed tortor elementum, maximus turpis quis, tristique ex. Etiam ut scelerisque dui, in placerat eros. In at consequat lectus. Sed et pretium tortor, quis sollicitudin erat. Curabitur suscipit arcu vel neque malesuada eleifend. Praesent facilisis elit sed elit blandit elementum.","priority":"low","dueDate":null,"fromDate":null},{"description":"Curabitur ornare aliquet urna nec imperdiet. Donec gravida metus ac nulla varius dictum.","priority":"medium","dueDate":null,"fromDate":null},{"description":"Nunc dignissim viverra ante, sit amet luctus eros gravida ac. Mauris dapibus rhoncus aliquam. Suspendisse potenti.","priority":"medium","dueDate":null,"fromDate":null},{"description":"Vestibulum at porttitor sapien. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Vivamus eget nibh tincidunt, vehicula nibh at, venenatis justo. Aliquam facilisis mi eget dolor mattis, et molestie massa ultricies.","priority":"low","dueDate":null,"fromDate":null}],"defaultStatuses":[{"name":"Open","orderIndex":0,"color":"#c7d2fe"},{"name":"In Progress","orderIndex":1,"color":"#ddd6fe"},{"name":"Review","orderIndex":2,"color":"#ffff80"},{"name":"Revision","orderIndex":3,"color":"#ff8080"},{"name":"Closed","orderIndex":4,"color":"#d9f99d"},{"name":"Frozen","orderIndex":5,"color":"#99FDFF"},{"name":"Up next","orderIndex":0,"color":"#c7d2fe"},{"name":"In Progress","orderIndex":1,"color":"#ff80ff"},{"name":"On Hold","orderIndex":2,"color":"#99ccff"},{"name":"Done","orderIndex":3,"color":"#9fff80"},{"name":"Questions","orderIndex":4,"color":"#94b8b8"}],"defaultGoals":[{"title":"Default goal #1!","description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis iaculis tortor quis eros pretium euismod. In vulputate porta ante, quis cursus ante mattis vel."},{"title":"Default goal #2!","description":"Etiam purus metus, porta sed placerat eget, condimentum quis tortor. Maecenas tempus nibh vitae orci convallis, id suscipit enim tempus."}],"defaultGoalSteps":[{"value":12,"target":45,"description":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ac dolor massa. Nulla facilisi. Mauris feugiat, est quis dictum auctor, quam velit finibus lacus, et faucibus dui enim et libero.","type":"number","progress":0.26},{"value":5,"target":10,"description":"Suspendisse ut ex non dolor euismod malesuada. Ut in vehicula urna.","type":"number","progress":0.5},{"value":11,"target":35,"description":"Proin non arcu luctus, luctus est eu, tincidunt augue. Vestibulum ac tempor mauris.","type":"number","progress":0.314},{"value":15,"target":60,"description":"Ut laoreet vitae orci sed bibendum. Morbi iaculis est eu nisi sodales finibus.","type":"number","progress":0.25},{"type":"boolean","description":"Cras ac lobortis diam. Phasellus rutrum nibh nisi, eu blandit sapien accumsan blandit.","progress":1},{"type":"boolean","description":"Nullam est arcu, efficitur at tellus in, interdum semper augue.","progress":0},{"type":"task","progress":0,"taskID":""},{"type":"task","progress":1,"taskID":""}]}'),mS=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),gS=()=>{const{dispatch:e}=(0,t.useContext)(ug),[n,r]=(0,t.useState)(null),{setIsError:i}=pg();return{errorMessage:n,signup:(t,n)=>{r(null),async function(e,t,n){const r=xn(e),i=await $n(r,{returnSecureToken:!0,email:t,password:n}),s=await zn._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(sg,t,n).then((t=>{(e=>{const{defaultSpaces:t,defaultTasks:n,defaultStatuses:r,defaultGoals:i,defaultGoalSteps:s}=pS;t.forEach((async(t,n)=>{await Xm(em(ag,"spaces",e+n),{...t,uid:e})})),r.forEach((async(t,n)=>{await Xm(em(ag,"statuses",e+n),{...t,spaceId:n<6?e+0:e+1,uid:e})})),n.forEach((async(t,n)=>{const r=mS(0,200),i=mS(r,20+r),s=mS(r,35+r);await Xm(em(ag,"tasks",e+n),{...t,spaceId:n<9?e+0:e+1,statusId:n<9?e+mS(0,6):e+mS(6,10),uid:e,fromDate:i<s?ry()().add(i,"hours").unix():null,dueDate:i<s?ry()().add(s,"hours").unix():null})})),i.forEach((async(t,n)=>{await Xm(em(ag,"goals",e+n),{...t,uid:e})})),s.forEach((async t=>{"task"===t.type?await Zm(Zp(ag,"goalSteps"),{...t,taskID:e+Math.floor(15*Math.random()),goalID:e+mS(0,1),uid:e}):await Zm(Zp(ag,"goalSteps"),{...t,goalID:e+mS(0,1),uid:e})}))})(t.user.uid),e({type:"LOGIN",payload:t.user}),fS()})).catch((e=>{const t=cS(e.code);r(t),!t&&i(!0)}))}}},vS=e=>{let{handleClosingForms:n}=e;const{signup:r,errorMessage:i}=gS(),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)("");return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("h2",{className:iS,children:"Register"}),(0,og.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(s,o)},children:[(0,og.jsxs)("label",{children:[(0,og.jsx)("span",{children:"Email"}),(0,og.jsx)("input",{type:"email",onChange:e=>a(e.target.value),value:s})]}),(0,og.jsxs)("label",{children:[(0,og.jsx)("span",{children:"Password"}),(0,og.jsx)("input",{type:"password",onChange:e=>l(e.target.value)})]}),(0,og.jsxs)("div",{className:sS,children:[(0,og.jsx)("button",{type:"submit",className:aS,children:"Sign up!"}),(0,og.jsx)("button",{className:lS,onClick:n,type:"button","aria-label":"Return button",children:(0,og.jsx)("img",{src:uS,alt:"Back arrow"})})]})]}),i&&(0,og.jsx)("p",{children:i})]})},yS=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),s=()=>{n(!1),i(!1)};return(0,og.jsx)("div",{className:rS,children:(0,og.jsxs)("section",{children:[(0,og.jsxs)("h1",{children:["Task",(0,og.jsx)("br",{}),"Manager"]}),!e&&!r&&(0,og.jsxs)(og.Fragment,{children:[(0,og.jsxs)("p",{children:[(0,og.jsx)("span",{className:iS,children:"Track your tasks and progress towards your goals."}),"Manage your tasks in a to-do list, calendar, or semi-kanban board in my highly customizable task management app. Keep track of your goal progress and make your dreams come true!"]}),(0,og.jsx)("button",{className:aS,onClick:()=>{n(!0)},children:"Sign Up"}),(0,og.jsx)("button",{className:oS,onClick:()=>{i(!0)},children:"Log In"})]}),e&&(0,og.jsx)(vS,{handleClosingForms:s}),r&&(0,og.jsx)(hS,{handleClosingForms:s}),(0,og.jsxs)("p",{children:["Test account: ",(0,og.jsx)("br",{})," login: test@test.com ",(0,og.jsx)("br",{})," password: test12345 "]})]})})},bS="TaskPage_taskForm__4Hc47",wS="TaskPage_buttonRow__nvK5l",_S="TaskPage_returnButton__h4z5P",SS="TaskPage_submitButton__9xw8R",kS="TaskPage_dateInputsContainer__ri0tx",ES="TaskPage_spaceSelect__rJOvZ",xS="TaskPage_row__FSQWw",TS="TaskDeleteModal_openModalButton__OWm2c",IS=e=>{let{task:n}=e;const[r,i]=(0,t.useState)(!1),{goalSteps:s}=ay(),a=R(),{removeDocument:o}=Vy("tasks"),{removeDocument:l}=Vy("goalSteps");return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("button",{className:TS,type:"button",onClick:()=>{i(!0)},children:"Delete task"}),(0,og.jsx)(qy,{isOpen:r,setIsOpen:i,title:"Remove Task",description:"This action will permanently remove this task.\r If this task was created as a step of goal, it will be also removed from goal page.",handleDeleteBtnClick:()=>{o(n.id);const e=null===s||void 0===s?void 0:s.find((e=>"task"===e.type&&e.taskID===n.id));e&&l(e.id),i(!1),a(-1)}})]})},CS=()=>{const e=R(),{tasks:n,statuses:r,spaces:i}=ay(),{taskID:s}=M(),{updateDocument:a}=Vy("tasks"),o=n&&n.find((e=>e.id===s)),[l,u]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("low"),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(""),[w,_]=(0,t.useState)(!1);(0,t.useEffect)((()=>{o&&r&&i&&(b(o.description),v(i.find((e=>e.id===o.spaceId))),m(r.find((e=>e.id===o.statusId))),f(o.priority),o.dueDate&&o.fromDate&&(_(!0),u(ry().unix(o.dueDate).format("YYYY-MM-DDThh:mm")),d(ry().unix(o.fromDate).format("YYYY-MM-DDThh:mm"))))}),[r,o,i]);return(0,og.jsx)(Cy,{title:"Update task",children:(0,og.jsxs)("form",{className:bS,onSubmit:t=>{t.preventDefault();const n=ry()(c,"YYYY-MM-DDThh:mm"),r=ry()(l,"YYYY-MM-DDThh:mm");let i={description:y,priority:h,spaceId:g?g.id:"",statusId:p?p.id:"",fromDate:w&&(n.isBefore(r)||n.isSame(r))?n.unix():null,dueDate:w&&(n.isBefore(r)||n.isSame(r))?r.unix():null};o&&a(o.id,i),e(-1)},children:[(0,og.jsxs)("label",{children:["Description:",(0,og.jsx)("textarea",{value:y,onChange:e=>{b(e.target.value)},rows:10,maxLength:550})]}),(0,og.jsxs)("div",{className:xS,children:[(0,og.jsxs)("label",{style:{flexGrow:1},children:["Status:",(0,og.jsx)("br",{}),(0,og.jsx)(Uw,{status:p,setStatus:m,space:g})]}),(0,og.jsxs)("label",{children:["Priority:",(0,og.jsx)(Bw,{priority:h,setPriority:f})]})]}),(0,og.jsx)("div",{className:kS,children:(0,og.jsx)(Zw,{dueDate:l,setDueDate:u,fromDate:c,setFromDate:d,openSwitch:w,setOpenSwitch:_})}),(0,og.jsxs)("label",{children:["Space:",(0,og.jsx)("br",{}),(0,og.jsx)(C_,{space:g,setSpace:v,className:ES})]}),(0,og.jsxs)("div",{className:wS,children:[(0,og.jsx)("button",{type:"button",className:_S,onClick:()=>{e(-1)},children:"Go back"}),o&&(0,og.jsx)(IS,{task:o}),(0,og.jsx)("button",{type:"submit",className:SS,children:"Save changes"})]})]})})},DS="NewGoal_submitButton__OC1xx",NS="NewGoal_addGoalForm__Uwym6",AS="NewGoal_goalTitle__iRTE+",PS="NewGoal_formInput__nbk9z",RS="AddStep_container__w5PBK",OS="AddStep_tabList__PMCKZ",MS="AddStep_tab__-ZHGa",LS="AddStep_subTitle__gN--v",jS="AddStep_tabActive__h4QCX",FS="AddStep_addTaskForm__W4AHP";function US(e){let{onFocus:n}=e,[r,i]=(0,t.useState)(!0);return r?t.createElement(qg,{as:"button",type:"button",features:Hg.Focusable,onFocus:e=>{e.preventDefault();let t,r=50;t=requestAnimationFrame((function e(){if(!(r--<=0))return n()?(i(!1),void cancelAnimationFrame(t)):void(t=requestAnimationFrame(e));t&&cancelAnimationFrame(t)}))}}):null}var VS=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e[e.ForceRerender=5]="ForceRerender",e))(VS||{});let BS={0(e,t){let n=e.tabs.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))}));if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(n[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(n[n.length-1])};let r=e.tabs.slice(0,t.index),i=[...e.tabs.slice(t.index),...r].find((e=>n.includes(e)));return i?{...e,selectedIndex:e.tabs.indexOf(i)}:e},1:(e,t)=>e.tabs.includes(t.tab)?e:{...e,tabs:rv([...e.tabs,t.tab],(e=>e.current))},2:(e,t)=>({...e,tabs:rv(e.tabs.filter((e=>e!==t.tab)),(e=>e.current))}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]},4:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))}),5:e=>({...e})},$S=(0,t.createContext)(null);function zS(e){let n=(0,t.useContext)($S);if(null===n){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,zS),t}return n}$S.displayName="TabsSSRContext";let HS=(0,t.createContext)(null);function qS(e){let n=(0,t.useContext)(HS);if(null===n){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,qS),t}return n}HS.displayName="TabsDataContext";let GS=(0,t.createContext)(null);function YS(e){let n=(0,t.useContext)(GS);if(null===n){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,YS),t}return n}function WS(e,t){return wg(t.type,BS,e,t)}GS.displayName="TabsActionsContext";let KS=t.Fragment,QS=Ig((function(e,n){let{defaultIndex:r=0,vertical:i=!1,manual:s=!1,onChange:a,selectedIndex:o=null,...l}=e;const u=i?"vertical":"horizontal",c=s?"manual":"auto";let d=Mg(n),[h,f]=(0,t.useReducer)(WS,{selectedIndex:null!=o?o:r,tabs:[],panels:[]}),p=(0,t.useMemo)((()=>({selectedIndex:h.selectedIndex})),[h.selectedIndex]),m=Ag(a||(()=>{})),g=Ag(h.tabs),v=(0,t.useMemo)((()=>({orientation:u,activation:c,...h})),[u,c,h]),y=Ag(h.selectedIndex),b=(0,t.useMemo)((()=>({registerTab:e=>(f({type:1,tab:e}),()=>f({type:2,tab:e})),registerPanel:e=>(f({type:3,panel:e}),()=>f({type:4,panel:e})),forceRerender(){f({type:5})},change(e){y.current!==e&&m.current(e),y.current=e,f({type:0,index:e})}})),[f]);Ng((()=>{f({type:0,index:null!=o?o:r})}),[o]);let w=(0,t.useRef)({tabs:[],panels:[]}),_={ref:d};return t.createElement($S.Provider,{value:w},t.createElement(GS.Provider,{value:b},t.createElement(HS.Provider,{value:v},v.tabs.length<=0&&t.createElement(US,{onFocus:()=>{var e,t;for(let n of g.current)if(0===(null==(e=n.current)?void 0:e.tabIndex))return null==(t=n.current)||t.focus(),!0;return!1}}),Eg({ourProps:_,theirProps:l,slot:p,defaultTag:KS,name:"Tabs"}))))})),XS=Ig((function(e,t){let{orientation:n,selectedIndex:r}=qS("Tab.List");return Eg({ourProps:{ref:Mg(t),role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})})),JS=Ig((function(e,n){var r,i;let s=`headlessui-tabs-tab-${zg()}`,{orientation:a,activation:o,selectedIndex:l,tabs:u,panels:c}=qS("Tab"),d=YS("Tab"),h=zS("Tab"),f=(0,t.useRef)(null),p=Mg(f,n,(e=>{!e||d.forceRerender()}));Ng((()=>d.registerTab(f)),[d,f]);let m=h.current.tabs.indexOf(s);-1===m&&(m=h.current.tabs.push(s)-1);let g=u.indexOf(f);-1===g&&(g=m);let v=g===l,y=Pg((e=>{let t=u.map((e=>e.current)).filter(Boolean);if(e.key===Lg.Space||e.key===Lg.Enter)return e.preventDefault(),e.stopPropagation(),void d.change(g);switch(e.key){case Lg.Home:case Lg.PageUp:return e.preventDefault(),e.stopPropagation(),iv(t,Wg.First);case Lg.End:case Lg.PageDown:return e.preventDefault(),e.stopPropagation(),iv(t,Wg.Last)}return wg(a,{vertical:()=>e.key===Lg.ArrowUp?iv(t,Wg.Previous|Wg.WrapAround):e.key===Lg.ArrowDown?iv(t,Wg.Next|Wg.WrapAround):void 0,horizontal:()=>e.key===Lg.ArrowLeft?iv(t,Wg.Previous|Wg.WrapAround):e.key===Lg.ArrowRight?iv(t,Wg.Next|Wg.WrapAround):void 0})})),b=Pg((()=>{var e;null==(e=f.current)||e.focus()})),w=Pg((()=>{var e;null==(e=f.current)||e.focus(),d.change(g)})),_=Pg((e=>{e.preventDefault()})),S=(0,t.useMemo)((()=>({selected:v})),[v]),k=e;return Eg({ourProps:{ref:p,onKeyDown:y,onFocus:"manual"===o?b:w,onMouseDown:_,onClick:w,id:s,role:"tab",type:cb(e,f),"aria-controls":null==(i=null==(r=c[g])?void 0:r.current)?void 0:i.id,"aria-selected":v,tabIndex:v?0:-1},theirProps:k,slot:S,defaultTag:"button",name:"Tabs.Tab"})})),ZS=Ig((function(e,n){let{selectedIndex:r}=qS("Tab.Panels");return Eg({ourProps:{ref:Mg(n)},theirProps:e,slot:(0,t.useMemo)((()=>({selectedIndex:r})),[r]),defaultTag:"div",name:"Tabs.Panels"})})),ek=Sg.RenderStrategy|Sg.Static,tk=Ig((function(e,n){var r,i;let{selectedIndex:s,tabs:a,panels:o}=qS("Tab.Panel"),l=YS("Tab.Panel"),u=zS("Tab.Panel"),c=`headlessui-tabs-panel-${zg()}`,d=(0,t.useRef)(null),h=Mg(d,n,(e=>{!e||l.forceRerender()}));Ng((()=>l.registerPanel(d)),[l,d]);let f=u.current.panels.indexOf(c);-1===f&&(f=u.current.panels.push(c)-1);let p=o.indexOf(d);-1===p&&(p=f);let m=p===s,g=(0,t.useMemo)((()=>({selected:m})),[m]),v=e;return Eg({ourProps:{ref:h,id:c,role:"tabpanel","aria-labelledby":null==(i=null==(r=a[p])?void 0:r.current)?void 0:i.id,tabIndex:m?0:-1},theirProps:v,slot:g,defaultTag:"div",features:ek,visible:m,name:"Tabs.Panel"})})),nk=Object.assign(JS,{Group:QS,List:XS,Panels:ZS,Panel:tk});const rk="AddGoalStepForm_form__Ad5D8",ik="AddGoalStepForm_submitButton__fAGDN",sk="AddGoalStepForm_textInput__rQsx8",ak=e=>{let{goalID:n}=e;const{addDocument:r}=Vy("goalSteps"),i=jw(),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(0),[u,c]=(0,t.useState)(0);return(0,og.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={type:"number",description:s,value:u,target:o,progress:0!==o?u/o:1};i?i.addStepInNewGoal(t):r({...t,goalID:n}),a(""),c(0),l(0)},className:rk,children:[(0,og.jsxs)("label",{children:["Description:",(0,og.jsx)("input",{className:sk,type:"text",value:s,onChange:e=>{a(e.target.value)},placeholder:"ex. I have to write 40 pages",required:!0})]}),(0,og.jsxs)("label",{children:["Target:",(0,og.jsx)("input",{type:"number",className:sk,value:o,pattern:"^[0-9]*$",min:u,onChange:e=>{const t=parseInt(e.target.value);l(t<u?u:t)},required:!0,placeholder:"40"})]}),(0,og.jsxs)("label",{children:["Begin with:",(0,og.jsx)("input",{type:"number",className:sk,value:u,min:0,pattern:"^[0-9]*$",onChange:e=>{const t=parseInt(e.target.value);c(t>o?o:t)},required:!0})]}),(0,og.jsx)("button",{className:ik,type:"submit",children:"Add step"})]})},ok=e=>{let{goalID:n}=e;const{addDocument:r}=Vy("goalSteps"),[i,s]=(0,t.useState)(""),a=jw();return(0,og.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={type:"boolean",description:i,progress:0};a?a.addStepInNewGoal(t):r({...t,goalID:n}),s("")},className:rk,children:[(0,og.jsxs)("label",{children:["Description:",(0,og.jsx)("input",{className:sk,type:"text",placeholder:"Is something done or not?",value:i,onChange:e=>{s(e.target.value)},required:!0})]}),(0,og.jsx)("button",{className:ik,type:"submit",children:"Add step"})]})},lk=e=>{let{goalID:t}=e;return(0,og.jsx)("div",{className:RS,children:(0,og.jsxs)(nk.Group,{children:[(0,og.jsxs)("p",{className:LS,children:["Break down your target into little steps ",(0,og.jsx)("br",{}),"How would you like to follow the progress of this step?"]}),(0,og.jsx)(nk.List,{className:OS,children:e=>{let{selectedIndex:t}=e;return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)(nk,{className:`${MS} ${0===t&&jS}`,children:"Number"}),(0,og.jsx)(nk,{className:`${MS} ${1===t&&jS}`,children:"True or False"}),(0,og.jsx)(nk,{className:`${MS} ${2===t&&jS}`,children:"Task"})]})}}),(0,og.jsxs)(nk.Panels,{children:[(0,og.jsx)(nk.Panel,{as:"div",children:(0,og.jsx)(ak,{goalID:t})}),(0,og.jsx)(nk.Panel,{as:"div",children:(0,og.jsx)(ok,{goalID:t})}),(0,og.jsx)(nk.Panel,{as:"div",children:(0,og.jsx)(D_,{showSpaceSelect:!0,className:FS,goalID:t,addGoalStep:!0})})]})]})})},uk="Steps_gsTable__xwfdO",ck="Steps_taskStep__bYgpc",dk="Steps_descriptionCell__EtFR4",hk="Steps_numberInputCell__C3nTH",fk="Steps_smallCell__HbAUw",pk="Steps_booleanStatusCell__8bD-a",mk="Steps_dueDate__E5Fpt",gk="Steps_centerCell__yDYEC",vk="Steps_icon__8dqSK",yk=e=>{let t={progress:1===e.progress?0:1};return"number"===e.type?{...t,value:e.target}:t},bk=e=>{let{goalStep:t}=e;const{updateDocument:n}=Vy("goalSteps"),r=jw();return(0,og.jsx)("input",{type:"checkbox","aria-label":"Mark or unmark goalstep as checked",checked:1===t.progress,onChange:()=>{r?r.updateStepInNewGoal(t.id,yk(t)):n(t.id,yk(t))}})},wk="GoalStepSwitch_goalStepSwitch__13pAc",_k="GoalStepSwitch_switchInnerEnabled__Jsntt",Sk="GoalStepSwitch_switchInnerDisabled__T2r-a",kk=e=>{let{goalStep:t}=e;const{updateDocument:n}=Vy("goalSteps"),r=jw();return(0,og.jsx)(Jw,{className:wk,checked:1===t.progress,onChange:()=>{const e={progress:1===t.progress?0:1};r&&r.updateStepInNewGoal(t.id,e),n(t.id,e)},"aria-label":"Check or uncheck current step as completed",children:(0,og.jsx)("span",{className:1===t.progress?_k:Sk})})},Ek="GoalStepDeleteBtn_deleteGoalStepBtn__PXZUv",xk=e=>{let{goalStep:t}=e;const{removeDocument:n}=Vy("goalSteps"),r=jw();return(0,og.jsx)("button",{className:Ek,"aria-label":"Delete goal step",onClick:e=>{e.stopPropagation(),r?r.removeStepInNewGoal(t.id):n(t.id)}})},Tk=e=>{let{step:t}=e;return(0,og.jsxs)("tr",{children:[(0,og.jsx)("td",{className:fk,children:(0,og.jsx)(bk,{goalStep:t})}),(0,og.jsx)("td",{className:pk,children:1===t.progress?"True":"False"}),(0,og.jsx)("td",{className:dk,children:t.description}),(0,og.jsx)("td",{colSpan:2,children:(0,og.jsx)(kk,{goalStep:t})}),(0,og.jsx)("td",{className:fk,children:(0,og.jsx)(xk,{goalStep:t})})]})},Ik="GoalStepNumberInputs_goalStepNumberInputs__DgrP5",Ck="GoalStepNumberInputs_valueInput__G+gJL",Dk="GoalStepNumberInputs_targetInput__1Quy5",Nk=e=>{let{goalStep:{value:t,target:n,id:r}}=e;const{updateDocument:i}=Vy("goalSteps"),s=jw();return(0,og.jsxs)("div",{className:Ik,children:[(0,og.jsx)("input",{className:Ck,type:"number","aria-label":"Current number step value",max:n,value:t,onChange:e=>{const t=((e,t)=>{const n=parseInt(e);return""===e||n<0?{value:0}:n<t?{value:n,progress:n/t}:n>=t?{value:t,progress:1}:{}})(e.target.value,n);s?s.updateStepInNewGoal(r,t):i(r,t)}}),(0,og.jsx)("input",{className:Dk,type:"number","aria-label":"Current number step target",value:n,min:t,onChange:e=>{const n=((e,t,n)=>{const r=parseInt(e);return""===e?{target:0,value:0,progress:0}:r>t?{target:r,progress:t/r}:r<=t?{target:r,value:r,progress:1}:{}})(e.target.value,t);s?s.updateStepInNewGoal(r,n):i(r,n)}})]})},Ak="GoalStepNumButtons_decButton__9+2IM",Pk="GoalStepNumButtons_incButton__cuq+l",Rk="GoalStepNumButtons_numButton__25JKP",Ok=e=>{let{goalStep:{id:t,value:n,target:r,progress:i}}=e;const{updateDocument:s}=Vy("goalSteps"),a=jw();return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("button",{onClick:()=>{const e=((e,t,n)=>e+1<t&&1!==n?{value:e+1,progress:e/t}:e+1===t&&1!==n?{value:t,progress:1}:{})(n,r,i);a?a.updateStepInNewGoal(t,e):s(t,e)},className:`${Pk} ${Rk}`,"aria-label":"Increment current value by one",children:"+"}),(0,og.jsx)("button",{onClick:()=>{const e=((e,t)=>e>0&&t>=e?{value:e-1,progress:(e-1)/t}:{})(n,r);a?a.updateStepInNewGoal(t,e):s(t,e)},className:`${Ak} ${Rk}`,"aria-label":"Decrement current value by one",children:"-"})]})},Mk=e=>{let{step:t}=e;return(0,og.jsxs)("tr",{children:[(0,og.jsx)("td",{className:fk,children:(0,og.jsx)(bk,{goalStep:t})}),(0,og.jsx)("td",{className:hk,children:(0,og.jsx)(Nk,{goalStep:t})}),(0,og.jsx)("td",{className:dk,children:t.description}),(0,og.jsx)("td",{colSpan:2,className:gk,children:(0,og.jsx)(Ok,{goalStep:t})}),(0,og.jsx)("td",{className:fk,children:(0,og.jsx)(xk,{goalStep:t})})]})},Lk=e=>{let{step:n,task:r}=e;const i=(0,t.useRef)(null),{linkAttributes:s}=Xy(r,i);return(0,og.jsx)("tr",{className:ck,ref:i,...s,children:r&&(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("td",{className:fk,children:(0,og.jsx)(bk,{goalStep:n})}),(0,og.jsx)("td",{className:hk,children:(0,og.jsx)("div",{className:vk,children:(0,og.jsx)(rw,{task:r})})}),(0,og.jsx)("td",{className:dk,children:r.description}),(0,og.jsx)("td",{className:mk,children:r.dueDate?ry().unix(r.dueDate).format("DD/MM"):" "}),(0,og.jsx)("td",{className:fk,children:(0,og.jsx)(ab,{task:r})}),(0,og.jsx)("td",{className:fk,children:(0,og.jsx)(rb,{task:r})})]})})},jk=e=>{let{steps:t}=e;const{tasks:n}=ay();return(0,og.jsxs)("table",{className:uk,children:[(0,og.jsx)("caption",{children:"Current goal steps"}),(0,og.jsx)("tbody",{children:void 0!==t&&0!==t.length?t.map((e=>"task"===e.type?(0,og.jsx)(Lk,{task:null===n||void 0===n?void 0:n.find((t=>t.id===e.taskID)),step:e},e.id):"number"===e.type?(0,og.jsx)(Mk,{step:e},e.id):(0,og.jsx)(Tk,{step:e},e.id))):(0,og.jsx)("tr",{children:(0,og.jsx)("td",{children:"You have not created any steps yet"})})})]})},Fk=()=>{const e=R(),{addDocument:n}=Vy("goals"),{addDocument:r}=Vy("goalSteps"),i=jw(),[s,a]=(0,t.useState)("New Goal"),[o,l]=(0,t.useState)(null),[u,c]=(0,t.useState)("");return(0,t.useEffect)((()=>{o&&(null===i||void 0===i||i.steps.forEach((e=>{delete e.id,r({...e,goalID:o.id})})),e(-1))}),[o]),(0,og.jsxs)(Cy,{title:"Goals",children:[(0,og.jsxs)("form",{className:NS,id:"newGoalForm",onSubmit:e=>{e.preventDefault();n({title:s,description:u}).then((e=>e&&l(e)))},children:[(0,og.jsxs)("label",{children:["Title:",(0,og.jsx)("input",{className:`${PS} ${AS}`,type:"text",maxLength:25,required:!0,value:s,onChange:e=>{a(e.target.value)}})]}),(0,og.jsxs)("label",{children:["Description: (optional)",(0,og.jsx)("input",{className:PS,type:"text",maxLength:200,value:u,onChange:e=>{c(e.target.value)}})]}),(0,og.jsx)(jk,{steps:null===i||void 0===i?void 0:i.steps})]}),(0,og.jsx)(lk,{}),(0,og.jsx)("button",{className:DS,type:"submit",form:"newGoalForm",children:"Save new goal"})]})},Uk="GoalPage_openAddStepsBtn__5Pao3",Vk="GoalPage_subHeader__31bDd",Bk="GoalPage_goalTitle__PfZna",$k="GoalPage_goalProgress__5juMA",zk="GoalPage_description__Pu0KI",Hk="GoalDeleteModal_openModalButton__S0r0b",qk=e=>{let{goal:n}=e;const[r,i]=(0,t.useState)(!1),s=R(),{goalSteps:a}=ay(),{removeDocument:o}=Vy("goals"),{removeDocument:l}=Vy("goalSteps");return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("button",{className:Hk,type:"button",onClick:()=>{i(!0)},children:"Delete Goal"}),(0,og.jsx)(qy,{isOpen:r,setIsOpen:i,title:"Remove Goal",description:"This action will pernamently remove this status and all associated with it steps, including tasks displayed in other part of application",handleDeleteBtnClick:()=>{o(n.id),null===a||void 0===a||a.filter((e=>e.goalID===n.id)).forEach((e=>{l(e.id)})),s(-1)}})]})},Gk=()=>{const{goalID:e}=M(),{goals:n,goalSteps:r}=ay(),[i,s]=(0,t.useState)(!1),a=null===r||void 0===r?void 0:r.filter((t=>t.goalID===e)),o=null===n||void 0===n?void 0:n.find((t=>t.id===e)),l=Ry(a);return(0,og.jsx)(Cy,{title:"Goals",children:o&&(0,og.jsxs)(og.Fragment,{children:[(0,og.jsxs)("div",{className:Vk,children:[(0,og.jsx)("h2",{className:Bk,children:o.title}),(0,og.jsxs)("span",{children:["Progress:",(0,og.jsxs)("span",{className:$k,children:[l.toFixed(),"%"]})]})]}),(0,og.jsx)(jk,{steps:a}),o.description&&(0,og.jsx)("p",{className:zk,children:o.description}),i?(0,og.jsx)(lk,{goalID:e}):(0,og.jsx)("button",{className:Uk,onClick:()=>{s(!0)},children:"Add more steps"}),(0,og.jsx)(qk,{goal:o})]})})},Yk="DayCal_tableContainer__crGOQ",Wk="DayCal_taskCard__cZbLn",Kk="DayCal_smallCell__Xv39c",Qk="DayCal_grid__U42Xl",Xk="DayCal_gridIndent__tXvtt",Jk="DayCal_timeSpan__XNboN",Zk=e=>{var n;let{task:r,date:i}=e;const{statuses:s}=ay(),a=(0,t.useRef)(null),{linkAttributes:o}=Xy(r,a),l=ry().unix(r.fromDate),u=ry().unix(r.dueDate);return(0,og.jsx)("div",{ref:a,...o,className:Wk,style:{gridRowStart:l.isSame(i,"day")?l.hour()+1:1,gridRowEnd:u.isSame(i,"day")?u.hour()+1:25,backgroundColor:null===s||void 0===s||null===(n=s.find((e=>r.statusId===e.id)))||void 0===n?void 0:n.color},children:(0,og.jsxs)("p",{children:[r.description,(0,og.jsx)("br",{}),(0,og.jsxs)("span",{className:Jk,children:[l.format("HH:mm"),"-",u.format("HH:mm"),(0,og.jsx)("br",{}),l.format("DD/MM/RRRR")!==u.format("DD/MM/RRRR")&&(0,og.jsxs)(og.Fragment,{children:[l.format("DD/MM"),"-",u.format("DD/MM"),(0,og.jsx)("br",{})]})]})]})})};const eE=n.p+"static/media/arrowLeft.be2ece8c5bea4b6ed845e2fe4cf4da3c.svg";const tE=n.p+"static/media/arrowRight.1ec9cfe9e3aa1c48651cdf3bdad83cb3.svg",nE=e=>e.charAt(0).toUpperCase()+e.slice(1),rE=e=>{let{move:t,by:n,date:r}=e;return(0,og.jsxs)(K,{to:"back"===t?`../../${r.subtract(1,n).format("DD-MM-YYYY")}/${nE(n)}`:`../../${r.add(1,n).format("DD-MM-YYYY")}/${nE(n)}`,replace:!0,"aria-label":`move ${t} to ${"forward"===t?"next":"previous"}  ${n}`,children:["back"===t&&(0,og.jsx)("img",{src:eE,alt:"move back arrow"}),"forward"===t&&(0,og.jsx)("img",{src:tE,alt:"move forward arrow"})]})},iE=e=>{let{moveBy:t,dateHeader:n}=e;const{date:r}=Z_();return(0,og.jsxs)("div",{className:Y_,children:[(0,og.jsx)(rE,{by:t,move:"back",date:r}),(0,og.jsx)("h2",{children:n}),(0,og.jsx)(rE,{by:t,move:"forward",date:r}),(0,og.jsx)(nw,{className:W_,buttonText:"Add new task",children:(0,og.jsx)(D_,{className:X_,showDateInputs:!0,showSpaceSelect:!0,defaultDate:r})})]})},sE=()=>{const{date:e}=Z_(),{tasks:t}=ay(),n=aw(e),r=t&&ow(t,n);return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)(iE,{moveBy:"day",dateHeader:e.format("dddd DD/MM/YY")}),(0,og.jsxs)("div",{className:Yk,children:[(0,og.jsx)("table",{children:(0,og.jsx)("tbody",{children:n.map((e=>(0,og.jsxs)("tr",{children:[(0,og.jsx)("td",{className:Kk,children:e.format("HH:00")}),(0,og.jsx)("td",{})]},e.hour())))})}),(0,og.jsxs)("div",{className:Qk,children:[(0,og.jsx)("div",{className:Xk}),null===r||void 0===r?void 0:r.map((t=>(0,og.jsx)(Zk,{task:t,date:e},t.id)))]})]})]})},aE="WeekCal_tableContainer__Kp2CT",oE="WeekCal_taskCard__3U-1A",lE="WeekCal_tableHeaders__epVy9",uE="WeekCal_calendarWrapper__q09Cy",cE="WeekCal_smallCell__YDmKR",dE="WeekCal_grid__wgPPL",hE="WeekCal_weekDayGrid__F4Eja",fE="WeekCal_gridEmptyColumn__c5W72",pE=(e,t)=>e.filter((e=>{if(!e.dueDate||!e.fromDate)return!1;let n=!1;const r=ry().unix(e.fromDate),i=ry().unix(e.dueDate),s=[];for(let a=0;a<24;a++)s.push(t.hour(a));return s.forEach((e=>{(e.isBetween(r,i)||e.isSame(i,"hour"))&&(n=!0)})),n}));var mE=n(334),gE=n.n(mE);ry().extend(gE());const vE=e=>{const t=[];for(let n=0;n<7;n++)t.push(e.weekday(n));return t};var yE=n(818),bE=n.n(yE);ry().extend(bE());const wE=e=>{var n;let{task:r,date:i}=e;const s=(0,t.useRef)(null),{linkAttributes:a}=Xy(r,s),{statuses:o}=ay(),l=ry().unix(r.fromDate),u=ry().unix(r.dueDate);return(0,og.jsx)("div",{ref:s,...a,className:oE,style:{gridRowStart:l.isSame(i,"day")?l.hour()+1:1,gridRowEnd:u.isSame(i,"day")?u.hour()+1:25,backgroundColor:null===o||void 0===o||null===(n=o.find((e=>e.id===r.statusId)))||void 0===n?void 0:n.color},children:(0,og.jsx)("p",{children:r.description})})},_E=()=>{const{date:e}=Z_(),{tasks:t}=ay(),n=vE(e),r=aw(e);return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)(iE,{moveBy:"week",dateHeader:`${n[0].format("DD/MM/YY")} - ${n[6].format("DD/MM/YY")}`}),(0,og.jsxs)("div",{className:uE,children:[(0,og.jsxs)("div",{className:lE,children:[(0,og.jsx)("span",{}),n.map((e=>(0,og.jsx)(K,{to:`../../${e.format("DD-MM-YYYY")}/Day`,children:e.format("dddd").toUpperCase()},e.date())))]}),(0,og.jsxs)("div",{className:aE,children:[(0,og.jsx)("table",{children:(0,og.jsx)("tbody",{children:r.map((e=>(0,og.jsxs)("tr",{children:[(0,og.jsx)("td",{className:`${cE}`,children:e.format("HH:00")}),n.map((e=>(0,og.jsx)("td",{},e.date())))]},e.hour())))})}),(0,og.jsx)("div",{className:dE,children:(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)("div",{className:fE}),n.map((e=>(0,og.jsx)("div",{className:hE,children:t&&pE(t,e).map((t=>(0,og.jsx)(wE,{task:t,date:e},t.id)))},e.date())))]})})]})]})]})},SE="MonthCal_taskBadge__evQd9",kE="MonthCal_week__X6xvh",EE="MonthCal_day__NfSh+",xE="MonthCal_calendarWrapper__ePjQr",TE="MonthCal_weekDayHeader__Zh3s0",IE="MonthCal_taskBadgeContainer__D9NKK",CE=(e,t)=>e.filter((e=>{if(!e.dueDate||!e.fromDate)return!1;let n=!1;const r=ry().unix(e.fromDate),i=ry().unix(e.dueDate);return(t.format("DD/MM/YYYY")===r.format("DD/MM/YYYY")||t.format("DD/MM/YYYY")===i.format("DD/MM/YYYY")||t.isBetween(r,i))&&(n=!0),n})),DE=e=>{var n;let{task:r}=e;const{statuses:i}=ay(),s=(0,t.useRef)(null),{linkAttributes:a}=Xy(r,s);return(0,og.jsx)("div",{ref:s,...a,style:{backgroundColor:null===i||void 0===i||null===(n=i.find((e=>e.id===r.statusId)))||void 0===n?void 0:n.color},className:SE})},NE=()=>{const e=R(),{date:t}=Z_(),{tasks:n}=ay(),r=(e=>{const t=[];for(let n=1;n<e.daysInMonth()+1;n++)t.push(e.date(n));return t})(t),i=vE(t),s=r.map((e=>e.week())).filter(((e,t,n)=>n.indexOf(e)===t));return(0,og.jsxs)(og.Fragment,{children:[(0,og.jsx)(iE,{moveBy:"month",dateHeader:t.format("MMMM YYYY")}),(0,og.jsxs)("div",{className:xE,children:[(0,og.jsx)("div",{className:kE,children:i.map((e=>(0,og.jsx)("div",{className:TE,children:e.format("dddd").toUpperCase()},e.date())))}),s.map((t=>(0,og.jsx)("div",{className:kE,children:r.filter((e=>e.week()===t)).map((t=>(0,og.jsxs)("div",{className:EE,tabIndex:0,"aria-label":`Click to move to ${t.format("YYYY-MM-DD")} day in calendar`,onClick:()=>{(t=>{e(`../../${t.format("DD-MM-YYYY")}/Day`)})(t)},onKeyDown:n=>{((t,n)=>{"Space"!==t.key&&"Enter"!==t.key||e(`../../${n.format("DD-MM-YYYY")}/Day`)})(n,t)},role:"link",children:[(0,og.jsx)("span",{children:t.format("YYYY-MM-DD")}),(0,og.jsx)("div",{className:IE,children:n&&CE(n,t).map((e=>(0,og.jsx)(DE,{task:e},e.id)))})]},t.date())))},t)))]})]})},AE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),s=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=$m(Zp(ag,"urls"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Om("orderBy",e);return new Hm(n,t)}("timestamp")),t=eg(e,(e=>{n(e.docs.map((e=>({id:e.id,data:{url:e.data().url,timestamp:e.data().timestamp.toDate()}}))))}));return()=>t()}),[]),(0,t.useEffect)((()=>{s.current&&s.current.scrollIntoView({behavior:"smooth"})}),[e]);return(0,og.jsx)(Cy,{title:"Test",children:(0,og.jsxs)("div",{className:"w-full max-w-xl bg-black rounded-lg shadow-lg p-4 flex flex-col transition-all",style:{maxHeight:e.length>0?"70vh":"200px",overflowY:"auto"},children:[(0,og.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Colect and store websites at one place"}),(0,og.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r.trim()){const e=r.startsWith("http://")||r.startsWith("https://")?r:`https://${r}`;await Zm(Zp(ag,"urls"),{url:e,timestamp:new Date}),i("")}},className:"flex items-center mb-4",children:[(0,og.jsx)("input",{value:r,onChange:e=>{i(e.target.value)},type:"text",className:"flex-grow rounded-l-lg p-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Add a new URL...",required:!0}),(0,og.jsx)("button",{type:"submit",className:"bg-green-500 text-black px-4 py-2 rounded-r-lg hover:bg-green-600 transition-colors",children:"Add"})]}),(0,og.jsx)("main",{className:"flex-grow overflow-y-auto",children:(0,og.jsxs)(og.Fragment,{children:[e.map((t=>{let{id:r,data:i}=t;return(0,og.jsxs)("div",{className:"mb-2 p-2 rounded-lg bg-gray-800 flex justify-between items-center",children:[(0,og.jsx)("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-green-500 hover:underline",children:i.url}),(0,og.jsx)("button",{onClick:()=>(async t=>{const r=em(ag,"urls",t);await Jm(r),n(e.filter((e=>e.id!==t)))})(r),className:"ml-4 text-red-500 hover:text-red-700",children:"Delete"})]},r)})),(0,og.jsx)("div",{ref:s})]})})]})})};function PE(){const{user:e,authReady:n}=(0,t.useContext)(ug);return(0,og.jsxs)(og.Fragment,{children:[n&&(0,og.jsx)(og.Fragment,{children:e?(0,og.jsx)(vg,{uid:e.uid,children:(0,og.jsxs)($,{children:[(0,og.jsxs)(V,{path:"Dashboard",children:[(0,og.jsx)(V,{path:":taskID",element:(0,og.jsx)(CS,{})}),(0,og.jsx)(V,{index:!0,element:(0,og.jsx)(hw,{})})]}),(0,og.jsx)(V,{path:"List",element:(0,og.jsx)(U_,{})}),(0,og.jsx)(V,{path:"Board",element:(0,og.jsx)(H_,{})}),(0,og.jsx)(V,{path:"Calendar",element:(0,og.jsx)(eS,{}),children:(0,og.jsxs)(V,{path:":date",children:[(0,og.jsx)(V,{element:(0,og.jsx)(sE,{}),path:"Day"}),(0,og.jsx)(V,{element:(0,og.jsx)(_E,{}),path:"Week"}),(0,og.jsx)(V,{element:(0,og.jsx)(NE,{}),path:"Month"})]})}),(0,og.jsxs)(V,{path:"Goals",children:[(0,og.jsx)(V,{path:"NewGoal",element:(0,og.jsx)(Lw,{children:(0,og.jsx)(Fk,{})})}),(0,og.jsx)(V,{path:":goalID",element:(0,og.jsx)(Gk,{})}),(0,og.jsx)(V,{index:!0,element:(0,og.jsx)(nS,{})})]}),(0,og.jsx)(V,{path:"Test",element:(0,og.jsx)(AE,{})}),(0,og.jsx)(V,{path:"*",element:(0,og.jsx)(F,{to:"/Dashboard",replace:!0})})]})}):(0,og.jsxs)($,{children:[(0,og.jsx)(V,{path:"/",element:(0,og.jsx)(yS,{})}),(0,og.jsx)(V,{path:"*",element:(0,og.jsx)(F,{to:"/",replace:!0})})]})}),(0,og.jsx)(ty,{})]})}var RE=n(25),OE=n.n(RE),ME=n(808),LE=n.n(ME),jE=n(216),FE=n.n(jE);ry().locale(OE()),ry().extend(LE()),ry().extend(FE());r.createRoot(document.getElementById("root")).render((0,og.jsx)(t.StrictMode,{children:(0,og.jsx)(fg,{children:(0,og.jsx)(dg,{children:(0,og.jsx)(W,{children:(0,og.jsx)(PE,{})})})})}))})()})();
//# sourceMappingURL=main.54864c4f.js.map